<html>
<head>
  <title>Evernote Export</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/277494; Windows/10.0.10240 (Win64);"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="566"/>

<div>
<span><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><span style="font-weight: normal;"><font size="3"><u><b>Best practices, recommendations and notes to publicly share on Internet. Summary</b></u></font></span></div><ul><li><b><font size="3"><span style="font-weight: normal;"><a title="Permalink to Downloads page added. Red Hat Enterprise Linux 6.3 installation / deployment on DELL PowerEdge R720, Data VG detached from System VG (LVM2) &amp; KVM virtualization with qcow2&nbsp;pre-allocation">Red Hat Enterprise Linux 6.3 remote installation/deployment on DELL PowerEdge R720 (12th Generation)</a></span></font></b></li><li><b><font size="3"><span style="font-weight: normal;"><a title="Permalink to Downloads page added. Red Hat Enterprise Linux 6.3 installation / deployment on DELL PowerEdge R720, Data VG detached from System VG (LVM2) &amp; KVM virtualization with qcow2&nbsp;pre-allocation">VG Data detached from VG System (LVM2)</a></span></font></b></li><li><b><font size="3"><span style="font-weight: normal;"><a title="Permalink to Downloads page added. Red Hat Enterprise Linux 6.3 installation / deployment on DELL PowerEdge R720, Data VG detached from System VG (LVM2) &amp; KVM virtualization with qcow2&nbsp;pre-allocation">Do not place /usr on a separate filesystem</a></span></font></b></li><li><b><font size="3"><span style="font-weight: normal;"><a title="Permalink to Downloads page added. Red Hat Enterprise Linux 6.3 installation / deployment on DELL PowerEdge R720, Data VG detached from System VG (LVM2) &amp; KVM virtualization with qcow2&nbsp;pre-allocation">KVM virtualization/hypervisor with qcow2 pre-allocation on local storage for running WebApp services</a></span></font></b></li><li><b><font size="3"><span style="font-weight: normal;"><a title="Permalink to Downloads page added. Red Hat Enterprise Linux 6.3 installation / deployment on DELL PowerEdge R720, Data VG detached from System VG (LVM2) &amp; KVM virtualization with qcow2&nbsp;pre-allocation">DELL OpenManage/OMSA 7 deployment</a></span></font></b></li><li><b><font size="3"><span style="font-weight: normal;"><a title="Permalink to Downloads page added. Red Hat Enterprise Linux 6.3 installation / deployment on DELL PowerEdge R720, Data VG detached from System VG (LVM2) &amp; KVM virtualization with qcow2&nbsp;pre-allocation">RHEL 6.3 performance analysis script, performance tools</a></span></font></b></li><li><b><font size="3"><span style="font-weight: normal;"><a title="Permalink to Downloads page added. Red Hat Enterprise Linux 6.3 installation / deployment on DELL PowerEdge R720, Data VG detached from System VG (LVM2) &amp; KVM virtualization with qcow2&nbsp;pre-allocation">Testing COLT's low latency Fiber Ethernet WAN, data migration with rsync</a></span></font></b></li><li><b><font size="3"><span style="font-weight: normal;"><a title="Permalink to Downloads page added. Red Hat Enterprise Linux 6.3 installation / deployment on DELL PowerEdge R720, Data VG detached from System VG (LVM2) &amp; KVM virtualization with qcow2&nbsp;pre-allocation">Tomcat7 tuning</a></span></font></b></li><li><b><font size="3"><span style="font-weight: normal;"><a title="Permalink to Downloads page added. Red Hat Enterprise Linux 6.3 installation / deployment on DELL PowerEdge R720, Data VG detached from System VG (LVM2) &amp; KVM virtualization with qcow2&nbsp;pre-allocation">User accounts management</a></span></font></b></li><li><b><font size="3"><span style="font-weight: normal;"><a title="Permalink to Downloads page added. Red Hat Enterprise Linux 6.3 installation / deployment on DELL PowerEdge R720, Data VG detached from System VG (LVM2) &amp; KVM virtualization with qcow2&nbsp;pre-allocation">LVM2/ext4 filesystem management</a></span></font></b></li><li><b><font size="3"><span style="font-weight: normal;"><a title="Permalink to Downloads page added. Red Hat Enterprise Linux 6.3 installation / deployment on DELL PowerEdge R720, Data VG detached from System VG (LVM2) &amp; KVM virtualization with qcow2&nbsp;pre-allocation">JMeter Load Testing</a>  </span> </font></b></li></ul><div><br/></div><div>The views expressed anywhere on this site are strictly mine and not the opinions and views of my employers.</div><div>August 2012</div><div>Madrid, Spain</div><div><br/></div><div><span lang="en"><b><u>Table of Contents:</u></b> </span></div><div><ol><li style="font-size: 12px;">Introduction. Remote Deployment Procedure of RHEL6.3 x86_64 on Dell PowerEdge R720 (12th Generation).<b> </b>KVM Hypervisor ('Virtual Host') with VMs on local storage for running WebApp services</li><li style="font-size: 12px;">Dell PowerEdge 12G Is Here</li><li style="font-size: 12px;">Dell TechCenter: Red Hat Enterprise Linux 6.3 on Dell PowerEdge servers (Features and Native drivers)</li><li style="font-size: 12px;">Dell TechCenter: UEFI Aware OS Deployment on Dell PowerEdge Servers using Unified Server Configurator (we will proceed with a traditional BIOS deployment)</li><li style="font-size: 12px;">Dell TechCenter: Getting Over the 2.2TB Bootable Storage Volume Limit in RHEL 6</li><li style="font-size: 12px;">support.dell.com Manuals. System Configuration Requirements for Installing Red Hat Enterprise Linux 6. Factory pre-installation settings (partition scheme not recommended)</li><li style="font-size: 12px;"><strike>Setting up N servers like one of them by cloning RAID 5 disks (Disk 0)</strike></li><li style="font-size: 12px;">iDRAC 7 (integrated Dell Remote Access Controller 7 with Lifecycle Controller)</li><li style="font-size: 12px;"><b>Factory pre-installation not recommended. Testing two deployment procedures with a fresh installation of RHEL6</b></li><li style="font-size: 12px;"><b>RAID Hardware performance optimization: recommended Stripe Size and Read/Write cache Policy </b></li><li style="font-size: 12px;">Operating System Support Matrix for Dell PowerEdge Servers</li><li style="font-size: 12px;">UEFI Boot vs BIOS Boot deployment </li><li style="font-size: 12px;"><b>Recommendation: Valid OS Deployment/Reinstallation Procedures on Dell PowerEdge R720 (we want a fresh installation)</b></li><li style="font-size: 12px;">Dell PowerEdge R720 BIOS - BIOS Boot Mode</li><li style="font-size: 12px;">Dell USC remote deployment via iDrac</li><li style="font-size: 12px;"><b>Recommendation: detaching VG Data from VG System (LVM2) on hypervisors and VMs. Do not place /usr on a separate file system</b></li><li style="font-size: 12px;"><b>Recommendation: DELL OpenManage/OMSA 7 deployment. </b><b>Update of drivers, BIOS &amp; firmware via DELL YUM repositories</b></li><li style="font-size: 12px;"><font><b>System Load and Performance Analysis via TOP/HTOP knowing the number of processor cores available</b></font></li><li style="font-size: 12px;"><font><b>Recommendation: Disk Partitioning and LVM2 scheme in Virtual Machines with RHEL6.3 x86_64 (VG System and VG Data)</b></font></li><li style="font-size: 12px;"><b>Recommendation: macvtap in VM Network settings</b></li><li style="font-size: 12px;"><b>Máquinas virtuales y balanceo de sesiones HTTP</b></li><li style="font-size: 12px;"><b>KVM Virtualization in RHEL6 Made Easy (pdfs)</b></li><li style="font-size: 12px;"><b>Recommendation: qcow2 VM disk image pre-allocation</b></li><li style="font-size: 12px;">virsh - kvm commands</li><li style="font-size: 12px;">virt-resize - Resize a virtual machine disk</li><li style="font-size: 12px;">Interesting CLI commands</li><li style="font-size: 12px;"><b>Red Hat Enterprise Linux Performance Tuning Guide (presentations)</b></li><li style="font-size: 12px;"><b>RHEL 6 Performance Tuning Guide, Performance Features, Monitoring and Analyzing, Application Profiles, support for perf-kvm in RHEL6.3</b></li><li style="font-size: 12px;"><b>Performance analysis script for RHEL6.3. htop, iotop, tiobench &amp; sar</b></li><li style="font-size: 12px;"><b>System performance tools: </b><b>byte-unixbench, mbw, iozone, iperf, dstat, pgbench, Hadoop wordcount</b></li><li style="font-size: 12px;"><b>seeker: Measuring disk performance in Virtual Machines</b></li><li style="font-size: 12px;">dropwatch: A monitoring utility that monitors packets dropped by the kernel.</li><li style="font-size: 12px;"><b>Network Latency Analysis. Testing Colt's low latency and high bandwidth transport Fiber Ethernet WAN </b></li><li style="font-size: 12px;">tc command: adds latency to NIC for testing purposes</li><li style="font-size: 12px;">'tracepath' in Linux is like 'route get' in Solaris</li><li style="font-size: 12px;">Using MTR To Detect Network Congestion </li><li style="font-size: 12px;">Kernel tuning</li><li style="font-size: 12px;"><b>KVM Tuning</b></li><li style="font-size: 12px;">External Storage: LUNS</li><li style="font-size: 12px;"><b>RSYNC Commands: Solaris to Linux data migration, VMs cloning between hypervisors </b></li><li style="font-size: 12px;">A quick way to find recently changed files</li><li style="font-size: 12px;"><b>Recommendation Tomcat7 tuning: ulimit, file-max, tomcat connectionTimeout &amp; Garbage Collector in Oracle's Java 6 (Hotspot)</b></li><li style="font-size: 12px;"><b>Recommendation: non-root ports &gt; 1024 for balanced Apache. UID and GID &gt; 1000 for apache and tomcat processes</b></li><li style="font-size: 12px;"><b>Recommendation: User accounts management and security</b></li><li style="font-size: 12px;"><b>Automation of non-centralized user accounts management with shell scripting. Inventory and colog.sh scripts</b></li><li style="font-size: 12px;"><b>Shell scripting automation: filesystems and LVM2 creation for SAP modules/applications. vgcfgbackup/vgcfgrestore</b></li><li style="font-size: 12px;">Recommendation: 'UseDNS no' in /etc/ssh/sshd_config (internal addresses)</li><li style="font-size: 12px;"><b>Recommendation: Configuration example of hardware HTTP balancers with non-root ports for Apache</b></li><li style="font-size: 12px;"><b>netstat commands</b></li><li style="font-size: 12px;">LVM2 tips</li><li style="font-size: 12px;"><b>Online Resizing of LVM2 ext4 File Systems. Offline Filesystem Shrink in production VM</b></li><li style="font-size: 12px;">Example: Logical Volume and Filesystem creation for SQUID </li><li style="font-size: 12px;">Disable SELinux in VM and Physical Machines</li><li style="font-size: 12px;">Avoiding SSL passphrase dialog in Apache-SSL</li><li style="font-size: 12px;"><b>sudo and Upstart scripts for Apache and Tomcat</b></li><li style="font-size: 12px;">Securing Apache</li><li style="font-size: 12px;">Instalación y Workaround de JBoss AS 7.1.1 en Fedora 17</li><li style="font-size: 12px;">NTP: Sincronización horaria de los servidores</li><li style="font-size: 12px;">Primary and Secondary internal DNS servers. Internet and intranet Bind config files</li><li style="font-size: 12px;">Network settings in /etc/sysconfig, 'setup' command (RHEL licence,SysV init, firewall,etc)</li><li style="font-size: 12px;">How to disable Ipv6</li><li style="font-size: 12px;">Installing latest Apache 2.4.x and Tomcat 7 from Source instead of RHEL Yum repository for better performance </li><li style="font-size: 12px;">Apache and Tomcat migration: updating config files on multiple instances with sed</li><li style="font-size: 12px;">Shell script for searching and replacing an IP address on multiple config files within specific directories (recursively)</li><li style="font-size: 12px;">Multiple Search/Replace Operations on Multiple Recursive Files (Perl script)</li><li style="font-size: 12px;"><b><b style="text-align: -webkit-left;"><span style="text-align: -webkit-auto;">SNMP commands: </span></b>Retrieving Performance Data over SNMP</b></li><li style="font-size: 12px;"><b>Setting up Libvirt-snmp</b></li><li style="font-size: 12px;"><font><span style="text-align: -webkit-left;">SNMP Monitoring:</span> lib</font>virt-snmp ZenOSS</li><li style="font-size: 12px;"><b>JMeter load testing tool</b></li><li style="font-size: 12px;">JMeter questions/answers from forums</li><li style="font-size: 12px;">JavaEE Performance monitoring tools</li><li style="font-size: 12px;">Java Performance tools &amp; tutorial: Memory and Runtime Analysis</li><li style="font-size: 12px;">Performance testing tools in the cloud</li><li style="font-size: 12px;">Blogs and Links with Uptime &amp; Performance Tips</li><li style="font-size: 12px;">Network Performance Tools (bandwidth monitoring)</li><li style="font-size: 12px;">It’s the Hardware, idiot! Increasing MySQL Performance at Uptime &amp; Performance Tips</li><li style="font-size: 12px;">Speed up Firefox. A tweak to Firefox to allow it to load pages quicker, utilizing multiple connections to a single site</li><li style="font-size: 12px;">DELL Links</li><li style="font-size: 12px;">RHEV3 Links</li><li style="font-size: 12px;"><b>Red Hat Links</b></li><li style="font-size: 12px;">Fedora Links</li><li style="font-size: 12px;">Red Hat OpenShift Platform-as-a-Service (PaaS) and online IDEs in the cloud</li><li style="font-size: 12px;">2012 Red Hat Summit: Tuning &amp; Benchmarking JBoss, Red Hat Cloud Future &amp; Benefits, SELinux for Mere Mortals, Red Hat Enterprise Linux Roadmap</li><li style="font-size: 12px;">Red Hat CloudForms</li><li style="font-size: 12px;">Red Hat preview version of OpenStack (to be released in 2013)</li><li style="font-size: 12px;">Alternatives to Microsoft Sharepoint &amp; EMC Documentum (portal/CMS and collaboration platforms)</li><li style="font-size: 12px;">Continuous integraton, Web testing &amp; Issue Tracking (Project Management) Links</li><li style="font-size: 12px;">Improving, managing and measuring enterprise performance</li><li style="font-size: 12px;"><b>IT Blogs</b></li><li style="font-size: 12px;">Project Management Blogs</li><li style="font-size: 12px;"><b>New Technologies</b></li><li style="font-size: 12px;">Running Linux on Windows</li><li style="font-size: 12px;">Browser's Bookmark: Linux</li><li style="font-size: 12px;">Browser's Bookmark: Oracle</li><li style="font-size: 12px;">Browser's Bookmark: Python Programming</li><li style="font-size: 12px;">Server Backups </li><li style="font-size: 12px;">Books/eBooks</li><li style="font-size: 12px;">Source Code Repositories</li><li style="font-size: 12px;">IT Mailing Lists</li><li style="font-size: 12px;">Google Groups</li><li style="font-size: 12px;"><b>IT Forums</b></li><li style="font-size: 12px;">IT News</li><li style="font-size: 12px;"><b>Open Cloud: Open Source Cloud Computing. OpenStack vs CloudStack. Cloud 1.0 (IaaS, cloud management and CDN software). Cloud 2.0 (cloud based PaaS for developers, NoOps solutions)</b></li><li style="font-size: 12px;"><b>AWS Links</b></li><li style="font-size: 12px;"><b>Virtualization vs The Cloud: How do you decide?</b></li><li style="font-size: 12px;"><b>Cloud Application Performance Monitoring Challenges and Solutions</b></li><li style="font-size: 12px;">opml files with RSS feeds</li><li style="font-size: 12px;">Server wars: Open-source Java vs Weblogic and WebSphere</li><li style="font-size: 12px;">Programming Links</li></ol></div><div style="font-size: 12px;"><span lang="en"><br/></span></div><div><span lang="en"><br/></span></div><div style="font-size: 24px;"><span lang="en"><b>Introduction. Remote Deployment Procedure of RHEL6.3 x86_64 on Dell PowerEdge R720 (12th Generation). KVM Hypervisor ('Virtual Host') with VMs on local storage for running WebApp services</b></span></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;">El cliente ha comprado licencias de RHEL6 con soporte de varias máquinas virtuales KVM para los entornos WebApp (Apache y Tomcat7) de producción/desarrollo/preproducción en Servidores DELL PowerEdge R720. <b>Es una solución económica de VIRTUALIZACIÓN, y NO una solución de CLOUD COMPUTING</b> al estilo de VMware VShpere. <b>La solución equivalente a VMware VSphere en Red Hat sería RHEV3</b> (<a href="http://www.redhat.com/promo/rhev3/">http://www.redhat.com/promo/rhev3/</a>), una solución completa de Cloud Computing con soporte de almacenamiento SAN, migración de VMs en caliente (requiere SAN), y otras características típicas de un entorno escalable de Cloud Computing. </div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;">Para el entorno de BBDD se ha desplegado <b>Oracle 11g2 RAC</b> (gestionados con Oracle <b>ASMCA</b> incluyendo volúmenes de disco -LUNS- sin hacer uso de LVM2 de Linux) en servidores DELL PowerEdge R720 con RHEL5.7 (recomendable RHEL6.3) sin virtualización y con almacenamiento externo SAN de <b>NetApp</b>.</div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;">Duración del proyecto: 40 días. Con suerte este documento ayudará a otros a trabajar en proyectos similares y en menos días (con calidad).</div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><span lang="en"><font color="#1C3387">The customer purchased RHEL6 </font></span><span style="color: rgb(28, 51, 135);">licenses</span><span style="color: rgb(28, 51, 135);"> with </span><span style="color: rgb(28, 51, 135);">support</span><span style="color: rgb(28, 51, 135);"> of several <b>KVM</b> based</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">virtual machines</span><span style="color: rgb(28, 51, 135);"> for the</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">WebApp environment</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">(</span><span style="color: rgb(28, 51, 135);">Apache</span> <span style="color: rgb(28, 51, 135);">and</span> <span style="color: rgb(28, 51, 135);">Tomcat7</span><span style="color: rgb(28, 51, 135);">)</span><span style="color: rgb(28, 51, 135);"> on </span><span style="color: rgb(28, 51, 135);">production, </span><span style="color: rgb(28, 51, 135);">development and </span><span style="color: rgb(28, 51, 135);">preproduction</span> <span style="color: rgb(28, 51, 135);">on</span> <span style="color: rgb(28, 51, 135);">Dell PowerEdge</span> <span style="color: rgb(28, 51, 135);">R720 servers (3 physical servers/hypervisors)</span><span style="color: rgb(28, 51, 135);">.</span> <b><span style="color: rgb(28, 51, 135);">It is</span> <span style="color: rgb(28, 51, 135);">an economical </span><span style="color: rgb(28, 51, 135);">virtualization </span><span style="color: rgb(28, 51, 135);">solution</span><span style="color: rgb(28, 51, 135);">, NOT a</span><span style="color: rgb(28, 51, 135);"> full </span><span style="color: rgb(28, 51, 135);">cloud computing solution</span></b><span style="color: rgb(28, 51, 135);"> like</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">VMware</span> <span style="color: rgb(28, 51, 135);">VSphere</span><span style="color: rgb(28, 51, 135);">.</span> <span style="color: rgb(28, 51, 135);">The solution</span> <span style="color: rgb(28, 51, 135);">equivalent to</span> <span style="color: rgb(28, 51, 135);">VMware</span> <span style="color: rgb(28, 51, 135);">VSphere</span> <span style="color: rgb(28, 51, 135);">on Red</span> <span style="color: rgb(28, 51, 135);">Hat is</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);"><b>RHEV3</b></span> <span style="color: rgb(28, 51, 135);">(</span><span style="color: rgb(28, 51, 135);"><a href="http://www.redhat.com/promo/rhev3/">http://www.redhat.com/promo/rhev3/</a></span><span style="color: rgb(28, 51, 135);">)</span><span style="color: rgb(28, 51, 135);">, a</span> <span style="color: rgb(28, 51, 135);">cloud computing</span> <span style="color: rgb(28, 51, 135);">solution</span> <span style="color: rgb(28, 51, 135);">with</span> <span style="color: rgb(28, 51, 135);">SAN</span> <span style="color: rgb(28, 51, 135);">storage support</span><span style="color: rgb(28, 51, 135);">,</span><span style="color: rgb(28, 51, 135);"> live</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">migration of</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">VMs</span> <span style="color: rgb(28, 51, 135);">(requires</span> <span style="color: rgb(28, 51, 135);">SAN</span><span style="color: rgb(28, 51, 135);">)</span> <span style="color: rgb(28, 51, 135);">and other features</span> <span style="color: rgb(28, 51, 135);">typical</span><span style="color: rgb(28, 51, 135);"> in</span><span style="color: rgb(28, 51, 135);"> modern </span><span style="color: rgb(28, 51, 135);">cloud computing solutions</span><span style="color: rgb(28, 51, 135);">.</span></div><div style="font-size: 12px;"><span lang="en"><font color="#1C3387"><br/><b>Oracle 11g2 RAC</b> is set up on the backend and managed via <b>ORACLE ASMCA</b> including disks/LUNS management without using Linux LVM2 (only available for local storage with data like Oracle binaries and configuration). Oracle databases run on 2 DELL PowerEdge R720 servers with RHEL5.7 (RHEL6.3 </font></span><span style="color: rgb(28, 51, 135);">recommended</span><span style="color: rgb(28, 51, 135);">) and without virtualization.</span> <span style="color: rgb(28, 51, 135);"><b>NetApp</b></span> <span style="color: rgb(28, 51, 135);">SAN</span> <span style="color: rgb(28, 51, 135);">external storage allocates LUNS contaning Oracle's datafiles and redo logs</span><span style="color: rgb(28, 51, 135);">.</span></div><div style="font-size: 12px;"><span style="color: rgb(28, 51, 135);"><br/></span></div><div style="font-size: 12px;"><font color="#1C3387">Customer initially set up a first environment following this reference: <a href="http://www.howtoforge.com/virtualization-with-kvm-on-a-centos-6.3-server">http://www.howtoforge.com/virtualization-with-kvm-on-a-centos-6.3-server</a>, but IMHO this is out of date as RHEL 6.3 offers simpler features like Macvtap networking instead of the described bridge-utils procedure. This document details the procedures finally applied on customer's servers.</font></div><div style="font-size: 12px;"><font color="#1C3387"><br/></font></div><div style="font-size: 12px;"><font color="#1C3387">Project duration: 40 days. Hopefully this document will help others to work on similar projects in less time and fewer days (with quality).</font></div><div style="font-size: 12px;"><font color="#1C3387"><br/></font></div><div style="font-size: 12px;"><font color="#1C3387"><br/></font></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><div><div><h1><font size="3" style="font-size: 24px;">Dell PowerEdge 12G Is Here</font><font size="3" style="font-size: 12px;"> </font></h1></div><div style="font-size: 12px;"><a href="http://lonesysadmin.net/2012/03/06/dell-poweredge-12g-is-here/">http://lonesysadmin.net/2012/03/06/dell-poweredge-12g-is-here/</a> </div><div style="font-size: 12px;">Dell PowerEdge 12th Generation Servers <a href="http://content.dell.com/us/en/enterprise/d/campaigns/poweredge-12th-generation-servers-ple">http://content.dell.com/us/en/enterprise/d/campaigns/poweredge-12th-generation-servers-ple</a> </div><div style="font-size: 12px;">Embedded Lifecycle Management  <a href="http://content.dell.com/us/en/enterprise/dcsm-embedded-management.aspx">http://content.dell.com/us/en/enterprise/dcsm-embedded-management.aspx</a> </div><div style="font-size: 12px;"><a href="http://cathcam.wordpress.com/category/dell/poweredge-dell/">http://cathcam.wordpress.com/category/dell/poweredge-dell/</a> </div><p style="font-size: 12px;">by Bob Plankers on <abbr>March 6, 2012</abbr> · <a href="http://lonesysadmin.net/2012/03/06/dell-poweredge-12g-is-here/#comments" shape="rect" target="_blank">1 comment</a></p><p style="font-size: 12px;">in <a href="http://lonesysadmin.net/category/hardware-2/" shape="rect" target="_blank" title="View all posts in Hardware">Hardware </a>,<a href="http://lonesysadmin.net/category/system-administration/" shape="rect" target="_blank" title="View all posts in System Administration">System Administration </a>,<a href="http://lonesysadmin.net/category/virtualization/" shape="rect" target="_blank" title="View all posts in Virtualization">Virtualization</a></p></div><p style="font-size: 12px;"><a href="http://lonesysadmin.net/wp-content/uploads/2012/03/PowerEdge720.jpg" shape="rect" target="_blank"></a></p><div style="font-size: 12px;"><a href="http://lonesysadmin.net/wp-content/uploads/2012/03/PowerEdge720.jpg" shape="rect" target="_blank"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image.jpg" type="image/jpeg" height="242" style="cursor: default; height: auto;" width="673"/></a></div></div><div><p style="font-size: 12px;">Over the last week there’s been a number of different posts about the <b>new Dell PowerEdge models, the 12th generation (12G) of their server line</b>. I was briefed both by Dell technical staff and by Dell executive staff on the Rx20 lineup and I took a few notes. I was mainly briefed about the Dell PowerEdge R620, R720, R720xd, which will be in the first wave of refreshes. The higher-end models, like the R820 and R920, and the cloud &amp; HPC focused C-series, will be part of another release soon after, and reach into the higher-end E7 CPU models (8 way, 10 cores) from Intel.</p><p style="font-size: 12px;">The new mid-range hosts are built around the Intel Xeon E5 CPUs, also known as “Sandy Bridge.” These CPUs are 4, 6, or 8 cores, and the the first number in the CPU model number is the number of sockets they will support. An Intel Xeon E5-4600 is a four-way CPU, E5-2600 is a two-way CPU, and an E5-1600 is a one-way (uniprocessor) CPU. Anecdotally, these CPUs are reported to turn in a 70% general workload performance improvement over the last generation of CPUs, and a look through spec.org at the benchmark numbers reported on E3/E7 hosts reinforces that.</p><p style="font-size: 12px;">Memory is quad-channel now, up from triple-channel in the Intel Xeon 5600 (“Nehalem”) line. This lets them run RAM at up to 1600 MHz, and it falls back like the Nehalems did to 1333, 1066 and 800 MHz. The speed depends on the memory configuration &amp; type of DIMMs, like before. There are now 16 total DIMM sockets, up from 12, due to the extra channel. Peter Bailey of Dell points out that you can now feasibly (i.e. not 800 MHz) &amp; economically (16 GB DIMMs only have a 10-15% premium now) put two 16 GB DIMMs on each channel of each CPU in a dual-socket R720, causing a sweet spot of 256 GB of RAM per host.</p><p style="font-size: 12px;">The R820, and presumably the R920, will have similar architectures, but increase the number of DIMM sockets to 48 from 32. As a current R810 owner I have no idea where they plan to put all those sockets, but it’ll be awesome to be able to get 1.5 TB of RAM in a 2U host. Perhaps they are using technology from the TARDIS, or they have Hermione Granger casting undetectable extension charms on the systems[0]. Regardless, the R620 also magically gains a PCIe expansion slot, bringing it to a total of 3. For many that means that an R620 is an effective replacement for an R710, saving 1U of space but giving us as many card slots.</p></div><div style="text-align: justify">The 12G hosts are all PCI Express 3.0, which means that bandwidth and the number of PCIe lanes has gone up. PCIe 3.0 bumps the number of gigatransfers per second to 8, from 2.0′s 5 GT/s. It also changes the encoding from the 2.0 spec’s 8b/10b encoding to 128b/130b, which reduces overhead. Between the two improvements, PCIe 3.0 “effectively delivers double PCIe 2.0 bandwidth” according to the <a href="http://en.wikipedia.org/wiki/PCI_Express#PCI_Express_3.0" shape="rect" target="_blank">Wikipedia article</a>. From a practical point of view that means that PCIe 3.0 devices can all move down a slot size, so if you needed a x8 slot for your dual 10 Gbps PCIe 2.0 NIC the 3.0 version of that NIC will be x4. Good news for GPUs!</div><div><p style="font-size: 12px;">On the storage front there’s a few new improvements. First, the RAID controllers have all been refreshed. Marketing didn’t get the memo, though; the 11G models were the H700/H800, the 12G models are H710/H810. Perhaps with the 13th generation they’ll stop working to confuse everybody and name them the H730/H830… The controllers continue to support CacheCade, the LSI software feature that lets you use an onboard SSD as cache to front-end slower traditional disks attached locally. It’s essentially a direct-attach storage version of the NetApp FastCache cards, and a feature that’s finding its way into most disk controllers, including those built into Intel desktop disk controllers, too. I’d expect that the CacheCade restriction of only working with Dell-supplied SSDs will continue to be enforced, if only for reliability &amp; support reasons.</p><p style="font-size: 12px;">Drive carriers are the same between the 11G and 12G lines, which is good because the Dell PowerEdge R620 will be able to hold 10 2.5″ drives. The R720 can hold 16, and the R720xd, whose extra letters stand for “extra drives,” can hold up to 24 in front and 2 in back. Sure, you don’t have a front LCD panel or DVD-ROM anymore, but nobody cares in 2012. I suspect that this will be increasingly useful in the face of technologies like the VMware Virtual Storage Appliance (VSA), where you could potentially have a two or three host cluster that has no external storage whatsoever, especially when coupled with the 10 Gbps networking &amp; CacheCade options. At the very least I can recycle a bunch of the orphaned 146 GB 10K disks I’ve abandoned with my vSphere 5 switch to USB sticks for booting.</p><p style="font-size: 12px;">Beyond traditional SSD, though, is the idea of the PCIe-based flash card, like what Fusion I/O sells. You’ve been able to order Fusion I/O cards with Dell servers for a while now, and they’re incredibly fast because they don’t have all the overhead of RAID. However, those cards suffer some serious drawbacks in that they’re internal and not as serviceable as a traditional drive. In response, Dell has a build-time option that puts two or four PCIe hot-plug slots in the front of the chassis, so that you can have flash modules installed on a host that are more easily serviceable. This is a build-time option that consumes space on the front of the host, so if you think you want to add one of these modules later you need to order the server with the right options initially. You can’t retrofit it later.</p><p style="font-size: 12px;">The main complaint about SSDs is always the limited number of write cycles before failure. Dell is now saying that the SSDs they ship will withstand 12 PB of writes over their life. Figuring a 5 year lifespan of a server, that’s 6.73 TB of writes a day per device. Though I don’t know what the PCIe flash pricing is yet, prices on SAS SSD drives have fallen 30% or more over the last year, making all of this more affordable against traditional drives.</p><p style="font-size: 12px;">One big use for local SSD is local I/O caching, especially as a read cache for enterprise disk arrays. EMC has been talking about this with some of their recent releases, and other vendors, like Dell, are saying that they’ll release similar offerings later this year. Local SSD caching is a newer feature even in VMware products based on vSphere 5, and if the trend continues it promises to seriously curtail the amount of read I/O our shared storage arrays have to do. That ought to make storage administrators very, very happy, especially since virtual environments are all random I/O. It’ll be interesting to see the economics of this. Like most new features that stand to cannibalize enterprise sales I expect this to be an expensive add-on, and possibly a Dell Storage-only feature, but we’ll have to wait until the release to know for sure. I’m hoping it’s a more generic caching solution that’s reasonably priced, offsetting my organization’s spending on SAN and array improvements.</p><p style="font-size: 12px;">The 12G servers have all new network options as well. There is no longer the idea of an “onboard” set of NICs, as everything has been moved to a daughtercard. The upside to that is customers now have choices, Broadcom or Intel, all copper or some SFP+, and FCoE support like that of the X520 cards. This makes me very happy, because I’m an Intel NIC fan, and I’m moving in an all-10 Gbps direction, though this does mean my beloved <a href="http://fcotr.org/" shape="rect" target="_blank">FCoTR</a> is falling behind again.</p><p style="font-size: 12px;"><b>The minimum OSes needed to install on these servers are Microsoft Windows Server 2008, Red Hat Enterprise Linux 5.7, and Red Hat Enterprise Linux 6.1, though 6.2 is strongly recommended. Newer releases of Fedora, Ubuntu, and all the RHEL clones will work, too. This is merely due to driver support for the Sandy Bridge hardware. Fans of this blog and people who have attended any of my presentations know that I am a big proponent of keeping your OS somewhat recent. This is a big reason why. Dell merges their driver support with the mainline Linux kernel, so as long as you can run a newer kernel you should be in good shape. Add that to their yum repositories for OpenManage and BIOS updates and excellent history of support for Linux and they continue to have a great platform for open source computing.</b> In the briefings I had, Dell’s Linux support was described as “boring” only because it just works, without fanfare or hassle. I like things that just work, perhaps because it’s so rare in IT.</p><p style="font-size: 12px;">On the management front Dell is releasing OpenManage Essentials, which is a streamlined hardware management and monitoring solution that is free to customers. Classically, OpenManage has been a real bear to install and maintain, and hopefully this makes it more useful as a tool. The 12G servers can be monitored &amp; updated completely out-of-band. This is a giant win, as agents make everybody’s lives miserable. Of course, you still need an agent for all your older Dells, but it’s a promise of good things to come.</p><p style="font-size: 12px;">Similarly, they’re releasing the free &amp; standalone OpenManage Power Center, where you can manage and monitor power consumption on all the 11G and 12G hardware you have. Details are a little scarce, but this is probably similar to HP’s Insight Power Manager, where you can administer power caps and monitor usage.</p><p style="font-size: 12px;">Dell also continues to support &amp; expand their Fresh Air initiative, which certifies certain models and configurations of Dell hardware to work continuously at temperatures up to 95° F (35° C), 900 hours a year at 104° F (40° C), and 90 hours a year at 113° F (45° C). This has serious effects on data center design &amp; operations, because they estimate it saves $100K per megawatt of OpEx and $3000K ($3M) per megawatt of CapEx for new data centers. For us it means we can turn up the temperature a bit as we retire all the older server hardware. It also means that some types of HVAC maintenance can now be done with the systems online.</p><p style="font-size: 12px;">That’s all I had for notes. If I’m missing something, or I’ve got an error here, please leave a comment. I owe a big thanks to Dell’s Peter Bailey, who gives an excellent, high-bandwidth, pragmatic, non-marketing presentation on all of this, and while he steals some of our jokes I’m stealing some of his numbers. I also owe a continual thanks to Andrew Waxenberg and Pat Meyers, my local Dell guys, a solid team. Likewise, I thank David Gibbs from Blanc &amp; Otus for setting me up with the Dell Global Channel executives to get some of my 12G questions answered. Kevin Houston, a Dell engineer, has great content about the Intel CPUs and M-series of blades at <a href="http://bladesmadesimple.com/" shape="rect" target="_blank">bladesmadesimple.com</a>. I first met him at a <a href="http://techfieldday.com/" shape="rect" target="_blank">Gestalt IT Tech Field Day</a>, which Dell has sponsored, and I’ve attended to great enjoyment and learning, in the spirit of disclosure. Dell has also given me access to seed &amp; evaluation units in the past as part of doing business with them. This doesn’t generally skew my opinion, as most people who know me can attest to. Good technology gets a good review from me, bad ideas get skewered indiscriminately. :)</p><p style="font-size: 12px;">[0] Or a Bag of Holding, for AD&amp;D fans.</p><p style="font-size: 12px;">Related posts:</p></div><div style="font-size: 12px;">Tagged as: <a href="http://lonesysadmin.net/tag/12g/" shape="rect" target="_blank">12G</a>, <a href="http://lonesysadmin.net/tag/cachecade/" shape="rect" target="_blank">CacheCade</a>, <a href="http://lonesysadmin.net/tag/dell/" shape="rect" target="_blank">dell</a>, <a href="http://lonesysadmin.net/tag/e7/" shape="rect" target="_blank">E7</a>, <a href="http://lonesysadmin.net/tag/express-cache/" shape="rect" target="_blank">Express Cache</a>, <a href="http://lonesysadmin.net/tag/express-flash/" shape="rect" target="_blank">Express Flash</a>, <a href="http://lonesysadmin.net/tag/fresh-air/" shape="rect" target="_blank">Fresh Air</a>, <a href="http://lonesysadmin.net/tag/h710/" shape="rect" target="_blank">H710</a>, <a href="http://lonesysadmin.net/tag/h730/" shape="rect" target="_blank">H730</a>, <a href="http://lonesysadmin.net/tag/h810/" shape="rect" target="_blank">H810</a>, <a href="http://lonesysadmin.net/tag/h830/" shape="rect" target="_blank">H830</a>, <a href="http://lonesysadmin.net/tag/hpc/" shape="rect" target="_blank">HPC</a>, <a href="http://lonesysadmin.net/tag/intel/" shape="rect" target="_blank">intel</a>, <a href="http://lonesysadmin.net/tag/lsi-logic/" shape="rect" target="_blank">lsi logic</a>, <a href="http://lonesysadmin.net/tag/nehalem/" shape="rect" target="_blank">Nehalem</a>,<a href="http://lonesysadmin.net/tag/openmanage/" shape="rect" target="_blank">OpenManage</a>, <a href="http://lonesysadmin.net/tag/pci-express/" shape="rect" target="_blank">PCI Express</a>, <a href="http://lonesysadmin.net/tag/poweredge/" shape="rect" target="_blank">poweredge</a>, <a href="http://lonesysadmin.net/tag/r320/" shape="rect" target="_blank">R320</a>, <a href="http://lonesysadmin.net/tag/r420/" shape="rect" target="_blank">R420</a>, <a href="http://lonesysadmin.net/tag/r520/" shape="rect" target="_blank">R520</a>, <a href="http://lonesysadmin.net/tag/r620/" shape="rect" target="_blank">R620</a>, <a href="http://lonesysadmin.net/tag/r720/" shape="rect" target="_blank">R720</a>, <a href="http://lonesysadmin.net/tag/r820/" shape="rect" target="_blank">R820</a>, <a href="http://lonesysadmin.net/tag/r920/" shape="rect" target="_blank">R920</a>, <a href="http://lonesysadmin.net/tag/sandy-bridge/" shape="rect" target="_blank">Sandy Bridge</a>, <a href="http://lonesysadmin.net/tag/tech-field-day-2/" shape="rect" target="_blank">tech field day</a>, <a href="http://lonesysadmin.net/tag/vmware/" shape="rect" target="_blank">vmware</a>, <a href="http://lonesysadmin.net/tag/vsphere-5/" shape="rect" target="_blank">vSphere 5</a></div><div style="font-size: 12px;"><br/></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><div><h1 style="font-size: 37px;"><font size="3" style="font-size: 24px;">Dell TechCenter: Red Hat Enterprise Linux 6.3 on Dell PowerEdge servers (Features and Native drivers)</font></h1></div><div style="font-size: 12px;"><a href="http://en.community.dell.com/techcenter/b/techcenter/archive/2012/07/24/red-hat-enterprise-linux-6-3-on-dell-poweredge-servers-features-and-native-drivers.aspx">http://en.community.dell.com/techcenter/b/techcenter/archive/2012/07/24/red-hat-enterprise-linux-6-3-on-dell-poweredge-servers-features-and-native-drivers.aspx</a> </div><div style="font-size: 12px;">24 Jul 2012 1:24 AM</div><p style="font-size: 12px;">This blog is posted on behalf of Gireesha US, Linux Engineering</p><p style="font-size: 12px;">Red Hat has recently <a href="http://www.redhat.com/about/news/archive/2012/6/red-hat-enterprise-linux-63-globally-available" shape="rect" target="_blank">announced </a>the availability of Red Hat Enterprise Linux 6.3 (RHEL 6.3) Operating System.  RHEL 6.3 includes driver updates, bug fixes and support for new hardware, For detailed information, please refer to RHEL 6.3 <a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/" shape="rect" target="_blank">release notes </a>. <br clear="none"/><br clear="none"/>
Red Hat Enterprise Linux 6.3 has been validated on <a href="http://www.dell.com/poweredge" shape="rect" target="_blank">supported </a>Dell PowerEdge Servers, please refer the <a href="http://en.community.dell.com/techcenter/os-applications/w/wiki/3676.linux-os-support-on-dell-poweredge-servers.aspx" shape="rect" target="_blank">Wiki </a>for Linux OS Support on Dell PowerEdge Servers.<br clear="none"/><br clear="none"/>
Please refer to the <a href="http://support.dell.com/support/edocs/software/rhel_mn/rhel6/en/index.htm" shape="rect" target="_blank">important information guide </a>for the list of issues fixed in Red Hat Enterprise Linux 6.3 on Dell PowerEdge servers.</p><p style="font-size: 12px;">Listed are the details of new features including hardware enablement and driver updates for the storage &amp; network controllers.</p><p style="font-size: 12px;"><strong>Storage</strong></p><ul style="font-size: 12px;"><li>Native support for PCI-e SSD (solid state drive) drivers.</li><li style="list-style: none; display: inline"><ul><li>Red Hat Enterprise Linux 6.3 includes the mtip32xx driver (version: 1.2.6os3) which adds support for Micron RealSSD P320h PCIe SSD drives.</li></ul></li><li>Updated the mpt2sas (H200) and megaraid_sas (PERC H310, H710 and H810 and PERC H700, H800, PERC6/ir storage controller) driver to upstream version containing bug fixes and performance enhancements to support on Dell’s 11th  and 12th generation servers.</li><li style="list-style: none; display: inline"><ul><li>megaraid_sas driver version 00.00.06.14-rh1 that is required by the PERC8 controllers and the ata_piix  version 2.13 required for the integrated SATA controller are native.</li></ul></li></ul><p style="font-size: 12px;"><strong>Network Controllers</strong></p><ul style="font-size: 12px;"><li>Broadcom 57810 which is the embedded Converged Network Controller also supports FCoE functionality. Broadcom 57810 will require bnx2fc.ko driver version 1.0.10 or greater that enables the FCoE. This version (1.0.11) of the driver is native with RHEL6.3</li><li>Updated Broadcom tg3, bnx2, bnx2x and bnx2i drivers.</li><li style="list-style: none; display: inline"><ul><li>The BCM5720 and BCM5719 are supported by the tg3 driver version 3.122</li><li>BCM 57810 and 57800 which are the Broadcom 10Gb iscsi capable 10Gb controllers are supported by the bnx2x version 1.72.00-0</li></ul></li><li>Updated Intel igb, igbvf, ixgbe and ixgbevf, Driver for Intel 1G and 10GB Network cards.</li><li style="list-style: none; display: inline"><ul><li>The igb .ko version 3.2.10-k in Red Hat Enterprise Linux 6.3 drives the Intel i350 1GB controller.</li><li>The ixgbe driver version 3.6.7-k supports  the Intel x540 10Gb controller which is an  NDC option  the Rack servers, Intel x520 10Gb controller which is an NDC option on the M620 and the Intel add-on 10Gb controller.</li></ul></li><li>Updated Brocade bfa (FC driver version 3.0.2.2) and bna (NIC driver version 3.0.2.2r) drivers</li><li>Updated Emulex lpfc (FCoE driver), be2net (10GB NIC driver) and be2iscsi (iSCSi) drivers.</li><li>Updated Qlogic qlcnic (Ethernet), qla2xxx (FC) and qla4xxx (iSCSI) drivers.</li></ul><p style="font-size: 12px;"><strong>Consistent Naming of Network Devices</strong></p><ul style="font-size: 12px;"><li>RHEL 6.3 supports consistent naming of network devices. For more information on the biosdevname utility and the new naming convention, refer the <a href="http://linux.dell.com/files/whitepapers/consistent_network_device_naming_in_linux.pdf" shape="rect" target="_blank">whitepaper </a>on Consistent Network Device Naming in Linux. BIOSdevname was introduced in RHEL 6.1</li></ul></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><div><h1 style="font-size: 37px;"><font size="3" style="font-size: 24px;">Dell TechCenter: UEFI Aware OS Deployment on Dell PowerEdge Servers using Unified Server Configurator (we will proceed with a traditional BIOS deployment)</font></h1></div><div style="font-size: 12px;"><a href="http://en.community.dell.com/techcenter/b/techcenter/archive/2010/08/06/uefi-aware-os-deployment-on-dell-poweredge-servers-using-unified-server-configurator.aspx">http://en.community.dell.com/techcenter/b/techcenter/archive/2010/08/06/uefi-aware-os-deployment-on-dell-poweredge-servers-using-unified-server-configurator.aspx</a> </div><div style="font-size: 12px;">6 Aug 2010 1:22 PM</div><p style="font-size: 12px;">This post authored by Bhaskar Mukkamala Dell Server Engineering Team.<br clear="none"/><br clear="none"/>
What makes <a href="http://www.dell.com/poweredge" shape="rect" target="_blank">Dell PowerEdge servers </a>different? Dell PowerEdge® Servers are shipped with <a href="http://www.dell.com/content/topics/global.aspx/power/en/simplify_management?c=us&amp;l=en&amp;cs=555" shape="rect" target="_blank">Unified Server Configurator </a>that is enabled with Lifecycle Controller. Lifecycle Controller is a <a href="http://www.uefi.org/" shape="rect" target="_blank">UEFI standard </a>compliant Pre-OS deployment utility that enables media free OS deployment. All device drivers required for a chosen operating system and hardware configuration are embedded on the server. These drivers can be upgraded with a platform update feature of <a href="http://www.dell.com/content/topics/global.aspx/power/en/simplify_management?c=us&amp;l=en&amp;cs=555" shape="rect" target="_blank">Dell Unified Server Configurator </a>from <a shape="rect" target="_blank">Dell FTP</a> directly. <br clear="none"/><br clear="none"/>
The latest <a href="http://www.dell.com/content/topics/global.aspx/power/en/simplify_management?c=us&amp;l=en&amp;cs=555" shape="rect" target="_blank">Unified Server Configurator </a>release supports deployment in the following UEFI Aware operating systems:</p><p style="font-size: 12px;">The key difference that the <a href="http://www.dell.com/content/topics/global.aspx/power/en/simplify_management?c=us&amp;l=en&amp;cs=555" shape="rect" target="_blank">Dell Unified Server Configurator </a>provides is its provisioning of embedded OS drivers that speed up the OS installation. Also by providing a user friendly OS deployment wizard, it helps customers choose the right OS media and installation mode selection.</p><p style="font-size: 12px;"><a href="http://en.community.dell.com/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/00.00.00.37.45/3414.USC.jpg" shape="rect" target="_blank"></a></p><div style="font-size: 12px;"><a href="http://en.community.dell.com/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/00.00.00.37.45/3414.USC.jpg" shape="rect" target="_blank"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [1].jpg" type="image/jpeg" height="415" style="cursor: default; height: auto;" width="550"/></a></div><span style="font-size: 12px;"> </span><p style="font-size: 12px;">After the setup is launched from the Windows operating system installation, the process is the same for either UEFI or BIOS mode. The difference in the installed system after setup completes is that the hard disk partition format uses the GPT format with UEFI enabled and the windows boot environment uses a UEFI version of the Windows Boot Manager. Without UEFI enabled, the installed operating system uses the MBR format for hard disk partitions and a BIOS version of Windows Boot Manager.  The user must delete the existing partition which is formatted in MBR if the customer wants to install an UEFI based OS. The same is true for the reverse scenario if the disk is already formatted as GPT.<br clear="none"/><br clear="none"/><strong>Current Windows-Specific UEFI Highlights</strong></p><p style="font-size: 12px;">Two of the most notable Windows features for UEFI systems are the following:</p><ul style="font-size: 12px;"><li><div>Multicast deployment, which enables large scale network-based image deployment in manufacturing and enterprise settings.</div></li><li>Fast boot and resume from hibernation, which improves user experience.</li></ul><p style="font-size: 12px;">Below are brief descriptions of both features:</p><strong style="font-size: 12px;">Multicast Deployment</strong><p style="font-size: 12px;">Most large organizations and system builders use image-based deployment to install an operating system that is preconfigured to meet their specific requirements. The original equipment manufacturer (OEM) or other large organization first creates a customized system image that includes the appropriate applications and settings. When new machines are added or older ones require operating system reinstallation, the image is sent over the network to the target machine.</p><p style="font-size: 12px;">Traditional unicast image deployment methods require each system to set up an individual connection with a central server and then download the full image over the network before installation can proceed. Unicast deployments often consume considerable network bandwidth and frequently overwhelm central image servers when too many connections are initiated at the same time.</p><p style="font-size: 12px;">Windows systems that support UEFI can perform multicast image deployment. During a multicast deployment, a central image server can send an image to multiple “listeners” at the same time. Any client that joins while the multicast is underway can receive the latter portion of the image, and then wait for the server to start another broadcast to fill in the first portion. This approach is especially useful in a manufacturing environment, because many clients can simultaneously receive images without overwhelming the network or the image server.</p><p style="font-size: 12px;"><strong>Fast Boot and Resume from Hibernate</strong></p><p style="font-size: 12px;">Disk I/O speed significantly affects the time required to boot a computer or load the contents of a hibernation file into memory. The ability to read more data at faster speeds allows the CPU to operate more efficiently and makes both boot and resume from hibernate faster. Earlier BIOS systems use a firmware interface called Interrupt 13h (Int 13) to access block storage devices such as a hard disk drive. By using the Int 13 BIOS interface, software can read data only 64 KB at a time, but the EFI block I/O protocols enable data to be read 1 MB at a time. Windows systems with UEFI can therefore read data more efficiently, which improves boot and resume times.</p><p style="font-size: 12px;"><b>To learn more about installation of UEFI aware Operating Systems:</b></p><p style="font-size: 12px;">Windows:</p><p style="font-size: 12px;"><a href="http://www.microsoft.com/whdc/system/platform/firmware/uefireg.mspx" shape="rect" target="_blank">http://www.microsoft.com/whdc/system/platform/firmware/uefireg.mspx</a></p><p style="font-size: 12px;"><a href="http://download.microsoft.com/download/0/0/b/00bba048-35e6-4e5b-a3dc-36da83cbb0d1/UEFIGuide.docx" shape="rect" target="_blank">http://download.microsoft.com/download/0/0/b/00bba048-35e6-4e5b-a3dc-36da83cbb0d1/UEFIGuide.docx</a></p><p style="font-size: 12px;"><a href="http://download.microsoft.com/download/9/c/5/9c5b2167-8017-4bae-9fde-d599bac8184a/UEFI_Windows.docx" shape="rect" target="_blank">http://download.microsoft.com/download/9/c/5/9c5b2167-8017-4bae-9fde-d599bac8184a/UEFI_Windows.docx</a></p><p style="font-size: 12px;">SLES 11:</p><p style="font-size: 12px;"><a href="http://support.ap.dell.com/support/edocs/software/sles_mn/sles11/en/IIG/SLESIIG.pdf" shape="rect" target="_blank">http://support.ap.dell.com/support/edocs/software/sles_mn/sles11/en/IIG/SLESIIG.pdf</a></p><p style="font-size: 12px;"><a href="http://www.novell.com/support/documentLink.do?externalID=7003263" shape="rect" target="_blank">http://www.novell.com/support/documentLink.do?externalID=7003263</a></p></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 12px;"><u><br/></u></div><div><div><h1 style="font-size: 37px;"><font size="3" style="font-size: 24px;">Dell TechCenter: Getting Over the 2.2TB Bootable Storage Volume Limit in RHEL 6</font></h1></div><div style="font-size: 12px;"><a href="http://en.community.dell.com/techcenter/b/techcenter/archive/2010/11/23/getting-over-the-2-2tb-bootable-storage-volume-limit-in-rhel-6.aspx">http://en.community.dell.com/techcenter/b/techcenter/archive/2010/11/23/getting-over-the-2-2tb-bootable-storage-volume-limit-in-rhel-6.aspx</a> </div><div style="font-size: 12px;">23 Nov 2010 10:55 AM</div><p style="font-size: 12px;">Posted on behalf of Ashokan Vellimalai – Linux Engineering</p><p style="font-size: 12px;">Systems based on conventional BIOS use DOS MBR (<a href="http://en.wikipedia.org/wiki/Master_boot_record" shape="rect" target="_blank">Master Boot Record </a>) partitioning scheme which imposes a limit of 2.2TB for a maximum disk or partition size on any operating system.</p><p style="font-size: 12px;">Dell PowerEdge Servers have offered storage volumes greater than 2.2 TB for a while. While booting disks/volumes larger than 2.2TB is possible, a few requirements must be satisfied:</p><ul style="font-size: 12px;"><li>The <a href="http://en.wikipedia.org/wiki/GUID_Partition_Table" shape="rect" target="_blank">Globally Unique Identifier Partition Table </a>(GPT) in place of the MBR needs to be used. GPT allows maximum disk or partition size upto 9.4 Zettabytes (ZB).</li><li>Conventional BIOS on Dell PowerEdge servers can boot from disk partitioned in the MBR scheme. To be able to boot into a system partitioned with GPT, UEFI (<a href="http://en.wikipedia.org/wiki/Extensible_Firmware_Interface" shape="rect" target="_blank">Unified Extensible Firmware Interface </a>) boot would have to be enabled in the system setup in place of the conventionally BIOS boot. <a href="http://en.community.dell.com/dell-blogs/enterprise/b/tech-center/archive/2010/11/11/dell-11th-generation-poweredge-servers-certified-with-red-hat-enterprise-linux-6-0.aspx" shape="rect" target="_blank">Dell PowerEdge 11G Servers </a>and later support boot through UEFI and GPT.</li></ul><p style="font-size: 12px;">Here is a brief comparison of MBR and GPT partitioning schemes:</p><table style="font-size: 12px;width:434px;"><tbody><tr><td colspan="1" rowspan="1" style="width:53.91705069124424%;"><p><b>Functionality</b></p></td><td colspan="1" rowspan="1" style="width:12.903225806451612%;"><p><b>MBR Disk</b></p></td><td colspan="1" rowspan="1" style="width:31.336405529953915%;"><p><b>GPT disk</b></p></td></tr><tr><td colspan="1" rowspan="1"><p>Legacy OS like MS DOS, MS Windows</p></td><td colspan="1" rowspan="1">Yes</td><td colspan="1" rowspan="1">No</td></tr><tr><td colspan="1" rowspan="1"><p>Greater than 2.2TB (Tera Byte)</p></td><td colspan="1" rowspan="1">No</td><td colspan="1" rowspan="1">Yes</td></tr><tr><td colspan="1" rowspan="1"><p>Data disk in x86_64 and x86 version of OS</p></td><td colspan="1" rowspan="1">Yes</td><td colspan="1" rowspan="1">Yes</td></tr><tr><td colspan="1" rowspan="1"><p>Boot disk in x86_64 version of OS</p></td><td colspan="1" rowspan="1">Yes</td><td colspan="1" rowspan="1">Yes</td></tr><tr><td colspan="1" rowspan="1"><p>Boot disk in x86 version of OS</p></td><td colspan="1" rowspan="1">Yes</td><td colspan="1" rowspan="1">No</td></tr><tr><td colspan="1" rowspan="1"><p>More than 4 primary partition</p></td><td colspan="1" rowspan="1">No</td><td colspan="1" rowspan="1">Yes<br clear="none"/>
(up to 128 Partitions)</td></tr><tr><td colspan="1" rowspan="1"><p>BIOS Mode Booting</p></td><td colspan="1" rowspan="1">Yes</td><td colspan="1" rowspan="1"><p>Implementation Specific</p></td></tr><tr><td colspan="1" rowspan="1"><p>UEFI Mode Booting</p></td><td colspan="1" rowspan="1">No</td><td colspan="1" rowspan="1">Yes</td></tr></tbody></table><p style="font-size: 12px;">Now, we have servers which support partition sizes greater than 2.2 TB through UEFI/GPT. How do we use it? What changes are needed in the Operating System, Boot loader and file systems to enable support for these volumes?</p><p style="font-size: 12px;">Red Hat’s recently <a href="http://www.redhat.com/about/news/prarchive/2010/new-standard.html" shape="rect" target="_blank">announced </a>RHEL 6 fully supports UEFI/GPT based systems. Dell has ensured that RHEL 6’s UEFI/GPT components were thoroughly validated and known bugs fixed for a seamless deployment.</p><p style="font-size: 12px;">Here is how you can setup RHEL6 on bootable storage volumes/disks greater than 2.2TB:</p><blockquote style="font-size: 12px;"><p>1. Enable UEFI boot mode in BIOS boot settings and have your RHEL 6 DVD handy, or you can install the OS through UEFI PXE boot (but that would require setting up or modifying existing PXE server setup to include <a href="http://fedoraproject.org/wiki/QA:Testcase_UEFI_pxeboot" shape="rect" target="_blank">UEFI support </a>).</p><p>2. Once UEFI boot manager initializes, change the UEFI boot sequence to boot from DVD image and follow on-screen installation steps to go to partition layout screen.</p><p>3. The default automatic partitioning scheme will create /boot/efi, /boot, and LVM volume groups by default and it sets the disk label to GPT. If you want to explore more on custom partitions, choose custom partition layout, and create /boot/efi  (50-256 MB recommended), and /boot and / partition with size greater than 2.2 TB and proceed with the installation.</p></blockquote><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;">The detailed steps for UEFI based RHEL6 installation can be found in the RHEL 6 <a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html-single/Installation_Guide/index.html" shape="rect" target="_blank">Installation Guide </a>and in the <a href="http://support.dell.com/support/edocs/software/rhel_mn/rhel6/index.htm" shape="rect" target="_blank">RHEL6 Installation and Important Information </a>on Dell PowerEdge Servers.</div></div><div style="font-size: 12px;"><br/></div><div style="text-align: left; color: rgb(102, 102, 102); font-weight: bold; display: inline; font-size: 12px;"><a href="http://en.community.dell.com/members/DELL_2D00_Peter-T/default.aspx" style="color: rgb(51, 153, 204); outline: none medium; text-decoration: none;">Peter Tsai</a></div><div style="text-align: left; right: 22px; display: inline; position: absolute; color: rgb(153, 153, 153); font-size: 12px;">9 Dec 2010 2:17 PM</div><div style="color: rgb(51, 51, 51); text-align: left; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(201, 234, 248); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(201, 234, 248); margin: 3px 0px; overflow: hidden; max-width: 100%; position: relative; word-wrap: break-word; font-size: 12px;"><p style="margin: 12px 0px;">Great info, and I'm sure many of our readers will be interested in this post!  The 2TB limit is going to be an important topic as large drives become more common.</p><p style="margin: 12px 0px;">Dell TechCenter has additional information regarding the behavior of large drives on various Operating Systems at the following locations:</p><p style="margin: 12px 0px;"><a href="http://www.delltechcenter.com/page/3TB+drives:+OS+Behavior+Matrix" rel="nofollow" style="color: rgb(51, 153, 204); outline: none medium; text-decoration: none; font-weight: bold;" target="_new">www.delltechcenter.com/.../3TB+drives:+OS+Behavior+Matrix</a></p><p style="margin: 12px 0px;"><a href="http://www.delltechcenter.com/page/HDD+Support+for+2.5TB,+3TB+Drives+and+Beyond" rel="nofollow" style="color: rgb(51, 153, 204); outline: none medium; text-decoration: none; font-weight: bold;" target="_new">www.delltechcenter.com/.../HDD+Support+for+2.5TB,+3TB+Drives+and+Beyond</a></p></div><div style="text-align: left; width: 1333px; margin: 0px auto; min-width: 1025px; padding: 0px; background-attachment: scroll; background-image: none; background-clip: border-box; background-origin: padding-box; background-size: auto; position: relative; font-size: 12px; background-position: 0% 0%; background-repeat: repeat repeat;"><div style="width: 970px; max-width: 970px; min-width: 970px; padding: 0px; margin: 0px auto; border: medium none; background-attachment: scroll; background-image: none; background-clip: border-box; background-origin: padding-box; background-size: auto; overflow: auto; background-position: 0px 0px;"><div style="color: rgb(153, 153, 153); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); height: 0px; width: 0px;"> </div><div style="padding-top: 10px; margin-left: 6px;"><div style="color: rgb(153, 153, 153); clear: both; width: 0px; height: 0px;"><br/></div></div></div></div><div style="font-size: 12px;"><br/></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 12px;"><br/></div><div style="font-size: 24px;"><b>Setting up N servers like one of them by cloning RAID 5 disks (Disk 0)</b></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;">to do</div><div style="font-size: 12px;"><br/></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 24px;"><b>support.dell.com Manuals. System Configuration Requirements for Installing Red Hat Enterprise Linux 6. Factory pre-installation settings (partition scheme not recommended)</b></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><a href="http://support.dell.com/support/edocs/software/rhel_mn/rhel6/en/IIG/html/section.htm">http://support.dell.com/support/edocs/software/rhel_mn/rhel6/en/IIG/html/section.htm</a> </div><div style="font-size: 12px;"><a href="http://support.dell.com/support/edocs/software/rhel_mn/rhel6/en/IIG/PDF/IIG_EN.pdf">http://support.dell.com/support/edocs/software/rhel_mn/rhel6/en/IIG/PDF/IIG_EN.pdf</a> </div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><p><a href="http://support.dell.com/support/edocs/software/rhel_mn/rhel6/en/IIG/html/index.htm">Back to Contents Page</a></p><p>Dell PowerEdge Systems<br/>
Red Hat Enterprise Linux 6 (x86_64) Installation Instructions and Important Information</p><ul><li>  <a href="http://support.dell.com/support/edocs/software/rhel_mn/rhel6/en/IIG/html/section.htm#wp1196685"><b>System Configuration Requirements for Installing Red Hat Enterprise  Linux 6</b></a></li><li>  <a href="http://support.dell.com/support/edocs/software/rhel_mn/rhel6/en/IIG/html/section.htm#wp1195309">Reviewing Pre-Configuration Options</a></li><li>  <a href="http://support.dell.com/support/edocs/software/rhel_mn/rhel6/en/IIG/html/section.htm#wp1196347">Installing and Reinstalling Red Hat Enterprise  Linux 6</a></li><li>  <a href="http://support.dell.com/support/edocs/software/rhel_mn/rhel6/en/IIG/html/section.htm#wp1196561">Add-on Device Drivers</a></li><li>  <a href="http://support.dell.com/support/edocs/software/rhel_mn/rhel6/en/IIG/html/section.htm#wp1196575">Updating Your System Packages Using the Red Hat Network</a></li><li>  <a href="http://support.dell.com/support/edocs/software/rhel_mn/rhel6/en/IIG/html/section.htm#wp1185235">Important Information</a></li><li>  <a href="http://support.dell.com/support/edocs/software/rhel_mn/rhel6/en/IIG/html/section.htm#wp1195728">Finding More Information</a></li></ul><h2><br/></h2><h2><a name="wp1196685"></a>System Configuration Requirements for Installing Red Hat Enterprise  Linux 6</h2><a name="wp1196686"></a><h3>Supported Architecture</h3><p>Dell supports the x86_64 version of Red Hat Enterprise Linux 6 on all 9G, 10G and 11G PowerEdge systems. To check if your PowerEdge system supports Red Hat Enterprise Linux 6, see the support matrix at <b>dell.com/ossupport</b>.</p><table border="0" cellpadding="4" style="width:1619px;"><tbody><tr><td align="left" style="width:2.1618282890673255%;" valign="top"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image.gif" type="image/gif" align="top" style="cursor: default; height: auto;"/></td><td align="left" style="width:98.00167112086285%;" valign="top">NOTE: If you require the x86 version of the operating system, it is recommended that you run it as a virtual machine on Red Hat Enterprise Linux 6 x86_64 or an equivalent host. See <b>docs.redhat.com/docs</b> for information on how to install a Red Hat Enterprise Linux 6 virtualized guest.</td></tr></tbody></table><a name="wp1196693"></a><h3>Memory</h3><p><a href="http://support.dell.com/support/edocs/software/rhel_mn/rhel6/en/IIG/html/section.htm#wp1196681">Table 1</a> lists the memory requirements on the x86_64 architecture of Red Hat Enterprise Linux 6, as suggested by Red Hat.</p><p><a name="wp1196681"></a>Table 1. Memory Requirements on x86_64 Architecture</p><a name="wp1191881"></a><table border="1" cellpadding="4" cellspacing="0" style="width:934px;"><tr><td align="left" style="width:90.25695931477516%;" valign="top"><a name="wp1192256"></a><p align="left"><b>Memory</b></p></td><td align="left" style="width:9.528907922912206%;" valign="top"><a name="wp1192258"></a><p align="left"><b>Size</b></p></td></tr><tr><td align="left" valign="top"><p>Minimum</p></td><td align="left" valign="top"><p>1 GB</p></td></tr><tr><td align="left" valign="top"><p>Recommended</p></td><td align="left" valign="top"><p>2 GB</p></td></tr><tr><td align="left" valign="top"><p>Maximum certified system memory</p></td><td align="left" valign="top"><p>2 TB</p></td></tr><tr><td align="left" valign="top"><p>Maximum certified system memory on an x86 virtual machine</p></td><td align="left" valign="top"><p>4 GB</p></td></tr><tr><td align="left" colspan="2" rowspan="1" valign="top"><a name="1192276"></a><p>NOTE: The maximum system memory supported by the kernel may be greater than the value listed in <a href="http://support.dell.com/support/edocs/software/rhel_mn/rhel6/en/IIG/html/section.htm#wp1196681">Table 1</a>. For more information, see <b>redhat.com/rhel/compare.</b></p><a name="1195539"></a><p>NOTE: PowerEdge R910 systems support upto 2 TB of memory.</p></td></tr></table><a name="wp1191903"></a><h3>Bootable Disk Size</h3><p><b>By default, Red Hat Enterprise Linux 6 configures partitions in the MS DOS master boot record (MBR) format</b>. The MBR scheme limits the size of the boot disk (physical or virtual) to 2.2 TB. Use the GUID partition table (GPT) on the boot disk while installing Red Hat Enterprise Linux 6 for disks larger than 2.2 TB. For details on setting up GPT during installation, see <a href="http://support.dell.com/support/edocs/software/rhel_mn/rhel6/en/IIG/html/section.htm#wp1196480">Installing in the UEFI Mode</a>.</p><p><a name="wp1191898"></a>Table 2. Bootable Disk Size</p><a name="wp1191895"></a><table border="1" cellpadding="4" cellspacing="0" style="width:223px;"><tbody><tr><td align="left" style="width:49.775784753363226%;" valign="top"><a name="wp1191884"></a><p align="left"><b>Interface</b></p></td><td align="left" style="width:49.327354260089685%;" valign="top"><a name="wp1191886"></a><p align="left"><b>Disk/LUN</b></p></td></tr><tr><td align="left" valign="top"><p><font color="#E30000">Conventional BIOS</font></p></td><td align="left" valign="top"><p><font color="#E30000">Less than 2 TB</font></p></td></tr><tr><td align="left" valign="top"><p>UEFI/GPT</p></td><td align="left" valign="top"><p>Greater than 2 TB</p></td></tr></tbody></table><h2>Reviewing Pre-Configuration Options</h2><p>This section describes the packages and options installed or pre-configured by Dell for Red Hat Enterprise Linux 6.</p><a name="wp1192716"></a><h3>Operating System Packages Pre-Installed by Dell</h3><p>Dell has pre-installed on your system a set of operating system packages that provides the features desired by system users. If you require functionality not provided by the packages, install additional packages from the<br/>
Red Hat installation media or through Red Hat Network.</p><a name="wp1192720"></a><h3>Languages</h3><p>Your system is pre-installed with the Red Hat operating system for<br/>
the following languages:</p><ul><li><a name="1192722"></a>English<br/><br/></li><li><a name="1192723"></a>French<br/><br/></li><li><a name="1192724"></a>German<br/><br/></li><li><a name="1192725"></a>Korean<br/><br/></li><li><a name="1192726"></a>Spanish<br/><br/></li><li><a name="1192727"></a>Japanese<br/><br/></li><li><a name="1192728"></a>Simplified Chinese<br/><br/></li></ul><a name="wp1192729"></a><h3>Storage Partitions</h3><p><b>Dell uses the partition scheme listed in <a href="http://support.dell.com/support/edocs/software/rhel_mn/rhel6/en/IIG/html/section.htm#wp1194560">Table 3</a> for a factory pre-installation of Red Hat Enterprise Linux 6. <font color="#FF0000">--&gt; NOT RECOMMENDED!!</font></b></p><p><a name="wp1194560"></a>Table 3. Pre-Installed Red Hat Enterprise Linux Partitions and Mount Points for the Primary Hard Drive</p><a name="wp1194792"></a><table border="1" cellpadding="4" cellspacing="0"><tbody><tr><th align="left" valign="top"><a name="wp1194799"></a><p align="left"><b>Mount Point</b></p></th><th align="left" valign="top"><a name="wp1194801"></a><p align="left"><b>Size (MB)</b></p></th><th align="left" valign="top"><a name="wp1194803"></a><p align="left"><b>File System Type</b></p></th><th align="left" valign="top"><a name="wp1194805"></a><p align="left"><b>Logical Volume</b></p></th></tr><tr><td align="left" valign="top"><p>Utility Partition</p></td><td align="left" valign="top"><p>32–236</p></td><td align="left" valign="top"><p>FAT 32</p></td><td align="left" valign="top"><p>N/A</p></td></tr><tr><td align="left" valign="top"><p>/</p></td><td align="left" valign="top"><p>4096</p></td><td align="left" valign="top"><p>ext4</p></td><td align="left" valign="top"><p>LogVol00</p></td></tr><tr><td align="left" valign="top"><p>/boot</p></td><td align="left" valign="top"><p>200</p></td><td align="left" valign="top"><p>ext4</p></td><td align="left" valign="top"><p>N/A</p></td></tr><tr><td align="left" valign="top"><p>Swap</p></td><td align="left" valign="top"><p>automatic</p></td><td align="left" valign="top"><p>Linux swap</p></td><td align="left" valign="top"><p>LogVol01</p></td></tr><tr><td align="left" valign="top"><p>/usr</p></td><td align="left" valign="top"><p>6144</p></td><td align="left" valign="top"><p>ext4</p></td><td align="left" valign="top"><p>LogVol02</p></td></tr><tr><td align="left" valign="top"><p>/tmp</p></td><td align="left" valign="top"><p>3072</p></td><td align="left" valign="top"><p>ext4</p></td><td align="left" valign="top"><p>LogVol03</p></td></tr><tr><td align="left" valign="top"><p>/var</p></td><td align="left" valign="top"><p>8192</p></td><td align="left" valign="top"><p>ext4</p></td><td align="left" valign="top"><p>LogVol04</p></td></tr><tr><td align="left" valign="top"><p>/home</p></td><td align="left" valign="top"><p>4096</p></td><td align="left" valign="top"><p>ext4</p></td><td align="left" valign="top"><p>LogVol05</p></td></tr><tr><td align="left" colspan="4" rowspan="1" valign="top"><p> </p></td></tr><tr><td align="left" colspan="4" rowspan="1" valign="top"><table border="0" cellpadding="4" style="width:1756px;"><tbody><tr><td align="left" style="width:1.9931662870159454%;" valign="top"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [1].gif" type="image/gif" align="top" style="cursor: default; height: auto;"/></td><td align="left" style="width:99.0206894915415%;" valign="top">NOTE: The size of the default LVM Logical Volumes (LV) partitions (such as, /<b>usr, /tmp</b>) is based on a single 36 GB hard drive. If you have a larger hard drive or multiple hard drives, use the various native LVM tools to resize the existing partitions as well as to create new partitions, per your custom requirements.</td></tr></tbody></table><table border="0" cellpadding="4" style="width:1385px;"><tbody><tr><td align="left" style="width:2.527075812274368%;" valign="top"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [2].gif" type="image/gif" align="top" style="cursor: default; height: auto;"/></td><td align="left" style="width:98.00546345844404%;" valign="top">NOTE: The minimum swap size is 250 MB. For memory up to 4 GB, it is recommended that the minimum swap size be at least 2 GB. For the recommended swap size, see <b>docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/<br/>
Installation_Guide/s2-diskpartrecommend-x86.html.</b></td></tr></tbody></table></td></tr></tbody></table><br/></div><div style="font-size: 12px;"><h2>Add-on Device Drivers</h2><p>All Dell add-on device driver packages that are not on the Red Hat Enterprise Linux 6 media are packaged as kernel module packages (kmods). For devices that require updated drivers than those present on the Red Hat Enterprise Linux 6 media, go to <b>support.dell.com</b>.</p><table border="0" cellpadding="4" style="width:677px;"><tbody><tr><td align="left" style="width:5.1698670605613%;" valign="top"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [3].gif" type="image/gif" align="top" style="cursor: default; height: auto;"/></td><td align="left" style="width:95.00365973968114%;" valign="top">NOTE: Your system does not require a driver update if there are no driver packages available on <b>support.dell.com</b>.</td></tr></tbody></table><p>For a list of add-on device drivers that are installed on your system, type the following command at the command prompt:</p><p>rpm -qa |grep kmod </p><table border="0" cellpadding="4" style="width:790px;"><tbody><tr><td align="left" style="width:4.430379746835443%;" valign="top"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [4].gif" type="image/gif" align="top" style="cursor: default; height: auto;"/></td><td align="left" style="width:96.00919913419914%;" valign="top">NOTE: For more information on add-on drivers, see the Red Hat Enterprise Linux driver update program at <b>driverupdateprogram.com.</b></td></tr></tbody></table><h2>Updating Your System Packages Using the Red Hat Network</h2><table border="0" cellpadding="4" style="width:674px;"><tr><td align="left" style="width:5.192878338278932%;" valign="top"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [5].gif" type="image/gif" align="top" style="cursor: default; height: auto;"/></td><td align="left" style="width:95.00415654175725%;" valign="top">NOTE: To update your system with the latest operating system packages using RHN service, see <b>rhn.redhat.com</b>.</td></tr></table><p>Red Hat periodically releases software updates to fix issues, address security issues, and add new features and hardware support. You can download updated operating system packages and the latest kernel releases and updates:</p><ul><li><a name="1196582"></a>By performing a manual download from the RHN service at <b>rhn.redhat.com</b>.<br/><br/></li><li><a name="1196583"></a>By using the <b>yum</b> utility.<br/></li></ul><div>It is recommended that you use the RHN service to update your system software to the latest revisions before you deploy your system.</div><div><br/></div><div><h3>Issues Fixed in Red Hat Enterprise Linux 6.1</h3></div><div><h4>Red Hat Enterprise Linux 6 Installation Fails With Virtual Media</h4><a name="wp1195726"></a><table border="1" cellpadding="4" cellspacing="0" style="width:1189px;"><tbody><tr><td align="left" style="width:6.476030277544155%;" valign="top"><p>Description</p></td><td align="left" style="width:93.35576114381834%;" valign="top"><p>Red Hat Enterprise Linux 6 installation aborts while accessing the iDRAC virtual media.</p></td></tr><tr><td align="left" valign="top"><p>Workaround</p></td><td align="left" valign="top"><ol type="1"><li value="1"><a name="1195716"></a>Go to <b>support.dell.com</b><b>.</b></li><li value="2"><a name="1195717"></a>Click <b>Drivers &amp; Downloads</b>.</li><li value="3"><a name="1195718"></a>Enter your system Service Tag or select your product.</li><li value="4"><a name="1195719"></a>From the <b>Operating System</b> drop-down menu select <b>Red Hat Enterprise Linux 6</b>.</li><li value="5"><a name="1195720"></a>From the <b>All PowerEdge XXX files</b>, click <b>Operating System</b> and download the patch.</li></ol></td></tr><tr><td align="left" valign="top"><p>Cause</p></td><td align="left" valign="top"><p><b>Udev</b> uses <b>cdrom_id</b> binary internally to populate environment variables related to the cdrom device. During installation, certain variables may not be available. Hence, the installation is forced to abort.</p></td></tr></tbody></table></div><div><h2>Finding More Information</h2><ul><li><a name="1195729"></a>See <b>support.dell.com</b> for:<br/><br/></li><li style="list-style: none; display: inline"><ul><li type="circle"><a name="1195730"></a>The latest BIOS and firmware versions.<br/><br/></li><li type="circle"><a name="1195731"></a>Files that are specific to your Dell hardware running the Red Hat Enterprise Linux operating system.<br/><br/></li><li type="circle"><a name="1195732"></a>Information about Dell hardware that is running the Red Hat Enterprise Linux operating system.<br/><br/></li></ul></li><li><a name="1195733"></a>Additional information can be found at <b>redhat.com/rhel/server/</b>.<br/><br/></li><li><a name="1195734"></a>Sign up for mailing lists at <b>lists.us.dell.com</b>.<br/><br/></li><li><a name="1195735"></a>Search for previously posted information that addresses issues that you may encounter at <b>lists.us.dell.com/pipermail/linux-poweredge/</b>.<br/><br/></li><li><a name="1191004"></a>For more information, also see <b>delltechcenter.com</b>.</li></ul></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 24px;"><b>iDRAC 7 (integrated Dell Remote Access Controller 7 with Lifecycle Controller</b><b>)</b></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><b>Integrated Dell Remote Access Controller (iDRAC7) with Lifecycle Controller:</b> <a href="http://content.dell.com/us/en/enterprise/d/solutions/integrated-dell-remote-access-controller-idrac">http://content.dell.com/us/en/enterprise/d/solutions/integrated-dell-remote-access-controller-idrac</a></div><div style="font-size: 12px;"><b>Embedded Lifecycle Management:</b>  <a href="http://content.dell.com/us/en/enterprise/dcsm-embedded-management.aspx">http://content.dell.com/us/en/enterprise/dcsm-embedded-management.aspx</a> </div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><span style="color: rgb(51, 51, 51); text-align: left; background-color: rgb(238, 238, 238);">The Dell™ PowerEdge™ embedded server management solution, Integrated Dell Remote Access Controller (iDRAC) with Lifecycle Controller, helps IT administrators</span><strong style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); text-align: left;">get more done faster</strong><span style="color: rgb(51, 51, 51); text-align: left; background-color: rgb(238, 238, 238);"> when doing essential management tasks, it </span><strong style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); text-align: left;">increases overall availability</strong><span style="color: rgb(51, 51, 51); text-align: left; background-color: rgb(238, 238, 238);"> of your servers, and it </span><strong style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); text-align: left;">reduces your IT operational expenses</strong><span style="color: rgb(51, 51, 51); text-align: left; background-color: rgb(238, 238, 238);">.</span><br style="clear: both; color: rgb(51, 51, 51); text-align: left; background-color: rgb(238, 238, 238);"/><span style="color: rgb(51, 51, 51); text-align: left; background-color: rgb(238, 238, 238);"> </span><br style="clear: both; color: rgb(51, 51, 51); text-align: left; background-color: rgb(238, 238, 238);"/><span style="color: rgb(51, 51, 51); text-align: left; background-color: rgb(238, 238, 238);">With powerful, easy-to-use, remote management and configuration options, iDRAC with Lifecycle Controller alerts IT administrators when an issue occurs, enables streamlined local and remote server management, and reduces or eliminates the need for administrators to physically visit the server — even if the server is not operational.</span><br style="clear: both; color: rgb(51, 51, 51); text-align: left; background-color: rgb(238, 238, 238);"/><br style="clear: both; color: rgb(51, 51, 51); text-align: left; background-color: rgb(238, 238, 238);"/><span style="color: rgb(51, 51, 51); text-align: left; background-color: rgb(238, 238, 238);">Our second-generation embedded server management, iDRAC7 with Lifecycle Controller, now enables IT administrators to deploy, update, monitor and maintain Dell PowerEdge servers </span><strong style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); text-align: left;">with or without a systems management software agent installed</strong><span style="color: rgb(51, 51, 51); text-align: left; background-color: rgb(238, 238, 238);">.</span></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;">-----------</div><div style="font-size: 12px;"><a href="http://en.wikipedia.org/wiki/Dell_DRAC">http://en.wikipedia.org/wiki/Dell_DRAC</a></div><div style="font-size: 12px;"><p>The iDRAC version 7 was introduced in conjunction with the <a href="http://en.wikipedia.org/wiki/List_of_Dell_PowerEdge_Servers#Generation_12" title="List of Dell PowerEdge Servers">Dell PowerEdge generation 12</a> servers in March 2012.<sup><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_note-iDRAC7-9">[10]</a></sup> Unlike previous versions the functionality of iDRAC 7 is the same for rack, tower and blade-servers. iDRAC7 is available on the Generation 12 servers: R/T/M 620 and R720(xd).</p><h2 style="font-size: 19px;"><font size="3" style="font-size: 12px;">Power management</font></h2><p><b>With the DRAC enabled and using its own separate network connection, a user may login and reboot the system even if the core operating system has crashed.</b> If the operating system has loaded the correct drivers, the DRAC will attempt to shutdown the system gracefully. Without this feature and with the system running, <b>administrators can use the remote console to access the operating system to shut down the machine....</b></p><h2 style="font-size: 19px;"><font size="3" style="font-size: 12px;">Remote console</font></h2><p>The remote console features of the DRAC allow an administrator to interface with the computer as if sitting in front of it, and one can share the local inputs from keyboard and mouse as well as video output (DRAC does not support remote sound). Remote-console capability relies on an <a href="http://en.wikipedia.org/wiki/Active_X" title="Active X">Active X</a> or <a href="http://en.wikipedia.org/wiki/Java_%28Sun%29" title="Java (Sun)">Java</a> <a href="http://en.wikipedia.org/wiki/Plug-in_%28computing%29" title="Plug-in (computing)">plug-in</a> (depending on the model), which displays a window showing the video output on the local terminal and which takes mouse and keyboard input. This behavior closely resembles that of other remote access solutions such as <a href="http://en.wikipedia.org/wiki/VNC" title="VNC">VNC</a> or <a href="http://en.wikipedia.org/wiki/Remote_Desktop_Protocol" title="Remote Desktop Protocol">RDP</a> but also works if the operating system of the server doesn't work anymore (unlike VNC or RDP). It is used to take the server console remotely.</p><h2 style="font-size: 19px;"><font size="3" style="font-size: 12px;">Virtual media</font></h2><p><b>The DRAC enables a user to mount remotely-shared disk-images as if they were connected to the system.</b> In combination with the remote console, this gives administrators the ability to completely re-install an <a href="http://en.wikipedia.org/wiki/Operating_system" title="Operating system">operating system</a>, a task which traditionally required local <a href="http://en.wikipedia.org/wiki/System_console" title="System console">console</a> access to the physical machine. <b>Administrators can control virtual media through the browser or through the <a href="http://en.wikipedia.org/wiki/OpenManage" title="OpenManage">OpenManage</a> tools provided by Dell</b>, though specific versions of browsers restrict some functionality. <sup><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_note-10"></a></sup></p></div><div style="font-size: 12px;"><h2 style="font-size: 19px;"><font size="3" style="font-size: 12px;">Access</font></h2><div>The main DRAC management takes place via a web interface. <b>All generations of the DRAC use the default user name <code>root</code> and the default password <code>calvin</code>.</b> Starting with the DRAC 3, Microsoft Active Directory can also provide authentication either with Dell AD Schema Extensions or Standard Schema.</div></div><div style="font-size: 12px;"><h2 style="font-size: 19px;"><font size="3" style="font-size: 12px;">Generation 12: iDRAC7</font></h2><p>For the Generation 12 servers, introduced in March 2012, Dell released iDRAC 7 for these servers. iDRAC 7 won't work on earlier generation servers although some of the new functions introduced with iDRAC 7 will also be offered in new software-releases for iDRAC 6<sup><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_note-iDrac6B-6">[7]</a></sup><sup><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_note-iDrac6M-7">[8]</a></sup> On 6 March 2012, software version 1.00.00 for the iDRAC7 was released to the public. As of August 2012 iDRAC 7 the software revision is 1.20.20</p><p><b>With the introduction of iDRAC 7 the licensing model has changed. iDRAC 7 now supports <font color="#E30000">Lifecycle Controller</font>. Some features of Lifecycle controller are licensed and to access those features via iDRAC the correct licenses for those functions need to be enabled.</b></p><h3><font size="3" style="font-size: 12px;">Supported hardware platforms</font></h3><p>iDRAC 7 runs on <a href="http://en.wikipedia.org/wiki/List_of_Dell_PowerEdge_Servers#Generation_12" title="List of Dell PowerEdge Servers">Generation 12</a> servers. Per introduction in March 2012 the following servers are using iDRAC7<sup><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_note-iDRAC7-9">[10]</a></sup>:</p><dl><dd><ul><li>PowerEdge T620 - tower model of 620, can be converted to 5<a href="http://en.wikipedia.org/wiki/Rack_unit" title="Rack unit">U</a> rack system</li><li>PowerEdge R420 - native rack-server, 1 <a href="http://en.wikipedia.org/wiki/Rack_unit" title="Rack unit">U</a> high</li><li>PowerEdge R620 - native rack-server, 1 <a href="http://en.wikipedia.org/wiki/Rack_unit" title="Rack unit">U</a> high</li><li>PowerEdge M620 - blade-server for <a href="http://en.wikipedia.org/wiki/Dell_M1000e" title="Dell M1000e">M1000e</a> enclosure, ½height (=max 16 per chassis)</li><li><b>PowerEdge R720 - rack-server, 2<a href="http://en.wikipedia.org/wiki/Rack_unit" title="Rack unit">Rack units</a></b></li><li>PowerEdge R720xd - as R720 with option for extra HDD driver units in the enclosure</li></ul></dd></dl><h3><font size="3" style="font-size: 12px;">Supported operating systems</font></h3><p>iDRAC 7 is supported by the following operating systems</p><dl><dd><ul><li>Microsoft Windows server 2008 SP2 (standard, enterprise and datacenter editions), x86 and x64</li><li>Microsoft Windows server 2008 R2 SP1 (standard, enterprise and datacenter editions), x64</li><li>Microsoft Small Business Server 2011, x64</li><li>Suse Linux Exterprise Server (SLES) 10 and 11, x64</li><li><b>Red Hat Enterprise Linux (RHEL), 5.8 (x86/x64) and 6.1 (x64)</b></li><li>Microsoft Hyper-V (with Windows server 2008) and Hyper-V R2 (server 2008R2)</li><li>VMWare ESX/ESXi 4.1, Update 2</li><li>VMWare ESXi 5 Patch 01</li><li>Citrix Xen Server 6</li></ul></dd></dl><h3><font size="3" style="font-size: 12px;">Supported webbrowsers</font></h3><p>The GUI for iDRAC7 uses a webbrowser and JAVA. IE7, IE8 and IE9 as well as Firefox 6 + 7 have been tested for different operating systems<sup><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_note-iDRAC7-9">[10]</a></sup></p><h2 style="font-size: 19px;"><font size="3" style="font-size: 12px;">Limitations</font></h2><p>To take advantage of storage greater than 256 MB on the iDRAC6 enterprise, Dell requires that a vFlash SD card be procured through Dell channels. While there is no functional difference between a Dell-branded vFlash SD and a class 2 or greater SDHC card, the use of non-Dell media prevents the use of extended capacities and functions.</p><p>On a Linux client system the standard arrow and print screen keys can't be used in the iDRAC6 Java virtual console application because of some incompatible key event IDs,<sup><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_note-18">[19]</a></sup> however the arrow keys on the numeric keypad can still be used.</p><div>Additionally the support for virtual media via the Java applet or the plugin in DRAC5 and iDRAC6 is limited to older Internet browsers.</div></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><h2 style="font-size: 19px;"><font size="3" style="font-size: 12px;">References</font></h2><div style="-webkit-column-count: 2; list-style: decimal;"><ol><li><b><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-0">^</a></b> <a href="http://www.dell.com/downloads/global/power/ps3q06-20060118-McGary.pdf" rel="nofollow">&quot;Exploring the DRAC 5&quot;</a>. <i>Dell Power Solutions, August 2006</i>. Dell. p. 27.</li><li><b><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-1">^</a></b> Dell support website <a href="http://support.dell.com/support/edocs/software/smdrac3/" rel="nofollow">Dell Remote Access Controllers manuals</a>, visited 7 March 2012</li><li><b><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-2">^</a></b> Manual for the <a href="http://support.dell.com/support/edocs/software/smdrac/index.htm" rel="nofollow">Dell Open Manage Remote Assistant Card II</a>, 14 December 1999. Visited 7 March 2012</li><li><b><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-3">^</a></b> Dell support website <a href="http://support.dell.com/support/edocs/software/smdrac3/drac3/index.htm" rel="nofollow">DRAC 3 manuals</a>, visited 7 March 2012</li><li><b><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-4">^</a></b> Dell manuals for <a href="http://support.dell.com/support/edocs/software/smdrac3/drac4/index.htm" rel="nofollow">DRAC 4</a>, 9 August 2004, Visited 7 March 2012</li><li><b><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-5">^</a></b> Dell manuals for <a href="http://support.dell.com/support/edocs/software/smdrac3/drac5/index.htm" rel="nofollow">DRAC 5</a>, 7 June 2006, Visited 7 March 2012</li><li>^ <a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-iDrac6B_6-0"><sup><i><b>a</b></i></sup></a> <a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-iDrac6B_6-1"><sup><i><b>b</b></i></sup></a> Dell manuals for <a href="http://support.dell.com/support/edocs/software/smdrac3/idrac/idrac32modular/index.htm" rel="nofollow">iDRAC 6 for blade servers</a>, visited 7 March 2012</li><li>^ <a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-iDrac6M_7-0"><sup><i><b>a</b></i></sup></a> <a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-iDrac6M_7-1"><sup><i><b>b</b></i></sup></a> Manual for <a href="http://support.dell.com/support/edocs/software/smdrac3/idrac/idrac18mono/index.htm" rel="nofollow">IDrac 6 for monolythic servers</a>, visited 7 March 2012]</li><li><b><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-8">^</a></b> Manual for <a href="http://support.dell.com/support/edocs/software/smdrac3/idrac/idrac33modular/index.htm" rel="nofollow">IDrac 6 for blade servers</a>, visited 7 March 2012]</li><li>^ <a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-iDRAC7_9-0"><sup><i><b>a</b></i></sup></a> <a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-iDRAC7_9-1"><sup><i><b>b</b></i></sup></a> <a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-iDRAC7_9-2"><sup><i><b>c</b></i></sup></a> <a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-iDRAC7_9-3"><sup><i><b>d</b></i></sup></a> Dell manuals for <a href="http://support.dell.com/support/edocs/software/smdrac3/idrac7/10000/en/index.htm" rel="nofollow">iDRAC 7</a>, version 1.0, 6 March 2012, visited 7 March 2012</li><li><b><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-10">^</a></b> <a href="http://support.dell.com/support/edocs/software/smdrac3/drac5/OM53/en/ug/racugc1.htm#34352" rel="nofollow">&quot;Supported Web Browsers&quot;</a>. <i>Users Guide</i>. Dell.</li><li><b><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-11">^</a></b> <a href="http://support.dell.com/support/edocs/software/smdrac3/drac5/OM53/en/ug/racugc2.htm#49673" rel="nofollow">&quot;Accessing the DRAC 5 Through a Network&quot;</a>. <i>Users Guide</i>. Dell.</li><li><b><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-12">^</a></b> <a href="http://support.dell.com/support/edocs/software/smdrac3/drac4/160/en/ug/racugc2.htm#49673" rel="nofollow">&quot;Accessing the DRAC 4 Through a Network&quot;</a>. <i>Users Guide</i>. Dell.</li><li><b><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-13">^</a></b> <a href="http://support.dell.com/support/edocs/software/smdrac3/drac3/ug/drac3c40.htm#30869" rel="nofollow">&quot;Accessing the DRAC III Web-Based Interface&quot;</a>. <i>Users Guide</i>. Dell.</li><li><b><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-14">^</a></b> <a href="http://support.dell.com/support/edocs/software/smdrac3/cmc/ug/html/install.htm#wp1199495" rel="nofollow">&quot;Accessing the CMC Through a Network&quot;</a>. <i>Users Guide</i>. Dell.</li><li><b><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-15">^</a></b> <a href="http://support.dell.com/support/edocs/software/smdrac3/idrac/en/ug/html/chap02.htm#wp86375" rel="nofollow">&quot;iDRAC, Configuring Networking Using the CMC Web Interface&quot;</a>. <i>Users Guide</i>. Dell.</li><li><b><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-16">^</a></b> <a href="http://opensource.dell.com/" rel="nofollow">Dell Open Source repository</a></li><li><b><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-17">^</a></b> <a href="http://lists.us.dell.com/pipermail/linux-poweredge/2010-December/043738.html" rel="nofollow">Post on Dell Linux-PowerEdge mailing list, Dec 2010</a></li><li><b><a href="http://en.wikipedia.org/wiki/Dell_DRAC#cite_ref-18">^</a></b> <a href="http://lists.us.dell.com/pipermail/linux-poweredge/2011-June/044970.html" rel="nofollow">Post on Dell Linux-PowerEdge mailing list, Jun 2011</a></li></ol></div></div><div dir="ltr" lang="en" style="font-size: 12px;"><h2 style="font-size: 19px;"><font size="3" style="font-size: 12px;">External links</font></h2><ul><li><a href="http://support.dell.com/support/edocs/software/smdrac3/" rel="nofollow">Available manuals for iDRAC7</a></li><li><a href="http://support.dell.com/support/edocs/software/smdrac3/idrac/idrac10mono/en/ug/html/index.htm" rel="nofollow">Dell Remote Access Controller 6 (iDRAC 6)</a></li><li><a href="http://support.dell.com/support/edocs/software/smdrac3/drac5/OM5.2/en/index.htm" rel="nofollow">Dell Remote Access Controller 5 (DRAC 5) Version 1.20</a></li><li><a href="http://www.dell.com/content/topics/global.aspx/power/en/ps2q02_bell" rel="nofollow">DRAC II/III product info</a> from <a href="http://en.wikipedia.org/wiki/Dell" title="Dell">Dell</a></li><li><a href="http://support.dell.com/support/edocs/software/smdrac3/" rel="nofollow">Dell Remote Access Controller User Guides</a></li><li><a href="http://www.infoworld.com/article/05/12/12/50PPpreview_1.html?NETWORK%20HARDWARE" rel="nofollow">Managing out-of-band management</a> in <a href="http://en.wikipedia.org/wiki/Infoworld" title="Infoworld">Infoworld</a></li><li><a href="http://wiki.ndgf.org/display/ndgfwiki/Dell+PowerEdge+1950+DRAC" rel="nofollow">Dell DRAC 5 Remote SSH Console Redirection</a></li><li><a href="http://www.liebsoft.com/drac_integration/#" rel="nofollow">Dell DRAC Password Management Software by Lieberman Software Corporation</a></li></ul></div><div><br/></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><br/><div style="font-size: 24px;"><b>Factory pre-installation not recommended. Testing two deployment procedures with a fresh installation of RHEL6</b></div><div style="font-size: 12px;"><b><u><br/></u></b></div><div style="font-size: 12px;">Los servidores incluyen una preinstalación de fábrica con RHEL 6.1, disco RAID HW de 1,4 TB, modo BOOT BIOS (no UEFI), con 1 único VG con sistema y datos !!; y con una instalación genérica de Linux que incluye escritorio gráfico X11 GNOME (?!!???) desde el que la empresa de soporte gestiona en remoto los servidores (vía vnc-server ó consola DRAC ?). </div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;">Se decide reinstalar Red Hat 6 en los servidores DELL ('instalación fresca' en inglés), con una configuración a medida y siguiendo las buenas prácticas más recientes: <b>VG de sistema separado del VG de datos, /usr dentro del file system root</b>, etc. (evitando así muchos problemas).</div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;">De todas las posibilidades existentes para la instalación de Red Hat, se han probado simultáneamente 2 procedimientos en 2 servidores DELL r720 vía <b>DELL USC</b> (<u>en remoto</u>) para el despliegue de Red Hat Enterprise Linux 6:</div><div style="font-size: 12px;"><ol><li><b>servidorA:</b> Instalación remota vía &quot;DRAC -&gt; <b>USC</b> -&gt; OS Deployment -&gt; RHEL 6.1&quot; -&gt; con DVD de RHEL6.1 x86_64 -&gt; <u>Las capturas de pantalla de este documento hacen referencia a este procedimiento</u></li><li><b>servidorB:</b> Instalación remota vía &quot;DRAC -&gt; <b>USC</b> -&gt; OS Deployment -&gt; Other OS&quot; -&gt; con DVD de RHEL6.3 x86_64 -&gt; <u>Esta será finalmente el procedimiento escogido para el resto de servidores (más rápido, sin drivers de DELL) </u></li></ol></div><div style="font-size: 12px;"><b>Nota importante: RHEL 6.3 x86_64 está certificado para DELL PowerEdge R720, luego no necesitamos drivers extra de DELL </b>-&gt; <a href="https://hardware.redhat.com/">https://hardware.redhat.com/</a></div><div style="font-size: 12px;"><b>Nota2:</b> VMware VSphere tampoco figura en la lista de OS a desplegar en &quot;USC -&gt; OS Deployment&quot;, en cambio sí que aparece su predecesor VMware ESXi.. Esto no quiere decir que VMware VSphere, al igual que RHEL 6.3, no sea compatible, sino que se tratan de versiones de OS recientes que tarde ó temprano aparecerán en la lista. Lo importante aquí es asegurarse que la versión de OS está certificada para nuestro hardware y hacer un despliegue de &quot;Other OS&quot; si nuestra versión no figura aún en la lista de USC.</div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><u>Elegimos instalación BIOS Boot estándar (no UEFI).</u></div><div style="font-size: 12px;"><u><br/></u></div><div style="font-size: 12px;"><b>Nota:</b> <b>Se recomienda que todo el nuevo entorno sea lo más homogéneo posible, en este caso RHEL6.3 x86_64 en todos los despliegues de sistema (hypervisors y VMs), tanto para WebApp como para Bases de Datos Oracle (producción, preproducción, desarrollo, pruebas, etc)</b>, con un similar particionado, VG de sistema y datos separado, etc. Se facilita así la gestión, ya que por ejemplo los comandos CLI de análisis de rendimiento de Linux cambian de una versión a otra (de la v5 a la v6), RH6.3 incorpora macvtap y numerosos bugfixes de RH6.1, etc. Nota: En ocasiones algunas aplicaciones requieren una distribución linux específica.</div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><span style="color: rgb(28, 51, 135);">The 3 hypervisor servers</span><span style="color: rgb(28, 51, 135);"> that will host the balanced WebApp Virtual Machines </span><span style="color: rgb(28, 51, 135);">include a</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">factory</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">pre-installed</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">RHEL</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">6.1,</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">HW</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">RAID</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">Disk</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">1.4 TB</span><span style="color: rgb(28, 51, 135);">,</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">BIOS</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">BOOT</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">mode</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">(</span><span style="color: rgb(28, 51, 135);">no</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">UEFI</span><span style="color: rgb(28, 51, 135);">)</span><span style="color: rgb(28, 51, 135);">,</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">with</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">one</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">single</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">VG</span><span style="color: rgb(28, 51, 135);"> for</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">system</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">and data</span><span style="color: rgb(28, 51, 135);">!</span><span style="color: rgb(28, 51, 135);">,</span><span style="color: rgb(28, 51, 135);"> a</span><span style="color: rgb(28, 51, 135);">nd a</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">generic</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">Linux</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">installation</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">that</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">includes </span><span style="color: rgb(28, 51, 135);">GNOME</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">graphical desktop</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">X11</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">(</span><span style="color: rgb(28, 51, 135);">?</span><span style="color: rgb(28, 51, 135);">!</span><span style="color: rgb(28, 51, 135);">!</span><span style="color: rgb(28, 51, 135);">?</span><span style="color: rgb(28, 51, 135);">?</span><span style="color: rgb(28, 51, 135);">?</span><span style="color: rgb(28, 51, 135);">)</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">from which the servers are managed remotely</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">(via</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">vnc</span><span style="color: rgb(28, 51, 135);">-server</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">or</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">DRAC</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">console</span><span style="color: rgb(28, 51, 135);">?</span><span style="color: rgb(28, 51, 135);">)</span><span style="color: rgb(28, 51, 135);">.</span><br style="color: rgb(28, 51, 135);"/><br style="color: rgb(28, 51, 135);"/><span style="color: rgb(28, 51, 135);">The</span><span style="color: rgb(28, 51, 135);"> existing installation is unstable and not recommended. A</span><span style="color: rgb(28, 51, 135);"> fresh installation of</span><span style="color: rgb(28, 51, 135);"> RHEL</span><span style="color: rgb(28, 51, 135);"> 6</span><span style="color: rgb(28, 51, 135);"> is applied </span><span style="color: rgb(28, 51, 135);">on the 3 Dell PowerEdge R720 servers</span><span style="color: rgb(28, 51, 135);"> with a</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">custom setting</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">and following the</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">latest best practices</span><span style="color: rgb(28, 51, 135);">:</span><span style="color: rgb(28, 51, 135);"> DATA </span><span style="color: rgb(28, 51, 135);">VG</span><span style="color: rgb(28, 51, 135);"> detached from SYSTEM VG</span><span style="color: rgb(28, 51, 135);">,</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">/</span><span style="color: rgb(28, 51, 135);">usr</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">file system</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">in </span><span style="color: rgb(28, 51, 135);">root file system</span><span style="color: rgb(28, 51, 135);">,</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">etc.</span><span style="color: rgb(28, 51, 135);"> This will avoid us many issues.</span></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><font color="#1C3387">Two deployment procedures have been tested simultaneously on 2 DELL PowerEdge R720 servers via DELL USC (<u>remote deployment</u>):</font></div><div style="font-size: 12px;"><ol><li><font color="#1C3387"><b>serverA:</b> Remote Deployment vía &quot;DRAC -&gt; <b>USC</b> -&gt; OS Deployment -&gt; RHEL 6.1&quot; -&gt; DVD de RHEL6.1 x86_64 -&gt; <u>Screenshots on this document are about this procedure</u></font></li><li><font color="#1C3387"><b>serverB:</b> Remote Deployment vía &quot;DRAC -&gt; <b>USC</b> -&gt; OS Deployment -&gt; Other OS&quot; -&gt; DVD de RHEL6.3 x86_64 -&gt; <u>This is finally the chosen and recommended procedure to be applied on the remaining servers (faster, no DELL drivers included)</u></font></li></ol></div><div style="font-size: 12px;"><b style="color: rgb(28, 51, 135);">Important note: RHEL 6.3 x86_64 is certified for DELL PowerEdge R720, therefore we do not need extra DELL drivers</b><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">-</span><span style="color: rgb(28, 51, 135);">&gt;</span><span style="color: rgb(28, 51, 135);"> </span><a href="https://hardware.redhat.com/">https://hardware.redhat.com/</a><span style="color: rgb(28, 51, 135);"> </span><br style="color: rgb(28, 51, 135);"/><b style="color: rgb(28, 51, 135);">Note2:</b><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">VMware</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">VSphere</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">does not appear in</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">the list of</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">OS</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">to</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">deploy</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">in</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">&quot;</span><span style="color: rgb(28, 51, 135);">USC</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">-</span><span style="color: rgb(28, 51, 135);">&gt;</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">OS</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">Deployment</span><span style="color: rgb(28, 51, 135);">&quot;, however</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">it does appear</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">his predecessor</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">VMware</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">ESXi</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">..</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">This doesn't mean</span><span style="color: rgb(28, 51, 135);"> that</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">VMware</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">VSphere</span><span style="color: rgb(28, 51, 135);">, like</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">RHEL</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">6.3,</span><span style="color: rgb(28, 51, 135);"> is </span><span style="color: rgb(28, 51, 135);">not compliant. Latest</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">OS</span><span style="color: rgb(28, 51, 135);"> releases</span><span style="color: rgb(28, 51, 135);"> will appear in the list after a firmware/DELL USC upgrade.</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">The important thing</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">here is to ensure</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">that our hardware is certified by our OS provider, </span><span style="color: rgb(28, 51, 135);">and deploy via</span><span style="color: rgb(28, 51, 135);"> </span><b style="color: rgb(28, 51, 135);">&quot;Other OS&quot;</b><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">if</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">our current release is</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">not yet available in the USC deployment list</span><span style="color: rgb(28, 51, 135);">.</span></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><u><font color="#1C3387"><b>Standard BIOS Boot deployment is chosen (not UEFI)</b></font></u></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><font color="#1C3387"><span lang="en"><b>It is recommended to set up a new environment as homogeneous as possible (although some applications might require specific linux distributions). In this case RHEL6.3 x86_64 is deployed on all the new OS deployments (hypervisors and VMs) for both WebApp and Oracle databases</b> (production, preproduction, development, testing, etc.) with similar partitioning, DATA VG detached from VG SYSTEM, etc. This simplifies the management of infrastructure, such as linux performance analysis commands change from one version to another (from v5 to v6), </span>RH6.3 incorporates macvtap (not included on RH6.1), bugfixes, etc..</font></div><div style="font-size: 12px;"><font color="#1C3387"><br/></font></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 12px;"><div><b style="font-size: 24px;">RAID Hardware performance optimization: recommended Stripe Size and Read/Write cache Policy </b></div></div><div style="font-size: 12px;"><font color="#1C3387"><br/></font></div><div style="font-size: 12px;"><font color="#1C3387">Para optimizar la lecturas y escrituras en disco podemos recrear los discos RAID configurados de fábrica. Esto implica perder por completo la tabla de particiones de fábrica (no immportante).</font></div><div style="font-size: 12px;"><font color="#1C3387"><br/></font></div><div style="font-size: 12px;"><font color="#1C3387">En este caso se trata de otro cliente diferente al mencionado en este documento (un servidor CDN con contenido video streaming via HTTP). Nuestra controladora RAID es una Perc H710 Mini, y disponemos de 6 discos de 300GB SAS 10k (278'9 GB en RAID10 = 836'62GB) </font></div><div style="font-size: 12px;"><font color="#1C3387">Dentro de Dell USC creamos de nuevo un disco RAID 10 con los siguientes opciones seleccionadas en verde:</font></div><div><ul><li style="font-size: 12px;"><span style="color: rgb(28, 51, 135);">RAID10 stripe size:</span></li><li style="list-style: none; display: inline"><ul style="font-size: 12px;"><li><span style="color: rgb(28, 51, 135);">64KB (Default)</span></li><li><span style="color: rgb(28, 51, 135);">128KB</span></li><li><span style="color: rgb(28, 51, 135);">256KB</span></li><li><b><font color="#328712">512KB</font></b></li><li><span style="color: rgb(28, 51, 135);">1MB</span></li></ul></li><li><font color="#1C3387"><span style="font-size: 12px;">Read Policy:</span></font></li><li style="list-style: none; display: inline"><ul><li><span style="font-size: 12px;"><b><font color="#328712">Adaptive Read Ahead</font></b></span></li><li><font color="#1C3387"><span style="font-size: 12px;">Read Ahead</span></font></li><li><font color="#1C3387"><span style="font-size: 12px;">No Read Ahead (Default)</span></font></li></ul></li><li><font color="#1C3387"><span style="font-size: 12px;">Write Policy:</span></font></li><li style="list-style: none; display: inline"><ul><li><font color="#1C3387"><span style="font-size: 12px;">Write through</span></font></li><li><span style="font-size: 12px;"><b><font color="#328712">Write back (Default)</font></b></span></li><li><font color="#1C3387"><span style="font-size: 12px;">Force write back</span></font></li></ul></li></ul></div><div style="font-size: 12px;"><font color="#1C3387"><br/></font></div><div style="font-size: 12px;"><font color="#1C3387"><br/></font></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 24px;"><b>Operating System Support Matrix for Dell PowerEdge Servers</b></div><div style="font-size: 12px;"><ul><li>Dell PowerEdge platform support and certification matrix on RHEL 6 x86_64 *: <a href="http://en.community.dell.com/techcenter/os-applications/w/wiki/red-hat.aspx">http://en.community.dell.com/techcenter/os-applications/w/wiki/red-hat.aspx</a>  </li><li>Linux OS Support on Dell PowerEdge Servers: <a href="http://en.community.dell.com/techcenter/os-applications/w/wiki/3676.linux-os-support-on-dell-poweredge-servers.aspx">http://en.community.dell.com/techcenter/os-applications/w/wiki/3676.linux-os-support-on-dell-poweredge-servers.aspx</a> </li><li><b>Operating System Support Matrix for Dell PowerEdge Servers</b>. <b><font color="#E30000">Dell PowerEdge 12th generation</font></b> servers Red Hat Enterprise Linux (RHEL) support Matrix: <a href="http://linux.dell.com/files/supportmatrix/RHEL_Support_Matrix.pdf">http://linux.dell.com/files/supportmatrix/RHEL_Support_Matrix.pdf</a> </li><li>Red Hat Enterprise Linux 6.3 on Dell PowerEdge servers (Features and Native drivers): <a href="http://en.community.dell.com/techcenter/b/techcenter/archive/2012/07/24/red-hat-enterprise-linux-6-3-on-dell-poweredge-servers-features-and-native-drivers.aspx">http://en.community.dell.com/techcenter/b/techcenter/archive/2012/07/24/red-hat-enterprise-linux-6-3-on-dell-poweredge-servers-features-and-native-drivers.aspx</a> </li><li>The Dell and Red Hat Alliance: <a href="http://content.dell.com/us/en/enterprise/d/operating-systems/redhatalliance.aspx">http://content.dell.com/us/en/enterprise/d/operating-systems/redhatalliance.aspx</a> </li><li>Virtualization limits for RHEL hypervisors: <a href="http://www.redhat.com/resourcelibrary/articles/virtualization-limits-rhel-hypervisors">http://www.redhat.com/resourcelibrary/articles/virtualization-limits-rhel-hypervisors</a> </li><li>RHEL 6 Installation Instructions: <a href="http://support.dell.com/support/edocs/software/rhel_mn/rhel6/index.htm">http://support.dell.com/support/edocs/software/rhel_mn/rhel6/index.htm</a></li></ul></div><div style="font-size: 12px;"><br/></div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px; font-size: 12px;"><div><b>*Drivers (not applied in our Dell PowerEdge R720 servers running RHEL 6.3 x86_64, this page is out of date and about Dell 9G, 10G and 11G. <font color="#E30000">Our Servers are 12G</font>)</b></div><div>While we ensure all servers/peripherals have native support as far as possible, there are instances where an updated driver might be necessary. For RHEL 6, the following driver updates would be required for optimum operation of the respective peripheral.</div></blockquote><div style="font-size: 12px;"><ul><li style="list-style: none; display: inline"><ul><li>Brocade - <a href="http://www.brocade.com/services-support/drivers-downloads/CNA/Linux.page" rel="nofollow" target="_blank">Driver download page</a></li></ul></li></ul><ul><li style="list-style: none; display: inline"><ul><li><a href="http://www.dell.com/us/business/p/switch-brocade-1020/pd?refid=switch-brocade-1020&amp;baynote_bnrank=0&amp;baynote_irrank=1&amp;%7Eck=dellSearch" rel="nofollow" target="_blank">Brocade 1020 Converged Network Adapter</a></li><li><a href="http://search.dell.com/searchcom_redirect.aspx?c=us&amp;l=en&amp;s=gen&amp;cs=&amp;k=Brocade+825&amp;tdc=1&amp;p=1&amp;rpp=12&amp;cd=1&amp;cat=prod&amp;sfp=product&amp;dtype=product&amp;did=switch-brocade-825&amp;redp=http%3a%2f%2fwww.dell.com%2fcontent%2fproducts%2fproductdetails.aspx%2fswitch-brocade-825%3fc%3dus%26l%3den%26s%3dbsd%26cs%3d04%26baynote_bnrank%3d0%26baynote_irrank%3d1%26%7eck%3ddellSearch&amp;redpe=edafda3c-b61d-309c-52a1-d6051305bbbd" rel="nofollow" target="_blank">Brocade 825 Fibre Channel Host Bus Adapter</a></li><li><a href="http://search.dell.com/searchcom_redirect.aspx?c=us&amp;l=en&amp;s=gen&amp;cs=&amp;k=Brocade+815&amp;tdc=1&amp;p=1&amp;rpp=12&amp;cd=1&amp;cat=prod&amp;sfp=product&amp;dtype=product&amp;did=switch-brocade-815&amp;redp=http%3a%2f%2fwww.dell.com%2fcontent%2fproducts%2fproductdetails.aspx%2fswitch-brocade-815%3fc%3dus%26l%3den%26s%3dbsd%26cs%3d04%26baynote_bnrank%3d0%26baynote_irrank%3d1%26%7eck%3ddellSearch&amp;redpe=86d55f98-9f62-c742-812d-afcfde6fa842" rel="nofollow" target="_blank">Brocade 815 Fibre Channel Host Bus Adapter</a></li><li>Brocade 1741M-k mezzanine Converged Network Adapter</li></ul></li></ul></div><div style="font-size: 12px;"><br/></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 12px;"><br/></div><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 35px;"><font size="3" style="font-size: 24px;">knowhow: UEFI Boot vs BIOS Boot deployment</font></h1><h1 style="font-size: 25px;"><font size="3" style="font-weight: normal; font-size: 12px;">Haremos uso de una instalación tradicional BOOT BIOS, ya que nuestro disco interno RAID es de 1,4TB e inferior a 2TB. </font></h1><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;"><span style="font-weight: normal;">A traditional </span><span style="font-weight: normal;">BIOS </span><span style="font-weight: normal;">BOOT deployment will be accomplished, considering that our internal RAID disk is of 1,4TB and smaller than 2TB.</span></font></h1><b>Reference:</b> <a href="http://www.tomshardware.co.uk/forum/298915-10-bios-uefi">http://www.tomshardware.co.uk/forum/298915-10-bios-uefi</a><br/><b><font color="#FF0000">RHEL 6.2 on UEFI based system:</font> </b><a href="http://www.linuxforums.org/forum/red-hat-fedora-linux/186588-rhel-6-2-uefi-based-system.html">http://www.linuxforums.org/forum/red-hat-fedora-linux/186588-rhel-6-2-uefi-based-system.html</a> </td></tr></table></div><div style="font-size: 12px;"><div><br/></div><div>The interface defined by the EFI specification includes data tables that contain platform information, and boot and runtime services that are available to the OS loader and OS. UEFI firmware provides several technical advantages:[8]<br/><b><font color="#FF0000">Ability to boot from large disks (over 2TB)</font></b><br/>
Faster boot-up<br/>
CPU-independent architecture<br/>
CPU-independent drivers<br/>
Flexible pre-OS environment, including networking support<br/>
Modular design<br/><br/></div><div> Also I have heard that the UEFI is much faster and much more configurable than the good ol BIOS.</div><div> </div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 12px;"><br/><div>After the setup is launched from the Windows operating system installation, the process is the same for either UEFI or BIOS mode. <b>The difference in the installed system after setup completes is that the hard disk partition format uses the GPT format with UEFI enabled and the windows boot environment uses a UEFI version of the Windows Boot Manager. Without UEFI enabled, the installed operating system uses the MBR format for hard disk partitions and a BIOS version of Windows Boot Manager</b>.  The user must delete the existing partition which is formatted in MBR if the customer wants to install an UEFI based OS. The same is true for the reverse scenario if the disk is already formatted as GPT.</div><div><br/></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 12px;"><div><br/></div><div><a href="http://www.cyberciti.biz/tips/fdisk-unable-to-create-partition-greater-2tb.html">http://www.cyberciti.biz/tips/fdisk-unable-to-create-partition-greater-2tb.html</a></div><div><br/></div><div>Frankly speaking, <b>you cannot create a Linux partition larger than 2 TB using the fdisk command. The fdisk won't create partitions larger than 2 TB.</b> This is fine for desktop and laptop users, but on server you need a large partition. For example, you cannot create 3TB or 4TB partition size (RAID based) using the fdisk command. It will not allow you to create a partition that is greater than 2TB. In this tutorial, you will learn more about creating Linux filesystems greater than 2 Terabytes to support enterprise grade operation under any Linux distribution.</div><div><br/></div><div> To solve this problem use GNU parted command with GPT. It supports Intel EFI/GPT partition tables. Partition Table (GPT) is a standard for the layout of the partition table on a physical hard disk. It is a part of the Extensible Firmware Interface (EFI) standard proposed by Intel as a replacement for the outdated PC BIOS, one of the few remaining relics of the original IBM PC. EFI uses GPT where BIOS uses a Master Boot Record (MBR).</div><div> </div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 12px;"><div><br/></div><div><br/><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><span style="font-weight: normal;"><font size="3" style="font-size: 12px;">Procedimientos de despliegue ó reinstalación de OS en Dell PowerEdge R720 (queremos una instalación nueva)</font></span></h1><div><h1 style="font-size: 35px;"><font size="3" style="font-size: 24px;">Recommendation: Valid OS Deployment/Reinstallation Procedures on Dell PowerEdge R720 (we want a fresh installation)</font></h1></div><b>Reference:</b> <a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/3/html/System_Administration_Guide/s1-parted-create-part.html">http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/3/html/System_Administration_Guide/s1-parted-create-part.html</a><br/></td></tr></tbody></table></div><div><br/></div><div>Valid procedures according to this URL:</div><div><ul><li><a href="http://support.dell.com/support/edocs/software/rhel_mn/rhel6/en/IIG/html/section.htm">http://support.dell.com/support/edocs/software/rhel_mn/rhel6/en/IIG/html/section.htm</a> </li><li><a href="http://support.dell.com/support/edocs/software/rhel_mn/rhel6/en/IIG/PDF/IIG_EN.pdf" shape="rect" target="_blank">http://support.dell.com/support/edocs/software/rhel_mn/rhel6/en/IIG/PDF/IIG_EN.pdf</a></li></ul></div><div><span style="border-collapse: separate; border-spacing: 0px;">Installing And Reinstalling Your Operating System</span></div><div><br clear="none"/></div><div>CAUTION: Backup all data from the system before installing or upgrading the operating system.</div><div><br clear="none"/></div><div>To install or reinstall your operating system, use one of the following media or methods:</div><div><br clear="none"/></div><div>Installing using the Dell Systems Management Tools and Documentation media</div><div><br clear="none"/></div><div>Installing using the Dell Systems Build and Update Utility media</div><div><br clear="none"/></div><div><b><font color="#FF0000">option 1) Installing using the Unified Server Configurator (Dell USC)</font></b></div><div><br clear="none"/></div><div>Installing on systems with a Dell Utility Partition</div><div><br clear="none"/></div><div><b><font color="#FF0000">option 2) Installing in the conventional (BIOS) mode</font></b></div><div><br clear="none"/></div><div><b><font color="#FF0000">option 3) Installing in the Unified Extensible Firmware Interface (UEFI) mode</font></b></div><div><br clear="none"/></div><div>Installing on devices that support multipathing</div><div><br clear="none"/></div><div>Installing on iSCSI storage</div><div><br clear="none"/></div><div>Installing on Fibre Channel over Ethernet (FCoE) enabled storage </div><div><br clear="none"/></div><div><br/></div><div><br/></div></div></div><div style="font-size: 12px;"><b><u>2 PROCEDIMIENTOS ELEGIDOS PARA VALIDAR:</u></b></div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px; font-size: 12px;"><div>En un principio tenía pensado probar la opción 1 con RH 6.1 y la opción 2 con RH 6.3 (<b><font color="#FF0000">servidores vinieron de fábrica con BIOS mode boot en lugar de UEFI</font></b>)</div><div>Finalmente he instalado servidorA y servidorB con la opción 1, si bien en ambos casos la instalación es con BIOS boot mode. </div><div>     En servidorA: USC -&gt;  no configurar la RAID (ya configurada) -&gt; OS deployment -&gt; Red Hat 6.1 (selección de OS). </div><div>     En servidorB: USC -&gt; no configurar la RAID (ya configurada) -&gt; OS deployment -&gt; Another OS (porque no está listado RH6.3, lo mismo aplicaría para por ejemplo instalar VMware VSphere)</div><div><br/></div><div><font color="#FF0000"><b>No necesitamos modo UEFI porque nuestro disco RAID interno es de 1,4TB. UEFI es necesario para particionar un disco RAID mayor de 2TB. </b></font></div></blockquote><div style="font-size: 12px;"><font color="#FF0000"><b><br/></b></font></div><div style="font-size: 12px;"><font color="#FF0000"><b><br/></b></font></div><div style="font-size: 12px;"><b><font color="#1C3387"><u>2 CHOSEN PROCEDURES FOR VALIDATION:</u></font></b></div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px; font-size: 12px;"><div><font color="#1C3387">In the beginning my idea was to try option #1 with RHEL 6.1 and option #2 with RHEL 6.3 (<b>servers were pre-configured in Factory with BIOS boot mode instead of UEFI</b>)</font></div><div><font color="#1C3387">Finally I set up serverA and serverB with option #1, with BIOS boot mode in both cases </font></div><div><font color="#1C3387">     In serverA: USC -&gt; do NOT change RAID settings (already configured in Factory) -&gt; OS deployment -&gt; Red Hat 6.1 (OS selection). </font></div><div><font color="#1C3387">     In serverB: USC -&gt; do NOT change RAID settings (already configured in Factory) -&gt; OS deployment -&gt; Another OS (because RHEL6.3 is not available in the list, the same thing would apply on i.e. VMware VSphere)</font></div><div><font color="#1C3387"><br/></font></div><div><b><font color="#1C3387">UEFI is not required as our internal RAID disk is about 1,4TB. UEFI is mandatory for RAID disks larger than 2TB. </font></b></div></blockquote><div style="font-size: 12px;"><font color="#FF0000"><b><br/></b></font></div><div style="font-size: 12px;"><br/></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><div><br/><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">DELL BIOS SETUP: Device Settings, Integrated RAID Controller</font></h1><div><h1 style="font-size: 25px;"><font size="3" style="font-weight: normal; font-size: 12px;">Configurado de fábrica, no tocar. Factory pre-configured, do not change it</font></h1></div></td></tr></tbody></table></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip.png" type="image/png" height="720" style="cursor: default; height: auto;" width="1036"/></div><br/></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">DELL BIOS SETUP: Device Settings, Integrated RAID Controller, Virtual Disk Properties</font></h1><div><h1 style="font-size: 25px;"><font size="3" style="font-weight: normal; font-size: 12px;">Configurado de fábrica, no tocar. Factory pre-configured, do not change it</font></h1></div></td></tr></tbody></table></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [1].png" type="image/png" height="720" style="cursor: default; height: auto;" width="1036"/></div><br/><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">DELL BIOS SETUP: Device Settings, Integrated RAID Controller, Disk Group Properties</font></h1><div><h1 style="font-size: 25px;"><font size="3" style="font-weight: normal; font-size: 12px;">Configurado de fábrica, no tocar. Factory pre-configured, do not change it</font></h1></div></td></tr></tbody></table></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [2].png" type="image/png" height="720" style="cursor: default; height: auto;" width="1036"/></div><br/><div><br/></div></div><div><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 35px;"><font size="3" style="font-size: 24px;">Dell PowerEdge R720 BIOS - BIOS Boot Mode </font></h1><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">seleccionado en fábrica (no UEFI). Factory pre-configured (not UEFI)</font></h1></td></tr></tbody></table></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [3].png" type="image/png" height="744" style="cursor: default; height: auto;" width="1024"/><br/><div><br/></div></div><br/><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 35px;"><font size="3" style="font-size: 24px;">Dell USC remote deployment via iDrac</font></h1><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorA &amp; servidorB deployment -&gt; Go Directly to OS Deployment </font></h1><h1 style="font-size: 25px;"><font size="3" style="font-weight: normal; font-size: 12px;">RAID configurado en fábrica. RAID pre-configured in Factory</font></h1></td></tr></tbody></table></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [4].png" type="image/png" height="744" style="cursor: default; height: auto;" width="1024"/><div><br/></div><div>Go Directly to OS Deployment (RAID configurado en fábrica)</div></div><br/><div style="font-size: 12px;"><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">R720 - USC - OS Deployment</font></h1></td></tr></tbody></table></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [5].png" type="image/png" height="744" style="cursor: default; height: auto;" width="1024"/></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><div><br/></div><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorA RH6.1 deployment via USC-&gt; other servers. Deploy OS</font></h1></td></tr></tbody></table></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [6].png" type="image/png" height="744" style="cursor: default; height: auto;" width="1024"/><div><br/></div><div>Comprobamos en la Bios el boot mode seleccionado por defecto.</div><div><br/></div><div>UEFI/EFI es más avanzado que BIOS, pero la principal ventaja es para particionar discos (normalmente en raid) de más de 2TB. Nuestro disco es menor a 2TB, de ahí que venga de fábrica con BIOS boot mode en lugar de UEFI. RHEL 6.3 x86_64 soporta UEFI, pero para evitar complicaciones (cambia todo el particionado, no sé hasta que punto se podría mantener las dos particiones de DELL, 'fdisk -l' no funcionaría con UEFI, etc) seguimos con BIOS Boot Mode.</div><div><br/></div></div><font color="#1C3387"><span lang="en">We make sure that BIOS boot mode is selected by default instead of UEFI.<br/><br/>
UEFI/EFI BIOS is more advanced, but its major advantage is the partitioning of disks (usually raid) bigger than 2TB. Our internal raid disk is smaller than 2TB, which explains why the BIOS boot mode is set up at Factory and not UEFI. RHEL 6.3 supports UEFI x86_64, but to avoid issues </span>(UEFI partitioning changes everything and existing DELL partitions with software like USC might get overwritten, 'fdisk-l' doesn't work on UEFI, etc) we will continue with the existing BIOS Boot Mode.</font></div><div style="font-size: 12px;"><font color="#1C3387"><br/></font></div></div><div style="font-size: 12px;"><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorA RH6.1 deployment via USC-&gt; Driver Disc Detected </font></h1><h1 style="font-size: 25px;"><font size="3" style="font-weight: normal; font-size: 12px;">DELL DRIVERS facilitados por USC por estar instalando RHEL6.1 que figura en la lista de OS a desplegar. Esta pantalla no aparece en el procedimiento recomendable: RHEL6.3 via &quot;USC -&gt; OS deployment -&gt; other OS&quot; (no figura en RHEL6.3, pero sí en RHEL6.1)</font></h1><div><h1 style="font-size: 25px;"><font size="3" style="font-weight: normal; font-size: 12px;">DELL DRIVERS provided by USC because RHEL6.1 has been deployed from within the available list of OS deployments in USC. Note that this display is not available on the finally recommended procedure: RHEL6.3 via &quot;USC -&gt; OS deployment -&gt; other OS&quot; (display not available on our RHEL6.3 deployment, but it is on our RHEL6.1 deployment)</font></h1></div></td></tr></tbody></table></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [7].png" type="image/png" height="482" style="cursor: default; height: auto;" width="748"/><div><br/></div><div>Diferencia con servidorB -&gt; durante el inicio del proceso de instalación de servidorA aparece esta pantalla, drivers de DELL incorporados por el USC</div><div><br/></div></div><div style="font-size: 12px;"><span lang="en"><font color="#1C3387">Difference with ServerB -&gt; </font></span><span style="color: rgb(28, 51, 135);">this display is raised </span><span style="color: rgb(28, 51, 135);">during the</span> <span style="color: rgb(28, 51, 135);">installation</span> <span style="color: rgb(28, 51, 135);">process of </span><span style="color: rgb(28, 51, 135);">serverA (</span><span style="color: rgb(28, 51, 135);">DELL</span> <span style="color: rgb(28, 51, 135);">drivers</span> <span style="color: rgb(28, 51, 135);">built</span> <span style="color: rgb(28, 51, 135);">by</span> <span style="color: rgb(28, 51, 135);">USC)</span></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorA RH6.1 deployment via USC </font></h1><h1 style="font-size: 25px;"><font size="3" style="font-weight: normal; font-size: 12px;">Particionado original en la instalación genérica de RHEL6.1 de fábrica (aunque particionemos e instalemos de nuevo es una ventaja porque nos viene con la configuración RAID y un particionado de DELL en BIOS Boot válido para Linux)</font></h1><div><h1 style="font-size: 25px;"><font size="3" style="font-weight: normal; font-size: 12px;">Existing partitioning in DELL Factory pre-installation of RHEL6.1. Later we will deploy from scratch with a custom partitioning, with the advantage of RAID being already set up and a valid BIOS BOOT for Linux on Dell PowerEdge.</font></h1></div></td></tr></tbody></table></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [8].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/><div><br/></div><div>Particionado original, igual que en servidorB, salvo que ahora sda es renombrado sdb, y el nuevo sda es la memoria USB de 300MB con los drivers de Dell para RH6.1 volcados por USC.</div><div><br/></div><div>Nota: la memoria USB tiene un particionado EFI en lugar de MBR tradicional (/dev/sda). En el caso del servidorB sin Drivers de DELL, sólo veremos aquí un disco /dev/sda idéntico al /dev/sdb que figura en esta pantalla.</div><div><br/></div><div dir="ltr" style="zoom:1"><span lang="en"><font color="#1C3387">Existing partitioning, like in ServerB but with sda renamed as sdb, and the new sda is the internal USB memory of 300MB with Dell drivers for RHEL6.1 built by USC.<br/><br/>
Note: the internal USB memory has an EFI partitioning instead of traditional MBR (/dev/sda). ServerB lacks of DELL Drivers and we only see a /dev/sda disk identical to /dev/sdb as shown in the above screenshot.</font></span></div><div><br/></div></div><div style="font-size: 12px;"><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorB RH6.3 deployment via USC-&gt; other servers. </font></h1><h1 style="font-size: 25px;"><font size="3" style="font-weight: normal; font-size: 12px;">Existing partition table. Particionado Original</font></h1></td></tr></tbody></table></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [9].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/><div><br/></div><div>Particionado original de servidorB durante la reinstalación de RH6.3</div><div>Instalación vía USC -&gt; OS deployment -&gt; other servers (RH 6.3 no incluído en la lista, probablemente sea añadido tras un USC -&gt; platform update)</div><div><br/></div><div>Observación: A diferencia del despliegue de RH 6.1 en servidorA, no vemos aquí un disco extra de 300MB (memoria USB interna del servidor) con los drivers para RH. En el caso de RH 6.1 /dev/sda muestra la memoria USB interna, y /dev/sdb sería el disco de 1,4TB que aquí figura como /dev/sda</div><div><br/></div></div><div style="font-size: 12px;"><span lang="en"><font color="#1C3387">ServerB: existing partitioning during reinstallation of RHEL6.3<br/>
Installation via USC -&gt; OS Deployment -&gt; other servers (RH 6.3 is not included in the list, probably added after USC -&gt; platform update)<br/><br/>
Note: Unlike the deployment of RHEL 6.1 on serverA, we see here an extra disk of 300MB (Internal USB Server) with RHEL drivers. RHEL 6.1 deployment shows the internal USB within /dev/sda, and /dev/sdb would be the 1.4 TB disk that here appears as /dev/sda</font></span></div><br/><div style="font-size: 12px;"><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorA RH6.1 deployment via USC-&gt; create custom layout</font></h1><div><b><font size="3" style="font-size: 24px;">Recommendation: detaching VG Data from VG System (LVM2) on hypervisors and</font> <font size="3" style="font-size: 24px;">VMs. </font></b><font size="3" style="font-size: 24px;"><b>Do not place /usr on a separate file system</b></font></div><div><span style="background-color: rgb(255, 255, 255);">Which type of installation would you like?</span><span style="background-color: rgb(255, 255, 255);"> </span><b style="background-color: rgb(255, 255, 255);">Create custom layout</b></div></td></tr></tbody></table></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [10].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/><div><br/></div><div><b>NOTA, VENTAJA DE VG DE DATOS SEPARADO DE VG DE SISTEMA!!: En el caso de ser necesaria una reinstalación por los siguientes motivos</b></div><div>     <b>a) OS no arranca ó está dañado y es difícilmente recuperable (típico problema en entornos Linux/Unix)</b></div><div>    <b> b)</b> <b>se desea actualizar de RH6 a RH7 ó RH8 y por rendimiento es mejor una instalación fresca (con el tiempo y los upgrades el OS pierde rendimiento significativamente)</b></div><div>    <b> c)</b> <b>deseamos cambiar de distribución Linux</b></div><div>    <b> d) etc</b></div><div><b>haríamos también <font color="#FF0000">click aquí para instalar/reinstalar sobre el VG de sistema. De este modo, tendríamos un nuevo Linux que detectaría el VG de datos, recuperando sin problemas todos los filesystems/LVs con nuestros datos intactos. ESTO ES DE GRAN INTERÉS Y JUSTIFICA LA SEPARACIÓN DE VG DE DATOS DE VG DE SISTEMA (BUENA PRÁCTICA).</font></b></div></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><span lang="en"><font color="#1C3387"><b>NOTE, ADVANTAGES OF HAVING DATA VG SEPARATED/DETACHED FROM SYSTEM VG!:</b> In the case of a reinstallation being necessary for the following reasons<br/>
      a) OS does not boot or is damaged and hardly recoverable (typical problem in Linux / Unix)<br/>
      b) you want to upgrade from RHEL6 to RHEL7 or RHEL8 and a fresh installation is recommended for improving performance (OS performance degrades over time and specially after several upgrades)<br/>
      c) We want to change our Linux Distribution (like i.e. from RHEL to CentOS or Ubuntu)<br/>
      d) etc.<br/>
we would also click here for reinstalling RHEL on SYSTEM VG without overwriting VG DATA. Thus, a new Linux would detect the VG data, recovering smoothly all filesystems / LVs with our data intact. THIS IS OF GREAT INTEREST AND JUSTIFY THE SEPARATION OF DATA VG FROM SYSTEM VG (good practice).</font></span></div><div style="font-size: 12px;"><div><div><div><b><br/></b></div><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorA RH6.1 deployment via USC-&gt; particionado (Create Custom Layout)</font></h1></td></tr></tbody></table></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [11].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/><div><br/></div><div>A diferencia de la instalación en servidorB, aquí vemos una pantalla extra porque aparecen dos discos internos en lugar de 1. Podemos ahora ver la USB interna de 200MB (iDRAC) donde el USC ha volcado los drivers para RH6.1. Seleccionamos el disco de 1,4TB y lo ponemos en la lista de la derecha.</div></div><div><br/></div><div><span lang="en"><font color="#1C3387">Unlike ServerB deployment, here we see a second display because there are two internal disks instead of 1. We can now see the internal USB 200MB (iDRAC) where USC has turned RH6.1 drivers. Select the disk of 1.4 TB and put it in the list on the right.</font></span></div><br/></div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorA RH6.1 deployment via USC-&gt; particionado a medida (Create Custom Layout)</font></h1></td></tr></tbody></table></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [12].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/></div><div><b><br/></b></div><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorB RH6.3 deployment via USC-&gt; other servers. Removing existing partition table</font></h1></td></tr></table></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [13].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/><div><br/></div><div>Iniciamos el proceso de eliminación de la tabla de particionado existente, mediante la eliminación de cada LV existente en VolGroup00, y después eliminamos el único VG VolGroup00.</div></div><div><br/></div><div><span lang="en"><font color="#1C3387">Removal of the existing partition table, by deleting each existing LV in VolGroup00 and afterwards removing the only one VolGroup00 VG.</font></span></div><div><br/><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorB RH6.3 deployment via USC-&gt; other servers. Adding new partition scheme. </font></h1><h1 style="font-size: 25px;"><span style="font-size: 12px; font-weight: normal;">Creación de /boot con ext3 y 500MB en lugar de ext4 y 200MB</span></h1><div><h1 style="font-size: 25px;"><font size="3" style="font-weight: normal; font-size: 12px;">Adding /boot partition with ext3 and 500MB instead of ext4 and 200MB</font></h1></div></td></tr></tbody></table></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [14].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/><div><br/></div><div>Hemos eliminado todas las particiones existentes de /dev/sda salvo sda1 y sda2, las cuales incluyen particiones vfat para el software de DELL (y visibles desde OS mediante fdisk -l)</div><div><br/></div><div>También hemos eliminado el existente /boot de 200MB y ext4, y ahora empezamos volviendo a crear un /boot de 500MB <u>(algunos procedimientos de actualización de RHEL/Fedora requieren partición /boot de 500MB</u>) con ext3 (mucho más recomendable y seguro que ext4).</div></div><div><br/></div><div><span lang="en"><font color="#1C3387">We removed all existing partitions from /dev/sda except for sda1 and sda2, both of them include vfat partitions with DELL software like USC (visible from OS CLI via 'fdisk-l')<br/><br/>
We have also removed the existing /boot with 200MB of ext4 partition, recreating afterwards a new ext3 /boot partition of 500MB (<u>some RHEL/Fedora upgrade procedures require /boot partition of 500MB, ext3 is more reliable than ext4 and convenient for a critical small filesystem like /boot</u>)</font></span></div><div><br/></div><div><br/><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4178px;" width="100%"><tbody><tr><td style="width:99.90426041168024%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorB RH6.3 deployment via USC-&gt; other servers. Adding new partition scheme. </font></h1><h1 style="font-size: 25px;"><font size="3" style="font-weight: normal; font-size: 12px;">Creación de Particiones para swap, PV system para VG system, PV data para VG data</font></h1><div><h1 style="font-size: 25px;"><font size="3" style="font-weight: normal; font-size: 12px;">Adding swap partitions, PV system in VG system, PV data in VG data</font></h1></div></td></tr></tbody></table></div></td></tr></tbody></table></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [15].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/><br/></div></div><div><br/></div><div>Hemos creado una particion swap y automáticamente se ha creado sda4 (extendida) y sda5 (swap). <b><font color="#FF0000"><u>Tenemos 64GB de RAM en la máquina física (hypervisor)</u></font>, y siguiendo las recomendaciones de RH para sistemas a partir de 64GB de RAM con 16GB de swap es suficiente</b>. Añadimos una particion swap de 20GB (más eficiente que en volumen LV como estaba originalmente de fábrica). El el futuro si fuera necesario podremos añadir más particiones SWAP mediante la creación de LVs dentro del VG de sistema.</div><div><br/></div><div>Creamos ahora dos particiones más, 1 PV/physical volume para el VG de sistema (100GB), 1 PV para el VG de datos  (Fill to maximum allowable size)</div><div><br/></div><div><span lang="en"><font color="#1C3387">We have created a swap partition that automatically appears like sda4 (extended partition) and sda5 (swap). <b><u>We have 64GB of RAM on the physical machine (hypervisor)</u></b>, <b>and </b></font></span><b><span style="color: rgb(28, 51, 135);">16GB</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">of</span><span style="color: rgb(28, 51, 135);"> SWAP </span><span style="color: rgb(28, 51, 135);">is enough according to RHEL tips regarding systems with at least </span><span style="color: rgb(28, 51, 135);">64GB</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">of</span> <span style="color: rgb(28, 51, 135);">RAM</span></b><span style="color: rgb(28, 51, 135);">.</span> <span style="color: rgb(28, 51, 135);">We finally added a</span> <span style="color: rgb(28, 51, 135);">20GB</span> <span style="color: rgb(28, 51, 135);">swap</span> <span style="color: rgb(28, 51, 135);">partition</span> <span style="color: rgb(28, 51, 135);">(performs better than the Factory setup of Swap located in a LV/Logical Volume</span><span style="color: rgb(28, 51, 135);">)</span><span style="color: rgb(28, 51, 135);">.</span><span style="color: rgb(28, 51, 135);"> If necessary </span><span style="color: rgb(28, 51, 135);">we will be able to add</span> <span style="color: rgb(28, 51, 135);">more</span> <span style="color: rgb(28, 51, 135);">SWAP partitions in the future</span> <span style="color: rgb(28, 51, 135);">by creating</span> <span style="color: rgb(28, 51, 135);">LVs</span> <span style="color: rgb(28, 51, 135);">in system </span><span style="color: rgb(28, 51, 135);">VG</span><span style="color: rgb(28, 51, 135);">.</span></div><div><span lang="en"><font color="#1C3387"><br/></font></span></div><div><div><span lang="en"><span style="color: rgb(28, 51, 135);">You can only have four primary partitions (with no extended partition) on a device. If you need more than four partitions, you can have three primary partitions, one extended partition, and multiple logical partitions within the extended.</span></span></div><div><span style="color: rgb(28, 51, 135);"><br/></span></div><font color="#1C3387">We now create two more partitions: 1 PV (physical volume) for system VG (100GB), and 1 PV for data VG (Fill to maximum allowable size)</font></div><div><span lang="en"><font color="#1C3387"><br/></font></span></div></div></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 12px;"><div><table style="font-size: 12px;width:707px;"><tbody><tr><td style="width:99.43422913719944%;"><div><br/></div></td></tr><tr><td style="width:99.43422913719944%;"><div><b><u>SWAP:</u></b></div><div><br/></div><div><ol><li>Systems with 4GB of ram or less require a minimum of 2GB of swap space</li><li>Systems with 4GB to 16GB of ram require a minimum of 4GB of swap space</li><li>Systems with 16GB to 64GB of ram require a minimum of 8GB of swap space</li><li>Systems with 64GB to 256GB of ram require a minimum of 16GB of swap space</li></ol><div><br/></div></div><div>     <a href="http://www.cyberciti.biz/tips/linux-swap-space.html">http://www.cyberciti.biz/tips/linux-swap-space.html</a></div><div><br/></div><div><h6><font size="3" style="font-size: 12px;">Table 9.2. Recommended System Swap Space</font></h6><div><table border="1" style="font-size: 12px;" summary="Recommended System Swap Space"><colgroup><col align="left" width="33%"></col><col align="left" width="33%"></col><col align="left" width="33%"></col></colgroup><thead><tr><th align="left">Amount of RAM in the system</th><th align="left">Recommended swap space</th><th align="left">Recommended swap space if allowing for hibernation</th></tr></thead><tbody><tr><td align="left" style="width:32.53182461103253%;">2GB of RAM or less</td><td align="left" style="width:32.53182461103253%;">2 times the amount of RAM</td><td align="left" style="width:32.67326732673268%;">3 times the amount of RAM</td></tr><tr><td align="left" style="width:32.53182461103253%;">2GB to 8GB of RAM</td><td align="left" style="width:32.53182461103253%;">Equal to the amount of RAM</td><td align="left" style="width:32.67326732673268%;">2 times the amount of RAM</td></tr><tr><td align="left" style="width:32.53182461103253%;">8GB to 64GB of RAM</td><td align="left" style="width:32.53182461103253%;">0.5 times the amount of RAM</td><td align="left" style="width:32.67326732673268%;">1.5 times the amount of RAM</td></tr><tr><td align="left" style="width:32.53182461103253%;">64GB of RAM or more</td><td align="left" style="width:32.53182461103253%;">4GB of swap space</td><td align="left" style="width:32.67326732673268%;">No extra space needed</td></tr></tbody></table></div></div><div><br/></div><div><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Installation_Guide/s2-diskpartrecommend-x86.html">http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Installation_Guide/s2-diskpartrecommend-x86.html</a></div><div><br/></div></td></tr></tbody></table></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 12px;"><div><br/></div><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorB RH6.3 deployment via USC-&gt; other servers. Adding new partition scheme</font></h1></td></tr></tbody></table></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [16].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/><br/></div><div><br/></div><div>Creamos particiones estándar en el siguiente orden:</div><div>     1) /boot</div><div>     2) swap</div><div>     3) PV para el VG de system</div><div>     4) PV para el VG de data</div><div><br/></div><div>El particionado tradicional de Intel no UEFI/EFI sólo puede tener un máximo de 4 particiones primarias, por lo que automáticamente a partir de la cuarta partición se creará una partición extendida (sda4) de la que colgar las siguientes sda5, sda6 y sda7</div><div><br/></div><div><span lang="en"><font color="#1C3387">We create standard partitions in the following order:<br/>
      1) / boot<br/>
      2) swap<br/>
      3) PV System for VG System<br/>
      4) PV data for VG Data<br/><br/>
The traditional Intel partitioning (no UEFI/EFI) can only have a maximum of 4 primary partitions, so automatically from the fourth partition is created an extended partition (sda4) from which hangs sda5, sda6 and sda7</font></span></div><div><br/></div><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4178px;" width="100%"><tbody><tr><td style="width:99.90426041168024%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorB RH6.3 deployment via USC-&gt; other servers. Adding new partition scheme. </font></h1><h1 style="font-size: 25px;"><font size="3" style="font-weight: normal; font-size: 12px;">Resultado de particionado sin haber añadido los VG/LV. Partitioning outcome without adding VGs/LVs</font></h1></td></tr></tbody></table></div></td></tr></tbody></table></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [17].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/><br/></div><div><br/></div><div>Hemos completado las particiones, quedando finalmente así:</div><div>     sda3 -&gt; nuestra nueva partición /boot de <b>500MB con ext3</b></div><div>     sda4 (creada automáticamente al añadir una partición sin forzarla como primaria)</div><div>     <b>sda5 -&gt; PV de sistema de 100GB</b></div><div>     sda6 -&gt; swap (partición creada antes de las dos PVs de sistema y datos), tamaño en función de la RAM de nuestro sistema.</div><div>     <b>sda7 -&gt; PV de datos (resto del disco): NO reservar todo el espacio disponible en este VG al crear los LVs, es importante tener margen de maniobra al reservar disco y crear pocos filesystems y pequeños para posteriormente aumentarlos en tamaño y en caliente según sea necesario.</b></div><div><br/></div><div>Procedemos ahora con la creación de VGs y LVs</div><div><br/></div><div><span lang="en"><font color="#1C3387">Our final partition table looks like this:<br/>
      sda3 -&gt; our new ext3 /boot partition of 500MB<br/>
      sda4 (created automatically when you add a partition without clicking on 'force as primary')<br/>
      sda5 -&gt; 100GB PV system<br/>
      sda6 -&gt; swap (partition created before the two PVs of data and system). Its size depends on our available RAM.<br/>
      sda7 -&gt; PV data (remaining disk):<b> Do NOT allocate all the available space in this VG when creating LVs. It is relevant to have leeway when allocating disk space by creating a few small filesystems that can afterwards be online increased and resized on demand. </b><br/><br/></font></span><div><span lang="en"><font color="#1C3387">You can only have four primary partitions (with no extended partition) on a device. If you need more than four partitions, you can have three primary partitions, one extended partition, and multiple logical partitions within the extended. </font></span></div><span lang="en"><font color="#1C3387"><br/>
We now proceed creating VGs and LVs</font></span></div><div><span lang="en"><font color="#1C3387"><br/></font></span></div><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorB RH6.3 deployment via USC-&gt; other servers. Adding new partition scheme. </font></h1><h1 style="font-size: 25px;"><font size="3" style="font-weight: normal; font-size: 12px;">Creación de VGSYS. Adding VGSYS </font></h1></td></tr></tbody></table></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [18].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/><br/></div><div>Creamos un VG para sistema</div><div><br/></div><div><font color="#1C3387">System VG is added.</font></div><div><br/><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorB RH6.3 deployment via USC-&gt; other servers. Adding new partition scheme. </font></h1><h1 style="font-size: 25px;"><font size="3" style="font-weight: normal; font-size: 12px;">Creación de VGSYS. Adding VGSYS</font></h1><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [19].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/></div></td></tr></tbody></table></div><div><br/><div><br/></div><div>Creamos el resto de LVs para vgsys. No incluye filesystems con datos , por lo que de ser necesario<b> podríamos reinstalar el OS machacando únicamente este VG de sistema y sus respectivos LVs pero manteniendo intacto el VG de datos y sus LVs con datos (mayor margen de maniobra en el caso de desastre, entorno en producción recuperable sin depender exclusivamente del backup, etc).</b></div><div><br/></div><div><b>Se puede separar /tmp y /var en filesystems separados, no ocurriendo lo mismo con /usr ya que incluye la mayor parte del sistema de boot de OS y suele ser problemático separarlo del filesystem root.</b> Además en Fedora ya se ha unificado el /usr con el filesystem root, junto a otros cambios en el filesystem layout del OS por motivos de estandarización Unix/Linux, evitar problemas de boot/upgrades, etc.<b> Este cambio en el filesystem layout tiene y tendrá implicaciones en la actualización de OS, complicándose considerablemente en el caso de no tener el esquema de particionado requerido por las futuras versiones. </b></div></div><div><br/></div><div dir="ltr" style="zoom:1"><span lang="en"><font color="#1C3387">We create the rest of LVs for vgsys that will not contain filesystems with data. Therefore, it will be possible in the future to reinstall the whole OS without overwriting data located in 'vgdata' and its corresponding LVs (more leeway in the event of a disaster). Our production environment is easier to recover without relying exclusively on backup, etc.<br/><br/>
/tmp and /var can be located in dedicated filesystems, </font></span><span style="color: rgb(28, 51, 135);">not</span> <span style="color: rgb(28, 51, 135);">happening</span> <span style="color: rgb(28, 51, 135);">the same with</span> <span style="color: rgb(28, 51, 135);">/</span><span style="color: rgb(28, 51, 135);">usr</span> <span style="color: rgb(28, 51, 135);">as it includes</span> <span style="color: rgb(28, 51, 135);">most of the</span> <span style="color: rgb(28, 51, 135);">OS</span> <span style="color: rgb(28, 51, 135);">boot</span><span style="color: rgb(28, 51, 135);"> processes and separating it from the root filesystem would be trouble</span><span style="color: rgb(28, 51, 135);">.</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">Fedora</span><span style="color: rgb(28, 51, 135);"> has </span><span style="color: rgb(28, 51, 135);">already</span> <span style="color: rgb(28, 51, 135);">unified</span> <span style="color: rgb(28, 51, 135);">the</span> <span style="color: rgb(28, 51, 135);">/</span><span style="color: rgb(28, 51, 135);">usr</span> <span style="color: rgb(28, 51, 135);">filesystem</span> <span style="color: rgb(28, 51, 135);">within</span> <span style="color: rgb(28, 51, 135);">root</span><span style="color: rgb(28, 51, 135);">,</span> <span style="color: rgb(28, 51, 135);">along with other</span> <span style="color: rgb(28, 51, 135);">changes in</span> <span style="color: rgb(28, 51, 135);">the</span> <span style="color: rgb(28, 51, 135);">OS</span> <span style="color: rgb(28, 51, 135);">filesystem</span> <span style="color: rgb(28, 51, 135);">layout</span><span style="color: rgb(28, 51, 135);"> and </span><span style="color: rgb(28, 51, 135);">standardization</span> <span style="color: rgb(28, 51, 135);">based on</span> <span style="color: rgb(28, 51, 135);">Unix</span><span style="color: rgb(28, 51, 135);">/</span><span style="color: rgb(28, 51, 135);">Linux</span><span style="color: rgb(28, 51, 135);">,</span> <span style="color: rgb(28, 51, 135);">avoiding</span> <span style="color: rgb(28, 51, 135);">boot</span><span style="color: rgb(28, 51, 135);"> and</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">upgrades troubles</span><span style="color: rgb(28, 51, 135);">,</span> <span style="color: rgb(28, 51, 135);">etc.</span><span style="color: rgb(28, 51, 135);">.</span> <span style="color: rgb(28, 51, 135);">This change</span> <span style="color: rgb(28, 51, 135);">in the</span> <span style="color: rgb(28, 51, 135);">filesystem</span> <span style="color: rgb(28, 51, 135);">layout</span> <span style="color: rgb(28, 51, 135);">will have</span> <span style="color: rgb(28, 51, 135);">implications for the</span> <span style="color: rgb(28, 51, 135);">OS</span> <span style="color: rgb(28, 51, 135);">update</span><span style="color: rgb(28, 51, 135);">,</span> <span style="color: rgb(28, 51, 135);">considerably</span> <span style="color: rgb(28, 51, 135);">complicated</span> <span style="color: rgb(28, 51, 135);">in the case</span> <span style="color: rgb(28, 51, 135);">of not having the</span> <span style="color: rgb(28, 51, 135);">required</span> <span style="color: rgb(28, 51, 135);">partitioning scheme</span> <span style="color: rgb(28, 51, 135);">for</span> <span style="color: rgb(28, 51, 135);">future versions</span><span style="color: rgb(28, 51, 135);">.</span></div><div dir="ltr" style="zoom:1"><font color="#1C3387"><br/></font></div></div></div><hr/><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 12px;"><div dir="ltr" style="zoom:1"><table style="font-size: 12px;width:2694px;"><tbody><tr><td style="width:99.85152190051967%;"><div><h2 style="font-size: 19px;"><font size="3" style="font-size: 12px;">Do not place <code>/usr</code> on a separate file system</font></h2></div><div style="font-size: 10px;"><font size="3" style="font-size: 11px;">If <code>/usr</code> is on a separate file system from <code>/</code>, the boot process becomes much more complex because <code>/usr</code> contains boot-critical components.</font></div><div style="font-size: 10px;"><font size="3" style="font-size: 11px;">In some situations (like installations on iSCSI drives), the boot process might not work at all.</font></div><div style="font-size: 10px;"><font size="3" style="font-size: 11px;"><br/></font></div><div style="font-size: 10px;"><a href="http://docs.fedoraproject.org/en-US/Fedora/17/html/Installation_Guide/s2-diskpartrecommend-x86.html"><font size="3" style="font-size: 11px;">http://docs.fedoraproject.org/en-US/Fedora/17/html/Installation_Guide/s2-diskpartrecommend-x86.html</font></a></div><div style="font-size: 10px;"><h6 style="font-size: 6px;"><font size="3" style="font-size: 11px;">Example 9.1. Example partition setup</font></h6><div><div><h6 style="font-size: 6px;"><font size="3" style="font-size: 11px;">Table 9.4. Example partition setup</font></h6><div><table border="1" style="font-size: 11px;" summary="Example partition setup"><colgroup><col width="50%"></col><col width="50%"></col></colgroup><thead><tr><th align="left">Partition</th><th align="left">Size and type</th></tr></thead><tbody><tr><td align="left" style="width:7.906458797327394%;"><code><font face="Tahoma">/boot</font></code></td><td align="left" style="width:7.906458797327394%;">250 MB <code>ext3</code> partition</td></tr><tr><td align="left" style="width:7.906458797327394%;"><code><font face="Tahoma">swap</font></code></td><td align="left" style="width:7.906458797327394%;">2 GB swap</td></tr><tr><td align="left" style="width:7.906458797327394%;">LVM physical volume</td><td align="left" style="width:7.906458797327394%;">Remaining space, as one LVM volume group</td></tr></tbody></table></div></div><font size="3" style="font-size: 11px;"><br/></font></div><div><font size="3" style="font-size: 11px;">The physical volume is assigned to the default volume group and divided into the following logical volumes:</font></div><div><h6 style="font-size: 6px;"><font size="3" style="font-size: 11px;">Table 9.5. Example partition setup: LVM physical volume</font></h6><div><table border="1" style="font-size: 11px;" summary="Example partition setup: LVM physical volume"><colgroup><col width="50%"></col><col width="50%"></col></colgroup><thead><tr><th align="left">Partition</th><th align="left">Size and type</th></tr></thead><tbody><tr><td align="left" style="width:2.969561989606533%;"><code><font face="Tahoma">/</font></code></td><td align="left" style="width:2.969561989606533%;">13 GB ext4</td></tr><tr><td align="left" style="width:2.969561989606533%;"><code><font face="Tahoma">/var</font></code></td><td align="left" style="width:2.969561989606533%;">4 GB ext4</td></tr><tr><td align="left" style="width:2.969561989606533%;"><code><font face="Tahoma">/home</font></code></td><td align="left" style="width:2.969561989606533%;">50 GB ext4<br/></td></tr></tbody></table></div></div></div><div><br/></div></td></tr></tbody></table></div></div></div><hr/><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><div><div style="font-size: 12px;"><div><div dir="ltr" style="zoom:1"><table style="font-size: 12px;width:2694px;"><tbody><tr><td style="width:99.85152190051967%;"><div><table style="font-size: 12px;width:2688px;"><tbody><tr><td style="width:99.85119047619048%;"><div><span style="font-weight: bold;"><br/>
I have /usr as a separate partition. What changes for me?</span></div><div style="font-size: 10px;"><font size="3" style="font-size: 11px;">Not sure, how you managed to do that. In general, <b>having /usr as a separate partition does not really work right now</b>. See <a href="http://www.freedesktop.org/wiki/Software/systemd/separate-usr-is-broken">http://www.freedesktop.org/wiki/Software/systemd/separate-usr-is-broken</a>. </font></div><div style="font-size: 10px;"><font size="3" style="font-size: 11px;">But with this feature implemented, things will now come back to a sane and supported way of having a /usr mount point.</font></div><div style="font-size: 10px;"><font size="3" style="font-size: 11px;"><br/></font></div><div style="font-size: 11px;"><b><font size="3" style="font-size: 12px;">Why don’t you fix the /usr situation by putting all the relevant binaries in /bin /sbin /lib and /lib64?</font></b></div><div style="font-size: 10px;"><span style="font-size: 11px;">Then you would share the toplevel directory hierarchy among all hosts. Hosts would need to mount /etc and /var for host-only versions. Especially /etc/fstab is not accessible, without adding information to the initramfs on how to mount it. For every host-only additional top level directory like /opt and /srv, you would have to have a mountpoint.</span></div><div><span style="font-size: 11px;"><br/></span></div><div style="font-size: 10px;"><a href="http://fedoraproject.org/wiki/Features/UsrMove#I_don.E2.80.99t_have_.2Fusr_as_a_separate_partition._What_changes_for_me.3F"><font size="3" style="font-size: 11px;">http://fedoraproject.org/wiki/Features/UsrMove#I_don.E2.80.99t_have_.2Fusr_as_a_separate_partition._What_changes_for_me.3F</font></a></div><div><br/></div></td></tr><tr><td style="width:99.62880475129919%;"><div><p style="font-size: 10px;"><font size="3" style="font-size: 11px;">The long-term plan is to clean up the mess and confusion the current split of / vs. /usr has created. All tools will move back to /usr where they belong, and the rootfs will only contain compat-symlinks into /usr. Almost the entire system installed by packages will reside in /usr. This will split all non-host specific data to /usr. /usr can then be seen as the Unix System Resources partition (/System), which defines the base operating system (e.g. F18 or RHEL-7).</font></p><div style="font-size: 10px;"><font size="3" style="font-size: 11px;">This new /usr could be mounted read-only by default, while the rootfs is read-write and contains only empty mount points, compat-symlinks to /usr and the host-specific data like /etc, /root, /srv. Compared to today's setups, the rootfs will be very small. The new /usr could also easily be shared read-only across several systems, and it would contain almost the entire system. Such setups are more efficient, can optionally provide a lot more security, are more flexible, provide more sane options for custom setups, and are much simpler to setup and maintain.</font></div></div></td></tr></tbody></table></div></td></tr></tbody></table></div><br/><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorB RH6.3 deployment via USC-&gt; other servers. Adding new partition scheme. </font></h1><h1 style="font-size: 25px;"><font size="3" style="font-weight: normal; font-size: 12px;">Creación de LVs/Filesystems de VGSYS. Adding LVs/Filesystems to VGSYS</font></h1><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [20].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/></font></h1></td></tr></tbody></table></div><div><br/><div><br/></div><div><b>VG de sistema -&gt; vgsys</b></div><div><b>PE Size de 128MB en lugar de los por defecto 4MB</b> -&gt; menor granularidad pero más eficiente a la hora de hacer uso de las LVM tools (menor consumo de CPU y operativa más rápida), como p.e. redimensionado en caliente de los LVs/filesystems. NOTA: según la característica de nuestros filesystems, podría ser más interesante un PE Size de 64MB en el caso de ser necesarios numerosos filesystems pequeños, ya que el PE Size determina el tamaño mínimo de un filesystem (PE Size de 64MB -&gt; tamaño mínimo de Filesystem de 64MB). Ejemplo: crear un pequeño filesystem con datos en vgdata para /etc/squid (no requiere mucho espacio en disco), si bien por lo general los filesystems serán de al menos varios GB. </div><div><br/></div><div>Al crear el VG seleccionamos el PV vinculado, en este caso click en sda5 (PV de sistema) en lugar de sda7 (PV de datos).</div><div><br/></div><div>Creamos los LV/Logical volumes -&gt; Filesystem root de 20GB para la máquina física (con 12GB suele ser suficiente). En el pasado se recomendaba no incluir el filesystem root en un LV, sino en una partición de disco dedicada. Actualmente no lo veo necesario: permite redimensionar el filesystem root aunque no sea práctica habitual, /usr se ha incluído dentro de '/' y evitamos muchos problemas de arranque, si hay problemas podemos  reinstalar el OS sin perder datos de vgdata.</div><div><br/></div></div><div><span lang="en"><font color="#1C3387"><b>VG System -&gt; vgsys<br/>
PE Size of 128MB instead of the default 4MB</b> -&gt; lower granularity but more efficient at making use of the LVM tools (less CPU and faster operation), like i.e. live resizing of LVs/filesystems. NOTE: depending on the requirements of our filesystems, it might be more interesting a PE Size of 64MB when a high number of small data filesystems is required, considering that PE Size determines the minimum size of a filesystem (PE Size 64MB -&gt; minimum size filesystem 64MB). Example: Creating a small data filesystem within vgdata in /etc/squid. Note that usually data filesystems will be of at least several GB of size.<br/><br/>
While adding our VGSYS its corresponding PV (Physical Volume) is chosen: sda5 (PV System) in this case instead of sda7 (PV data).<br/><br/></font></span></div><div><span lang="en"><font color="#1C3387">LVs (Logical Volumes) are added -&gt; root filesystem of 20GB in the physical machine (12GB is usually enough). Years ago the recommendation was not to include the root filesystem in a LV (using a dedicated partition). Nowadays I see no constraints: a root filesystem inside a LV becomes resizable (not very common practice though), / usr is included within '/' to avoid many issues at boot; if required we can reinstall the OS without losing data in vgdata.</font></span></div><div><br/></div></div><div><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorB RH6.3 deployment via USC-&gt; other servers. Adding new partition scheme. </font></h1><h1 style="font-size: 25px;"><font size="3" style="font-weight: normal; font-size: 12px;">Creación de  VGDATA tras haber creado VGSYS. Adding VGDATA after VGSYS.</font></h1><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [21].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/></font></h1></td></tr></tbody></table></div><div><br/></div><div>Creamos ahora el VG de datos con vgdata</div><div><br/></div><div><font color="#1C3387">VGDATA is now added containing the VG of Data. </font></div><div><br/><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorB RH6.3 deployment via USC-&gt; <span style="font-weight: normal;">other servers. Adding new partition scheme</span></font></h1></td></tr></tbody></table></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [22].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/><div><br/></div><div>lv_opt (1TB) y lv_home (1GB)</div><div>Nota: Quedando espacio libre para lv_opt ú otro filesystem </div><div>Nota2: En el caso de máquinas virtuales y una vez conocemos con detalle los requisitos de espacio de cada aplicación, vemos que <b>conviene crear varios volúmenes/filesystems para alguna de las aplicaciones (de 3 ó 5GB inicialmente) ó crear 1 LV/filesystem por aplicación</b>, por lo que lv_opt podría ser creado inicialmente con un tamaño bastante más pequeño, creando LVs/Filesystems específicas para algunas de sus aplicaciones, y dejando espacio libre en vgdata para futuras nuevos volúmenes/filesystems ó aumentar el tamaño de los existentes. Recordar que siempre es posible reducir en tamaño un filesystem/volumen (tal y como se hizo en esta instalación), pero la operación es mucho más costosa y arriesgada que aumentarlo en caliente (se podrían perder datos si no se hace bien). </div><br/></div><div><span lang="en"><font color="#1C3387">lv_opt (1TB) and lv_home (1GB)<br/>
Note: Remaining free disk is available for lv_opt or any other filesystem.<br/>
Note 2: In the case of virtual machines, and once we know in detail the space requirements of each application, <b>we see convenient to create several volumes/filesystems for some applications (initially with a size of 3GB or 5GB) or one LV/filesystem by application.</b> Therefore lv_opt could be created with a much smaller size, creating specific LVs/filesystems for some of their applications, and leaving free disk space in vgdata for increasing the size of existing filesystems or for covering the demand of new ones in the future. <b>Remember that reducing a filesystem/volume size is always riskier (data loss) than increasing the size of a filesystem.</b></font></span></div><br/><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorB RH6.3 deployment via USC-&gt; other servers. Adding new partition scheme. </font></h1><h1 style="font-size: 25px;"><font size="3" style="font-weight: normal; font-size: 12px;">Creación de LVs/Filesystems para VGDATA. Adding LVs/Filesystems in VGDATA</font></h1><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [23].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/></font></h1></td></tr></tbody></table></div><div><br/></div><div>vgdata con <b>PE Size de 128MB</b>, <b>seleccionando el PV sda7 para datos.</b></div><div><br/></div><div>Creamos 2 LVs para los filesystems de datos que coincide con los LVs de datos en las VM: </div><div>     1) /home </div><div>     2) /opt (para almacenar las VMs en el caso de los hypervisores, en el caso de las VM habría varios volúmenes de tamaño bastante menor y con espacio libre)</div><div><br/></div></div><div dir="ltr" style="zoom:1"><span lang="en"><font color="#1C3387"><b>vgdata PE Size of 128MB, PV sda7 is chosen for data storage.</b><br/><br/>
Two LVs are created for allocating data filesystems that match data LVs in VMs:<br/>
      1) / home<br/>
      2) / opt (allocates the VMs in the case of the hypervisor, in the case of VMs several volumes have smaller sizes and with enough free space)</font></span></div><div><br/></div><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorB RH6.3 deployment via &quot;USC-&gt; OS deployment -&gt; other servers&quot;. Adding new partition scheme. </font></h1><h1 style="font-size: 25px;"><font size="3" style="font-weight: normal; font-size: 12px;">Resultado final con nuestro particionado. Final result with our partitioning.</font></h1><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [24].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/></font></h1></td></tr></tbody></table></div><div><br/></div><div>Resultado del partitionado</div><div><br/></div><div><font color="#1C3387">Final partitioning scheme.</font></div><div><br/></div><div><br/><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorA: RH6.1 deployment via USC-&gt; <span style="font-weight: normal;">package management</span></font></h1></td></tr></tbody></table></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [25].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/><div><br/></div><div>Diferencia con servidorB -&gt; además del repositorio de RHN, tenemos este otro repositorio en &quot;Driver Disk 0&quot; incorporado por Dell/USC</div><div><br/></div><div><font color="#1C3387"><span lang="en">Difference with ServerB -&gt; </span> in addition to RHN repository, we have this other repository &quot;Driver Disk 0&quot; built by Dell/USC</font></div><div><br/></div></div><br/><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">RH6.1 deployment via USC-&gt; <span style="font-weight: normal;">Install boot loader</span></font></h1></td></tr></tbody></table></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [26].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/><div><br/></div><div>servidorA (RHEL 6.1, con drivers de DELL facilitados por &quot;USC -&gt; OS deployment -&gt; RHEL 6.1&quot;)-&gt; <b>install boot loader en /dev/sdb3 (estaba /dev/sdb, hay que cambiarlo para no machacar el MBR original)</b></div><div>servidorB (RHEL 6.3, sin drivers de DELL, instalación vía &quot;USC -&gt; OS deployment -&gt; other OS&quot;) -&gt; <b>install boot loader en /dev/sda3 (estaba en /dev/sda, no queremos sobreescribir el MBR original)</b></div><br/></div></div><div dir="ltr" style="font-size: 12px; zoom: 1;"><span lang="en"><font color="#1C3387">serverA (RHEL 6.1, with drivers provided by DELL &quot;USC -&gt; OS Deployment -&gt; RHEL 6.1&quot;) -&gt; <b>install boot loader on /dev/sdb3 (/dev/sdb appeared by default, must be changed to avoid overwriting the original MBR)</b><br/>
ServerB (RHEL 6.3, without DELL drivers, installation via &quot;USC -&gt; OS Deployment -&gt; other OS&quot;) -&gt; <b>install boot loader on /dev/sda3 (/dev/sda appeared by default, must be changed to avoid overwriting the original MBR)</b></font></span></div><br/><div style="font-size: 12px;"><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorA RH6.1 deployment via USC-&gt; <span style="font-weight: normal;">System Clock</span></font></h1></td></tr></tbody></table></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [27].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/><div><br/></div><div>NO SELECCIONAR UTC, hacemos uso de la hora local tanto en BIOS como en OS de la máquina física , virtual, y la hora del hypervisor (4 relojes en horario local no UTC).</div><div><br/></div><div><font color="#1C3387">DO NOT CLICK ON UTC, we want to have the same local time in all our clocks (BIOS, OS, hypervisor, VMs). Check this out with the help of <b>'hwclock'</b> and <b>'date'</b> commands in Linux.</font></div><div><br/></div></div></div><div style="font-size: 12px;">Hostname: servidorB.domain.local</div><div style="font-size: 12px;">server clock: Europe/Madrid , <b>NO UTC because our BIOS is set up with localtime (all our servers are located in Spain and share the same time)</b></div><blockquote style="font-size: 12px; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div><h2 style="font-size: 19px;"><font size="3" style="font-size: 12px;">     Set bios time to local time or UTC/GMT?</font></h2></div></blockquote></blockquote><blockquote style="font-size: 12px; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div><a href="http://en.community.dell.com/techcenter/systems-management/f/4469/p/19415433/19975969.aspx">http://en.community.dell.com/techcenter/systems-management/f/4469/p/19415433/19975969.aspx</a></div></blockquote></blockquote></blockquote><blockquote style="font-size: 12px; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div><br/></div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div>          Just curious if people set their bios clock to local or UTC/GMT time?</div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div><br/></div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div>          If it's NOT set to local time, the drac logs are in UTC, and can be difficult to match up with other logs.</div></blockquote></blockquote><div><div style="font-size: 12px;"><div><div><br/></div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorB RH6.3 deployment via USC-&gt; <span style="font-weight: normal;">other servers. Selección paquetes</span></font></h1></td></tr></tbody></table></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [28].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/><div><br/></div><div>seleccionamos grupo de software/paquetes &quot;Virtualization Host&quot;</div><div>click en &quot;customize now&quot;</div></div><br/></div><br/><div style="font-size: 12px;"><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorA RH6.1 deployment via USC-&gt; <span style="font-weight: normal;">network settings</span></font></h1></td></tr></tbody></table></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [29].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/><div><br/></div><div>Esta config de red es prescindible al tratarse de la configuración de red para la instalación de paquetes vía repositorios YUM en Internet.</div></div><br/><div style="font-size: 12px;"><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorA RH6.1 deployment via USC-&gt; <span style="font-weight: normal;">hostname</span></font></h1></td></tr></tbody></table></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [30].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/></div><br/><div style="font-size: 12px;"><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorB RH6.3 deployment via USC-&gt; <span style="font-weight: normal;">other servers. Selección de paquetes</span></font></h1></td></tr></tbody></table></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [31].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/><div><br/></div><div>comprobamos que no hay XServer instalado </div></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><font color="#1C3387">We make sure XServer is not chosen for deployment</font></div><br/><div style="font-size: 12px;"><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorB RH6.3 deployment via USC-&gt; <span style="font-weight: normal;">other servers. Adding new partition scheme</span></font></h1></td></tr></tbody></table></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [32].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/><div><br/></div><div><br/></div></div><br/><div style="font-size: 12px;"><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorB RH6.3 deployment via USC-&gt; <span style="font-weight: normal;">other servers. Selección de paquetes</span></font></h1></td></tr></tbody></table></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [33].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/><div><br/></div><div>Selección puntual de algún paquete extra</div></div><br/><div style="font-size: 12px;"><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorB -&gt; <span style="font-weight: normal;">Install boot loader on /dev/sda3</span></font></h1></td></tr></tbody></table></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [34].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/><div><br/></div><div><br/></div></div><br/><div style="font-size: 12px;"><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorB -&gt; <span style="font-weight: normal;">Install Boot Loader on /dev/sda3</span></font></h1></td></tr></tbody></table></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [35].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/><div><br/></div><div><b><font color="#FF0000">Importante: Instalamos el boot loader en /dev/sda3 para no dañar la MBR que viene de fábrica.</font></b></div></div><div style="font-size: 12px;"><b><font color="#FF0000"><br/></font></b></div><div style="font-size: 12px;"><span lang="en"><b><font color="#1C3387">Important: boot loader must be installed on /dev/sda3 to avoid damaging the MBR set up in factory.</font></b></span></div><div><br/><div style="font-size: 12px;"><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">ServidorB tras instalación de RH 6.3 -&gt; <span style="font-weight: normal;">sin errores (de los 2 procedimientos de despliegue de RHEL6, este es el recomendable)</span></font></h1><div><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">ServerB after RHEL 6.3 deployment -&gt; <span style="font-weight: normal;">no errors (this is the recommended deployment procedure of the 2 procedures being tested)</span></font></h1></div></td></tr></tbody></table></div><div><span style="font-size: 11px;">[root@ServidorB ~]# df -h</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Filesystem            Size  Used Avail Use% Mounted on</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/mapper/vgsys-lv_root</span><br style="font-size: 11px;"/><span style="font-size: 11px;">                       20G  1.8G   17G  10% /</span><br style="font-size: 11px;"/><span style="font-size: 11px;">tmpfs                  32G     0   32G   0% /dev/shm</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/sda3             485M   37M  423M   9% /boot</span><br style="font-size: 11px;"/><b style="font-size: 11px;">/dev/mapper/vgdata-lv_home<br/>
                      4.0G   35M  3.8G   1% /home</b><br style="font-size: 11px;"/><b style="font-size: 11px;">/dev/mapper/vgdata-lv_opt<br/>
                      962G  3.7G  909G   1% /opt</b><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/mapper/vgsys-lv_tmp</span><br style="font-size: 11px;"/><span style="font-size: 11px;">                      3.0G   69M  2.8G   3% /tmp</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/mapper/vgsys-lv_var</span><br style="font-size: 11px;"/><span style="font-size: 11px;">                      7.8G  380M  7.0G   6% /var</span><br style="font-size: 11px;"/><span style="font-size: 11px;">[root@servidorB ~]#</span><br style="font-size: 11px;"/><span style="font-size: 11px;">[root@servidorB ~]#</span><br style="font-size: 11px;"/><span style="font-size: 11px;">[root@servidorB ~]#</span><br style="font-size: 11px;"/><span style="font-size: 11px;">[root@servidorB ~]#</span><br style="font-size: 11px;"/><b style="font-size: 11px;">[root@servidorB ~]# fdisk -l</b><br style="font-size: 11px;"/><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk /dev/sda: 1497.2 GB, 1497198755840 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">47 heads, 36 sectors/track, 1728260 cylinders</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Units = cylinders of 1692 * 512 = 866304 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Sector size (logical/physical): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk identifier: 0x7d0435d2</span><br style="font-size: 11px;"/><br style="font-size: 11px;"/><span style="font-size: 11px;">   Device Boot      Start         End      Blocks   Id  System</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/sda1               2         364      307098   de  Dell Utility</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/sda2             365        6562     5243508    c  W95 FAT32 (LBA)</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/sda3   *        6563        7168      512000   83  Linux</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/sda4            7169     1728261  1456044032    5  Extended</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/sda5            7170      131115   104857600   8e  Linux LVM</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/sda6          131116      155905    20971520   82  Linux swap / Solaris</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/sda7          155906     1728261  1330211840   8e  Linux LVM</span><br style="font-size: 11px;"/><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk /dev/mapper/vgsys-lv_root: 21.5 GB, 21474836480 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">255 heads, 63 sectors/track, 2610 cylinders</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Units = cylinders of 16065 * 512 = 8225280 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Sector size (logical/physical): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk identifier: 0x00000000</span><br style="font-size: 11px;"/><br style="font-size: 11px;"/><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk /dev/mapper/vgdata-lv_opt: 1048.6 GB, 1048643108864 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">255 heads, 63 sectors/track, 127490 cylinders</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Units = cylinders of 16065 * 512 = 8225280 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Sector size (logical/physical): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk identifier: 0x00000000</span><br style="font-size: 11px;"/><br style="font-size: 11px;"/><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk /dev/mapper/vgdata-lv_home: 4294 MB, 4294967296 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">255 heads, 63 sectors/track, 522 cylinders</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Units = cylinders of 16065 * 512 = 8225280 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Sector size (logical/physical): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk identifier: 0x00000000</span><br style="font-size: 11px;"/><br style="font-size: 11px;"/><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk /dev/mapper/vgsys-lv_tmp: 3221 MB, 3221225472 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">255 heads, 63 sectors/track, 391 cylinders</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Units = cylinders of 16065 * 512 = 8225280 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Sector size (logical/physical): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk identifier: 0x00000000</span><br style="font-size: 11px;"/><br style="font-size: 11px;"/><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk /dev/mapper/vgsys-lv_var: 8455 MB, 8455716864 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">255 heads, 63 sectors/track, 1028 cylinders</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Units = cylinders of 16065 * 512 = 8225280 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Sector size (logical/physical): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk identifier: 0x00000000</span><br style="font-size: 11px;"/><br style="font-size: 11px;"/><span style="font-size: 11px;">[root@servidorB ~]# </span><br/></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">servidorA tras instalación de RH6.1 sin haber instalado los drivers de DELL proporcionados por la USC -&gt; <font style="font-weight: normal;">con errores en color rojo (no relevantes al tratarse de volúmenes del device mapper y no particiones), se solucionan tras actualizar RHEL6.1 a RHEL6.3 via 'yum update', no siendo necesarios los drivers de DELL ubicados en la memoria interna USB del servidor.</font></font></h1><div><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">serverA after RHEL6.1 deployment without installing DELL drivers provided by USC -&gt; <font style="font-weight: normal;">no relevant errors highlighted in red as they're about device mapper volumes and not about patitions, they disappear after upgrading RHEL6.1 to RHEL6.3 via 'yum update'. DELL drivers located in the internal USB of the server are not necessary. </font></font></h1></div></td></tr></tbody></table></div><div style="font-size: 12px;"><br/></div><div><span style="font-size: 11px;">[root@servidorA ~]# df -l</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Filesystem           1K-blocks      Used Available Use% Mounted on</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/mapper/vgsys-lv_root</span><br style="font-size: 11px;"/><span style="font-size: 11px;">                      20642428   1798188  17795664  10% /</span><br style="font-size: 11px;"/><span style="font-size: 11px;">tmpfs                 32964200         0  32964200   0% /dev/shm</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/sda3               495844     40114    430130   9% /boot</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/sdb1               315224     19568    295656   7% /boot/efi</span><br style="font-size: 11px;"/><b style="font-size: 11px;">/dev/mapper/vgdata-lv_home<br/>
                       4128448    139256   3779480   4% /home<br/>
/dev/mapper/vgdata-lv_opt<br/>
                     1007997220    204232 956589712   1% /opt</b><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/mapper/vgsys-lv_tmp</span><br style="font-size: 11px;"/><span style="font-size: 11px;">                       3096336     70148   2868904   3% /tmp</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/mapper/vgsys-lv_var</span><br style="font-size: 11px;"/><span style="font-size: 11px;">                       8127936    194600   7520460   3% /var</span><br style="font-size: 11px;"/><span style="font-size: 11px;">[root@servidorA ~]#</span><br style="font-size: 11px;"/><span style="font-size: 11px;">[root@servidorA ~]#</span><br style="font-size: 11px;"/><span style="font-size: 11px;">[root@servidorA ~]#</span><br style="font-size: 11px;"/><span style="font-size: 11px;">[root@servidorA ~]# fdisk -l</span><br style="font-size: 11px;"/><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk /dev/sda: 1497.2 GB, 1497198755840 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">47 heads, 36 sectors/track, 1728260 cylinders</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Units = cylinders of 1692 * 512 = 866304 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Sector size (logical/physical): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk identifier: 0x91eab871</span><br style="font-size: 11px;"/><br style="font-size: 11px;"/><span style="font-size: 11px;">   Device Boot      Start         End      Blocks   Id  System</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/sda1               2         364      307098   de  Dell Utility</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/sda2             365        6562     5243508    c  W95 FAT32 (LBA)</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/sda3   *        6563        7168      512000   83  Linux</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/sda4            7169     1728261  1456044032    5  Extended</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/sda5            7170      131115   104857600   8e  Linux LVM</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/sda6          131116      155905    20971520   82  Linux swap / Solaris</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/sda7          155906     1728261  1330211840   8e  Linux LVM</span><br style="font-size: 11px;"/><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk /dev/mapper/vgsys-lv_root: 21.5 GB, 21474836480 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">255 heads, 63 sectors/track, 2610 cylinders</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Units = cylinders of 16065 * 512 = 8225280 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Sector size (logical/physical): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk identifier: 0x00000000</span><br style="font-size: 11px;"/><br style="font-size: 11px;"/><b style="font-size: 11px;"><font color="#FF0000">Disk /dev/mapper/vgsys-lv_root doesn't contain a valid partition table</font></b><br style="font-size: 11px;"/><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk /dev/sdb: 322 MB, 322969600 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">128 heads, 1 sectors/track, 4928 cylinders</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Units = cylinders of 128 * 512 = 65536 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Sector size (logical/physical): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk identifier: 0x444d454f</span><br style="font-size: 11px;"/><br style="font-size: 11px;"/><span style="font-size: 11px;">   Device Boot      Start         End      Blocks   Id  System</span><br style="font-size: 11px;"/><span style="font-size: 11px;">/dev/sdb1   *           1        4929      315399+  83  Linux</span><br style="font-size: 11px;"/><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk /dev/mapper/vgdata-lv_opt: 1048.6 GB, 1048643108864 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">255 heads, 63 sectors/track, 127490 cylinders</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Units = cylinders of 16065 * 512 = 8225280 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Sector size (logical/physical): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk identifier: 0x00000000</span><br style="font-size: 11px;"/><font color="#FF0000" style="font-size: 11px;"><br/>
Disk /dev/mapper/vgdata-lv_opt doesn't contain a valid partition table</font><br style="font-size: 11px;"/><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk /dev/mapper/vgdata-lv_home: 4294 MB, 4294967296 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">255 heads, 63 sectors/track, 522 cylinders</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Units = cylinders of 16065 * 512 = 8225280 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Sector size (logical/physical): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk identifier: 0x00000000</span><br style="font-size: 11px;"/><br style="font-size: 11px;"/><font color="#FF0000" style="font-size: 11px;">Disk /dev/mapper/vgdata-lv_home doesn't contain a valid partition table</font><br style="font-size: 11px;"/><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk /dev/mapper/vgsys-lv_tmp: 3221 MB, 3221225472 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">255 heads, 63 sectors/track, 391 cylinders</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Units = cylinders of 16065 * 512 = 8225280 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Sector size (logical/physical): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk identifier: 0x00000000</span><br style="font-size: 11px;"/><br style="font-size: 11px;"/><font color="#FF0000" style="font-size: 11px;">Disk /dev/mapper/vgsys-lv_tmp doesn't contain a valid partition table</font><br style="font-size: 11px;"/><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk /dev/mapper/vgsys-lv_var: 8455 MB, 8455716864 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">255 heads, 63 sectors/track, 1028 cylinders</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Units = cylinders of 16065 * 512 = 8225280 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Sector size (logical/physical): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">Disk identifier: 0x00000000</span><br style="font-size: 11px;"/><br style="font-size: 11px;"/><font color="#FF0000" style="font-size: 11px;">Disk /dev/mapper/vgsys-lv_var doesn't contain a valid partition table</font><br style="font-size: 11px;"/><span style="font-size: 11px;">[root@servidorA ~]# </span><br/></div><div style="font-size: 12px;"><br/></div></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><div><br/></div><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">Instalación de RH6.1 en servidorA -&gt; <font style="font-weight: normal;">drivers del USC en memoria USB interna de 300MB (memoria interna volátil que al cabo de unos días desaparecerá del sistema, no haremos uso de estos drivers DELL al actualizar RH6.1 a RH6.3, ó porque conviene más una instalación nueva - reinstalación - de RHEL6.3)</font></font></h1><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4178px;" width="100%"><tbody><tr><td style="width:99.90426041168024%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">RHEL6.1 deployment on serverA -&gt; <span style="font-weight: normal;">USC drivers in internal USB memory of 300MB (volatile internal memory that will disappear after a few days. Instead of using these drivers we will upgrade RH6.1 to RH6.3. A fresh installation of RHEL6.3 is the recommended procedure)</span></font></h1></td></tr></tbody></table></div></td></tr></tbody></table><br/></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [36].png" type="image/png" height="768" style="cursor: default; height: auto;" width="1024"/><div><br/></div><div>Memoria USB interna de 300MB en /dev/sdb -&gt; /boot/efi/  (sólo aparecerá en el caso de la instalación de servidorA)</div></div><div><br/></div><div>USC drivers in internal USB memory of 300MB in /dev/sdb -&gt; /boot/efi (it will only appear in our serverA deployment)</div><br/><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><div><br/></div></td></tr></tbody></table></div></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;">Storage pool por defecto de las VM está en /var/lib/libvirt/images (podríamos crear un volumen con la nomenclatura lv_var_lib_libvirt_images)</div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;">pero crearemos las VM en otro filesystem /opt/ -&gt; objetivo: tener todos los datos de Red Hat Hosts y Guests en /opt/ y /home/ -&gt; Finalmente y una vez conocidos los detalles de las aplicaciones, conviene crear LVs/Filesystems independientes para aquellas aplicaciones con mayor cantidad de datos (2-5GB),  dejando espacio libre en el VG de Datos 'vgdata', por si fuera necesario crear nuevos LVs/Filesystems ó aumentar el tamaño de los ya existentes (en caliente)</div><div style="font-size: 12px;"><br/></div></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 12px;"><b>Se recomienda el uso de 128MB como tamaño preferible para el Physical Extension y el Logical Extension de los Volume Groups y Logical Volumes en LVM2 -&gt;</b> aplicado en servidorA y servidorB  (nuestros filesystems son de varios GB de datos, 128MB de PE Size implica también que el tamaño mínimo de un filesystem es de 128MB).</div><div style="font-size: 12px;"><br/></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 24px;"><b>Recommendation: DELL OpenManage/OMSA 7 deployment. Update of drivers, BIOS &amp; firmware via DELL YUM repositories</b></div><div style="font-size: 12px;"><b><u><br/></u></b></div><div style="font-size: 12px;">Note: At the time of this deployment OMSA 6.5 was the release available at Dell repositories. <u>OpenManage/OMSA 7.1 is available on Dell repositories since August 2012</u>.</div><div style="font-size: 12px;"><u><b><br/></b></u></div><div><pre style="font-size: 12px;"><font face="Tahoma">OpenManage URL after its deployment: <a href="https://ip-addr-hypervisor:1311/">https://ip-addr-hypervisor:1311</a></font></pre><pre style="font-size: 12px;"><font face="Tahoma">It is recommended to set up the Official DELL OpenManage Linux Repository. </font></pre><pre style="font-size: 12px;"><font face="Tahoma"><b><font color="#FF0000">All the upgrades of RHEL, OpenManage, BIOS, drivers and Firmware are accomplished via YUM command. </font></b></font></pre><pre style="font-size: 12px;"><b><font color="#FF0000" face="Tahoma">La actualización de paquetes Red Hat, de OpenManage, BIOS, drivers y firmware se realiza mediante la misma herramienta YUM de RedHat.</font></b></pre><pre style="font-size: 12px;"><font face="Tahoma"><br/></font></pre><pre style="font-size: 12px;"><font face="Tahoma"><u><b>LINKS OF INTEREST:</b></u>

<a href="http://linux.dell.com/wiki/index.php/Repository/OMSA">http://linux.dell.com/wiki/index.php/Repository/OMSA</a>
Officially Supported OpenManage repository: <a href="http://linux.dell.com/repo/hardware/">http://linux.dell.com/repo/hardware/</a> -&gt; Please use the Officially Supported OpenManage repository:. It has firmware (including BIOS, PERC firmware, BMC, Backplane, etc) for all supported PowerEdge servers, as well as updated drivers and Dell OpenManage Server Administrator.
<a href="http://linux.dell.com/wiki/index.php/Repository/hardware">http://linux.dell.com/wiki/index.php/Repository/hardware</a></font></pre><pre style="font-size: 12px;"><font face="Tahoma"><a href="http://linux.dell.com/repo/hardware/latest/">http://linux.dell.com/repo/hardware/latest/</a> -&gt; <b>OM 7.1</b>, This is the officially supported yum repository for Open Manage. <b><font color="#FF0000">This repository contains OMSA, drivers, BIOS, and firmware.</font></b>


<b><u>What is the purpose of the Dell OpenManage Linux Repository?</u></b> </font></pre><pre style="font-size: 12px;"><font face="Tahoma"><a href="http://linux.dell.com/wiki/index.php/Repository/FAQ">http://linux.dell.com/wiki/index.php/Repository/FAQ</a><br/>The purpose of the Dell OpenManage Linux Repository is to distribute all Official Dell Software.
      Official Dell Software distributed in this repo:
            OpenManage Server Administrator
            Dell drivers for our different Linux systems
            BIOS and firmware updates
            Meta Packages

     To install all OMSA components using using yum (on RHEL 5,RHEL 6 and CentOS 3/4):

          yum install **Meta-Package (select from list below)**

     The following meta packages are provided:

         srvadmin-all: Install all OMSA components
         srvadmin-base: Install only base OMSA, no web server
         srvadmin-webserver: Install Web Interface
         srvadmin-storageservices: Install RAID Management
         srvadmin-rac4: Install components to manage the Dell Remote Access Card 4
         srvadmin-rac5: Install components to manage the Dell Remote Access Card 5
</font></pre><pre><u style="font-family: Tahoma; font-size: 12px;"><b>OPENMANAGE DEPLOYMENT PROCEDURE ON DELL POWEREDGE R720:</b></u><span style="font-family: Tahoma; font-size: 12px;">

</span><b style="font-family: Tahoma; font-size: 12px;">1)</b><span style="font-family: Tahoma; font-size: 12px;"> Set up the Dell OpenManage Repository at </span><a href="http://linux.dell.com/repo/hardware" style="font-family: Tahoma; font-size: 12px;">http://linux.dell.com/repo/hardware</a><span style="font-family: Tahoma; font-size: 12px;">, like this:

     </span><b style="font-family: Tahoma; font-size: 12px;">wget -q -O - <a href="http://linux.dell.com/repo/hardware/latest/bootstrap.cgi">http://linux.dell.com/repo/hardware/latest/bootstrap.cgi</a> | bash</b><span style="font-family: Tahoma; font-size: 12px;">


</span><b style="font-family: Tahoma; font-size: 12px;">2) Optional Install OpenManage Server Administrator:</b><span style="font-family: Tahoma; font-size: 12px;">

     </span><b style="font-family: Tahoma; font-size: 12px;">yum install srvadmin-all</b><span style="font-family: Tahoma; font-size: 12px;">


</span><b style="font-family: Tahoma; font-size: 12px;">3) [root@servidorA ~]# srvadmin-services.sh</b></pre><pre><font face="Arial" style="font-size: 11px;">Usage: srvadmin-services.sh {start|stop|status|restart|enable|disable|help}
  start  : starts Server Administrator services
  stop   : stops Server Administrator services
  status : display status of Server Administrator services
  restart: restart Server Administrator services
  enable : Enable Server Administrator services in runlevels 2, 3, 4, and 5
  disable: Disable Server Administrator services in runlevels 2, 3, 4, and 5
  help   : Displays this help text</font><span style="font-family: Tahoma; font-size: 12px;">

</span><b style="font-family: Tahoma; font-size: 12px;">4) [root@servidorA ~]# srvadmin-services.sh  start</b></pre><pre><font face="Arial" style="font-size: 11px;">Starting Systems Management Device Drivers:
Starting dell_rbu:                                         [  OK  ]
Starting ipmi driver:                                      [  OK  ]
Starting snmpd:                                            [  OK  ]
Starting Systems Management Data Engine:
Starting dsm_sa_datamgrd:                                  [  OK  ]
Starting dsm_sa_eventmgrd:                                 [  OK  ]
Starting dsm_sa_snmpd:                                     [  OK  ]
Starting DSM SA Shared Services:                           [  OK  ]

Starting DSM SA Connection Service:                        [  OK  ]</font><span style="font-family: Tahoma; font-size: 12px;">


</span><b style="font-family: Tahoma; font-size: 12px;">5) [root@servidorA ~]# srvadmin-services.sh enable</b></pre><pre><font face="Arial" style="font-size: 11px;">racsvc          0:off   1:off   2:on    3:on    4:on    5:on    6:off,
dataeng         0:off   1:off   2:off   3:on    4:on    5:on    6:off,
dsm_om_shrsvc   0:off   1:off   2:off   3:on    4:on    5:on    6:off,
dsm_om_connsvc  0:off   1:off   2:off   3:on    4:on    5:on    6:off,
[root@servidorA ~]#</font><font face="Tahoma" style="font-size: 12px;">


</font><b style="font-family: Tahoma; font-size: 12px;">6) [root@servidorA ~]# yum install dell_ft_install -y</b></pre><pre><font face="Arial"><span style="font-size: 11px;">==============================================================================
Package                                      Arch                          Version
Repository                              Size
==============================================================================
Installing:
dell_ft_install                              noarch                        1.1-1
dell-omsa-indep                        2.7 k
Installing for dependencies:
dell_ft_ie_interface                         noarch                        1.0.12-4.18.6.el6
dell-omsa-indep                         24 k
dell_ie_bios                                 x86_64                        3.1.0-1.3.2.el6
dell-omsa-indep                         49 k
dell_ie_imc                                  x86_64                        1.0.0-1.1.6.el6
dell-omsa-indep                         29 k
dell_ie_maser                                x86_64                        3.1.0-1.3.2.el6
dell-omsa-indep                         88 k
dell_ie_maser_inv_lcl                        x86_64                        3.1.0-1.3.2.el6
dell-omsa-indep                        4.0 k
dell_ie_nitrogen                             x86_64                        2.0.0-1.8.1.el6
dell-omsa-indep                         58 k
dell_ie_rac_4                                x86_64                        6.5.0-1.1.6.el6
dell-omsa-indep                         36 k
dell_ie_rac_5                                x86_64                        6.5.0-1.1.6.el6
dell-omsa-indep                        4.3 k
dell_ie_sas                                  x86_64                        3.1.0-1.3.2.el6
dell-omsa-indep                        171 k
dell_ie_tape_ibm                             x86_64                        1.1.0-6
dell-omsa-indep                        482 k
dell_ie_tape_prostor                         x86_64                        1.1.0-6
dell-omsa-indep                        676 k
dell_ie_tape_quantum                         x86_64                        1.1.0-6
dell-omsa-indep                        120 k
firmware-addon-dell                          x86_64                        2.2.9-1.el6                           epel  50 k
firmware-tools                               noarch                        2.1.14-4.14.1.el6
dell-omsa-indep                        226 k
libipmi0                                     x86_64                        1.0.0-1.1.1.el6
dell-omsa-indep                        128 k
libsmal0                                     x86_64                        3.1.0-1.3.1.el6
dell-omsa-indep                        855 k
smbios-utils                                 x86_64                        2.2.26-3.1.el6
dell-omsa-indep                         13 k

Transaction Summary
=================================================================================
Install      18 Package(s)

Total download size: 2.9 M
Installed size: 8.9 M
Is this ok [y/N]: y</span></font><span style="font-family: Tahoma; font-size: 12px;">

</span><b style="font-family: Tahoma; font-size: 12px;">7) Downloading firmware (<a href="http://linux.dell.com/wiki/index.php/Repository/firmware">http://linux.dell.com/wiki/index.php/Repository/firmware</a>)</b><span style="font-family: Tahoma; font-size: 12px;">

</span><b style="font-family: Tahoma; font-size: 12px;">[root@servidorA ~]# yum install $(bootstrap_firmware)</b><span style="font-family: Tahoma; font-size: 12px;">

</span><span style="font-family: Tahoma; font-size: 11px;">============================================================================
Installing:
HD_300GB_SAS6_3_5_15K_SGT_EAGLE_componentid_20796                    noarch                    4:a06-1
dell-omsa-indep                    513 k

Transaction Summary
============================================================================
Install       1 Package(s)

Total download size: 513 k
Installed size: 935 k
Is this ok [y/N]:</span><span style="font-family: Tahoma; font-size: 12px;">


</span><b style="font-family: Tahoma; font-size: 12px;">8) Flashing the firmware (<a href="http://linux.dell.com/wiki/index.php/Repository/firmware">http://linux.dell.com/wiki/index.php/Repository/firmware</a>)
[root@servidorA ~]# update_firmware</b><span style="font-family: Tahoma; font-size: 12px;">

</span><span style="font-family: Tahoma; font-size: 11px;">Running system inventory...

Searching storage directory for available BIOS updates...
Checking ST3300657SS Firmware - es65
        Available: dell_dup_componentid_20796 - es65
        Did not find a newer package to install that meets all installation checks.
Checking PERC H710 Mini Controller 0 Firmware - 21.0.1-0132
        Did not find a newer package to install that meets all installation checks.
Checking BIOS - 1.0.4
        Did not find a newer package to install that meets all installation checks.
Checking System BIOS for PowerEdge R720 - 1.0.4
        Did not find a newer package to install that meets all installation checks.

This system does not appear to have any updates available.
No action necessary.</span><b style="font-family: Tahoma; font-size: 12px;">
9) [root@servidorA ~]#  smbios-get-ut-data
</b><span style="font-family: Tahoma; font-size: 11px;">Libsmbios:    XXXXXX
dumping table header.
dumping table.
dumped table..
table length: XXXXX</span><span style="font-family: Tahoma; font-size: 12px;">


</span><b style="font-family: Tahoma; font-size: 12px;">10) [root@servidorA ~]# smbios-sys-info</b></pre><pre><span style="font-family: Tahoma; font-size: 11px;">Libsmbios version:      XXXXX
Product Name:           PowerEdge R720
Vendor:                 Dell Inc.
</span><font color="#FF0000" style="font-family: Tahoma; font-size: 11px;">BIOS Version:           XXXXX
System ID:              XXXXXX
Service Tag:            xxxxxxxx
Express Service Code:   XXXXXX</font><span style="font-family: Tahoma; font-size: 11px;">
Asset Tag:
Property Ownership Tag:
[root@servidorA ~]#
[root@servidorA ~]# smbios-sys-info-lite
Libsmbios:    XXXXX
</span><font color="#FF0000" style="font-family: Tahoma; font-size: 11px;">System ID:    XXXXX
Service Tag:  xxxxx
Express Service Code: xxxxxxxxxxxxxx
</font><span style="font-family: Tahoma; font-size: 11px;">Error getting the Aset Tag:  unknown error
Product Name: PowerEdge R720
BIOS Version: XXXXXX
Vendor:       Dell Inc.
Is Dell:      1
[root@server6 ~]#</span></pre><div style="font-size: 12px; text-align: justify;"><font face="Tahoma"><br/></font></div><div style="font-size: 12px; text-align: justify;"><font face="Tahoma">11) Binaries installed in /opt/dell</font></div><pre style="font-size: 12px; text-align: justify;"><font face="Tahoma"><font face="Tahoma">12) <b>OpenManage </b>screenshot: </font></font></pre><pre style="font-size: 12px; text-align: justify;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></pre><pre style="font-size: 12px;"><font face="Tahoma"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/DellOpenManageServer6.png" type="image/png" height="736" style="cursor: default; height: auto;" width="1366"/></font></pre><div style="white-space: normal;"><div><span style="font-size: 12px;"><font face="Tahoma"><br/></font></span></div><div><span style="font-size: 12px;"><br/></span></div><div style="font-size: 25px;"><b><font face="Tahoma" size="3" style="font-size: 12px;"><span style="border-collapse: separate; border-spacing: 0px;">Intel Xeon E5-2650 0</span></font></b></div><div style="font-size: 25px;"><b><span style="font-size: 12px;"><br/></span></b></div><div><br/></div><div style="margin: 25px auto 15px; border: 1px solid rgb(6, 86, 149); width: 562px; text-align: center;"><div style="background-color: rgb(6, 86, 149); color: rgb(255, 255, 255); text-transform: uppercase; font-weight: bold;"><div><font face="Tahoma"><span style="border-collapse: separate; color: rgb(0, 0, 0); font-weight: normal; text-transform: none; border-spacing: 0px;">EL XEON E5-2650 0 PROCESSOR</span></font></div></div><div><p><font face="Tahoma"><span style="border-collapse: separate; text-align: -webkit-auto; border-spacing: 0px;"><b>CPU Core Count:</b></span></font></p><p><font face="Tahoma"><span style="border-collapse: separate; text-align: -webkit-auto; border-spacing: 0px;">8</span></font></p></div><div><p><font face="Tahoma"><span style="border-collapse: separate; text-align: -webkit-auto; border-spacing: 0px;"><b>CPU Thread Count:</b></span></font></p><p><font face="Tahoma"><span style="border-collapse: separate; text-align: -webkit-auto; border-spacing: 0px;">16</span></font></p></div><div><p><font face="Tahoma"><span style="border-collapse: separate; text-align: -webkit-auto; border-spacing: 0px;">Cache Size:</span></font></p><p><font face="Tahoma"><span style="border-collapse: separate; text-align: -webkit-auto; border-spacing: 0px;">20480 KB</span></font></p></div><div><p><font face="Tahoma"><span style="border-collapse: separate; text-align: -webkit-auto; border-spacing: 0px;">Special Instruction Set Extensions:</span></font></p><p><font face="Tahoma"><span style="border-collapse: separate; text-align: -webkit-auto; border-spacing: 0px;">SSE 4.2 + AVX</span></font></p></div><div><p><font face="Tahoma"><span style="border-collapse: separate; text-align: -webkit-auto; border-spacing: 0px;">AES Encryption:</span></font></p></div><div><br/></div><div><font face="Tahoma"><span style="border-collapse: separate; border-spacing: 0px;">YES</span></font></div><div><p><font face="Tahoma"><span style="border-collapse: separate; text-align: -webkit-auto; border-spacing: 0px;">Energy Performance Bias:</span></font></p><p><font face="Tahoma"><span style="border-collapse: separate; text-align: -webkit-auto; border-spacing: 0px;">NO</span></font></p></div><div><p><font face="Tahoma"><span style="border-collapse: separate; text-align: -webkit-auto; border-spacing: 0px;">Virtualization:</span></font></p></div><div><font face="Tahoma"><span style="border-collapse: separate; text-align: -webkit-auto; border-spacing: 0px;">VT-x                    </span></font></div><font face="Tahoma"><br/></font></div><div><br/></div><div><span style="font-size: 25px;"><b><span style="font-size: 12px;"><br/></span></b></span></div></div></div><div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><div style="font-size: 12px; white-space: normal;"><div><font face="Tahoma"><b>[root@servidorA ~]# cat /proc/cpuinfo</b></font></div></div><div style="white-space: normal;"><div style="font-size: 11px;"><font color="#E30000" face="Tahoma"><b>processor       : 0</b></font></div></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma">vendor_id       : GenuineIntel</font></div></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma">cpu family      : 6</font></div></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma">model           : 45</font></div></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma">model name      : Intel(R) Xeon(R) CPU E5-2650 0 @ 2.00GHz</font></div></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma">stepping        : 7</font></div></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma">cpu MHz         : 1999.976</font></div></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma">cache size      : 20480 KB</font></div></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma">physical id     : 0</font></div></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma">siblings        : 16</font></div></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma">core id         : 0</font></div></div><div style="white-space: normal; font-size: 11px;"><div><font color="#E30000" face="Tahoma"><b>cpu cores       : 8</b></font></div></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma">apicid          : 0</font></div></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma">initial apicid  : 0</font></div></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma">fpu             : yes</font></div></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma">fpu_exception   : yes</font></div></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma">cpuid level     : 13</font></div></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma">wp              : yes</font></div></div><div style="white-space: normal; font-size: 11px;"><font face="Tahoma">bogomips        : 3999.95</font></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma">clflush size    : 64</font></div></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma">cache_alignment : 64</font></div></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma">address sizes   : 46 bits physical, 48 bits virtual</font></div></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma">power management:</font></div></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma"><br/></font></div></div><div style="white-space: normal; font-size: 11px;"><div><font color="#E30000" face="Tahoma"><b>processor       : 1</b></font></div></div><div style="white-space: normal; font-size: 11px;"><div><font face="Tahoma">vendor_id       : GenuineIntel</font></div></div><div style="white-space: normal;"><div style="font-size: 11px;"><font face="Tahoma">cpu family      : 6</font></div><div style="font-size: 12px;"><font face="Tahoma"><br/></font></div><div style="font-size: 12px;"><font face="Tahoma"><br/></font></div></div></blockquote><div><pre style="font-size: 12px; text-align: justify;"></pre></div></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><pre style="font-size: 12px; text-align: justify;"><font face="Tahoma"><font face="Tahoma"><u><b>Análisis de sobrecarga de sistema via TOP/HTOP conociendo el número de cores de procesador</b></u></font></font></pre><pre style="font-size: 12px; text-align: justify;"></pre><pre style="font-size: 12px;"><font face="Tahoma">Tal y como vemos en las capturas anteriores, nuestro servidor dispone de dos procesadores existentes, cada uno de 8 cores, y cada core de 2 threads. <br/>De ahí que Linux vea 32 procesadores vía top, htop, etc.<font color="#E30000"> Este dato es importante para saber analizar y valorar posteriormente si top/htop nos muestra una sobrecarga del sistema: </font><br/><font color="#E30000">En nuestro caso tenemos 2 procesadores x 8 cores = 16 cores x 2 threads = 32 threads, luego el OS ve 32 CPUs, estando el límite de CPU</font> (carga media de los últimos 1,5,15min según top/htop/uptime) <font color="#E30000">en 16 cores. </font><br/>Si top muestra 15.0-16.0 de carga media de CPU podemos decir que el servidor está sobrecargado,no puede tener más procesos esperando entrar en la cola de ejecución.<br/></font></pre><pre style="text-align: justify;"><font face="Tahoma"><span lang="en"><b style="font-size: 24px;">System Load and Performance Analysis via TOP/HTOP knowing the number of processor cores available</b><span style="font-size: 12px;"><br/></span><font color="#1C3387" style="font-size: 12px;">As we see in the screenshots above, our physical server is composed of two processors, of 8 cores each, and 2 threads per core.<br/>This is why our Linux OS sees 32 processors when running  top, htop, etc.<b> This is relevant to understand if top/htop shows a system overload:</b><br/><b>In our case we have 2 processors x 8 cores = 16 cores x 2 threads = 32 threads, then the OS sees 32 CPUs, with the CPU limit</b> (load average for the last 1,5,15 min according to top/htop/uptime)<b> in 16 cores.</b><br/>If top shows 15.0-16.0 of average CPU load we can say the server is overloaded (it can not have more processes waiting to enter the run queue).</font></span></font></pre><pre style="font-size: 12px; text-align: justify;"><font face="Tahoma"><span lang="en"><b><font color="#E30000">Tip:</font></b><font color="#1C3387"> </font><b style="color: rgb(28, 51, 135);"><u>press '1' shortkey in top to see CPU usage per processor.</u></b></span></font></pre></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 12px; white-space: normal;"><div><font face="Tahoma"><br/></font></div></div><div style="white-space: normal; font-size: 24px;"><font face="Tahoma"><b>Recommendation: Disk Partitioning and LVM2 scheme in Virtual Machines with RHEL6.3 x86_64 (VG System and VG Data)</b></font></div><div style="font-size: 12px;"><font face="Tahoma"><br style="white-space: normal;"/></font><div style="white-space: normal;"><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">VM: <span style="font-weight: normal;">Particionado, VG para sistema y VG para datos</span></font></h1><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4178px;" width="100%"><tbody><tr><td style="width:99.90426041168024%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">VM Partitioning: <span style="font-weight: normal;">VG System and VG Data </span></font></h1><h1 style="font-size: 25px;"><span style="font-weight: normal;"><font size="3" style="font-size: 12px;">Set up small LVs/Filesystems in vgdata at your own convenience and leave Free space in vgdata. Leave also Free space in vgsys.</font></span></h1></td></tr></tbody></table></div></td></tr></tbody></table><br/></div><div style="white-space: normal;"><div><font face="Tahoma"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [37].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/></font></div><div><font face="Tahoma"><br/></font></div><div><font face="Tahoma">vgsys y vgdata, misma política que en particionado de máquina física para hacer el sistema (y los datos) más recuperable, <b><u><font color="#FF0000">mayor margen de maniobra en caso de problemas de arranque, de OS , de rendimiento , de actualizaciones, etc.</font></u></b></font></div><div><br/></div><div><font face="Tahoma">Es más fácil gestionar el espacio en disco disponible si disponemos de varios filesystems con datos. Por ejemplo es mucho más eficaz listar el espacio utilizado en varios filesystems con comandos tipo 'df -h' que hacer lo mismo pero con 1 único filesystem con muchos directorios/aplicaciones (comandos 'du -h').</font></div><div><br/></div></div></div><div style="font-size: 12px;"><div style="white-space: normal;"><div><span style="color: rgb(28, 51, 135);">Same partition scheme as in our physical servers, with vgsys and vgdata to make the virtual machines more recoverable and with </span><b style="color: rgb(28, 51, 135);">more leeway in case of trouble during the OS boot process, performance issues after several updates, etc.</b></div><div><b style="color: rgb(28, 51, 135);"><br/></b></div><div><span style="color: rgb(28, 51, 135);">Spare disk is easier to manage when data filesystems are set up. For example it is quicker to list the usage of our filesystems via CLI commands like 'df -h' instead of issuing 'du -h' on a large filesystem with nested directories.</span></div><div><span style="color: rgb(28, 51, 135);"><br/></span></div><div>Ejemplos de LVs/FileSystems ubicados dentro de vgdata: </div><div><span style="color: rgb(28, 51, 135);">Examples of LVs/Filesystems belonging to vgdata:</span></div><div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><ul><li>/home</li><li>/opt</li><li>/opt/apache</li><li>/opt/tomcat</li><li>/opt/jboss</li><li>/u01  (oracle)</li><li>/u02  (oracle)</li><li>/etc/bind</li><li>/etc/squid</li><li>/usr/local</li><li>1 LV/filesystem for each WebApp application! (specially when an app requires a few GB of data with logs, etc)    </li><li>1 LV/filesystem for any other app like i.e. the backup software</li></ul></blockquote><div><font face="Tahoma">Siguiendo las recomendaciones de RH, para el caso de RAM 8GB se aplica el 50% de swap -&gt; partición swap de 4GB.</font></div><div><font color="#1C3387" face="Tahoma">Following Red Hat recommendations, we set up a swap partition of 4GB as our VM (Virtual Machine) has 8GB of RAM (swap of 50% size of RAM)</font></div><div><font face="Tahoma"><br/></font></div><div><font face="Tahoma"><u>INSTALACIÓN DE PAQUETES EN VM</u>: Seleccionamos un perfil de 'servidor' ó similar sin interfaz gráfica. Una vez instalado el OS, <b>podemos habilitar las X11 Forwarding con la instalación del paquete 'yum install <font color="#FF0000">xorg-x11-xauth</font>'</b>, y habilitando la SSH X11 forwarding en la configuración de SSH.</font></div></div><div><font face="Tahoma"><br/></font></div><div><font face="Tahoma"><u style="color: rgb(28, 51, 135);">Red Hat Packages Installation in Virtual Machines:</u> <font color="#1C3387">a 'server' profile without XServer is recommended. Once the OS is deployed,</font> <b><font color="#1C3387">X11 Forwarding can be easily enable with the set up of the following package: 'yum install</font> <font color="#E30000">xorg-x11-xauth</font><font color="#1C3387">'</font></b> <font color="#1C3387">and making sure our SSH server allows SSH X11 forwarding.</font></font></div></div><font face="Tahoma"><br style="white-space: normal;"/></font><div style="white-space: normal;"><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">VM: <span style="font-weight: normal;">Install boot loader on /dev/vda</span></font></h1></td></tr></tbody></table></div><div style="white-space: normal;"><font face="Tahoma"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [38].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/></font><div><font face="Tahoma"><br/></font></div><div><font face="Tahoma">En una máquina virtual no hay peligro de instalar el boot loader en <b><font color="#E30000">/dev/vda</font></b> (no hay riesgo de dañar ningún MBR)</font></div><div><font face="Tahoma"><br/></font></div><div><font color="#1C3387">As this is a Virtual Machine, we take no risks installing the boot loader on <b>/dev/vda</b> (no MBR will be overwritten)</font></div></div></div><div style="font-size: 12px; white-space: normal;"><font face="Tahoma"><br/></font><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1><font size="3" style="font-size: 24px;">Recommendation: macvtap in VM Network settings</font><font size="3" style="font-size: 12px;">. <span style="font-weight: normal;">macvtap (a new feature available in RHEL6.3) -&gt; virtio -&gt; Bridge</span></font></h1></td></tr></tbody></table></div><div style="font-size: 12px; white-space: normal;"><div><font face="Tahoma"><br/></font></div><div><font face="Tahoma"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [39].png" type="image/png" height="734" style="cursor: default; height: auto;" width="1024"/></font></div><div><font face="Tahoma"><br/></font></div><div><font face="Tahoma">MacVTap Bridge en lugar de MacVtap VEPA (todo el tráfico pasaría por el switch, incluso aunque la conexión fuera entre VM ó VM y host). </font></div><div><font face="Tahoma">Nota: Cada máquina física dispone de 4 interfaces de red: em1, em2, em3 y em4, cada una vinculada a una subred distinta sobre la que asociar determinadas máquinas virtuales vía MaVtap Bridge. No disponemos por ahora de NIC configurados con Device Mapper MULTIPATH (son entornos WebApp redundados y balanceados).</font></div><div><font face="Tahoma"><br/></font></div><div><font color="#1C3387" face="Tahoma">MacVTap Bridge instead of MacVtap VEPA (with VEPA all the network traffic would go through the switch, including the communications between local VMs and local host-guest).</font></div><div><font color="#1C3387" face="Tahoma">Note: each physical machine is composed of 4 NICs: em1, em2, em3 and em4, each one linked to a separated subnet and to specific VMs with one MacVTap Bridge set up. We currently don't have a Device Mapper's NIC MULTIPATH  (our WebApp environment is already redundant and balanced). </font></div></div><div style="font-size: 12px;"><div style="white-space: normal;"><font face="Tahoma"><br/></font><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">VM: <font style="font-weight: normal;">Gestión de VMs con virt-manager de mi Fedora de Escritorio ejecutándose VMWare Player para Windows7. También valdría otro Linux compatible con virt-manager (no disponible para windows)</font></font></h1><div><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">VM: <span style="font-weight: normal;">Remote management of VMs with virt-manager installed on my Fedora desktop running on VMware Player for windows7. Any other linux distribution with an up-to-date virt-manager would be valid. virt-manager is only available for Linux. </span></font></h1></div></td></tr></tbody></table></div><div style="white-space: normal;"><font face="Tahoma"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [40].png" type="image/png" height="734" style="cursor: default; height: auto;" width="1024"/></font></div><div style="white-space: normal;"><font face="Tahoma"><br/></font></div><div style="white-space: normal;"><font face="Tahoma"><font color="#E30000"><b>Lo ideal sería disponer de una máquina virtual como ésta (vmware player, en mi laptop de uso personal) en un servidor desde el que poder acceder vía VNC/RDP en remoto y a compartir entre varios Admins.</b></font> Por ejemplo en un servidor RHEL6.3 con hypervisor KVM, instalaríamos un Fedora ó Linux con Escritorio Gráfico y con vnc-server ó servidor RDP (quizás más interesante que VNC). Este entorno sería algo así como una Consola de Administración de nuestra infraestructura, con por ejemplo <b>virt-manager</b>, <b>JMETER</b> (análisis de rendimiento, requiere un tuning específico de memoria y procesadores), <b>Monitorización</b> <b>ZenOSS con libvirt-snmp</b>, <b>ACMSA de Oracle desde el que gestionar el Oracle ASM Dynamic Volume Manager (ADVM) de nuestras BBDD</b>, etc. (mejor solución que tener unas X en cada servidor Linux y gestionar cada servidor físico con un VNC Server ó servidor RDP).</font></div><div><font face="Tahoma"><br/></font></div><div><font color="#1C3387"><b><span lang="en">Ideally we could have a virtual machine like this one (vmware player running on my laptop for personal use) in a server from which we can share remote access between multiple Administrators </span>via VNC/RDP</b>. For example, we could set up a VM running Fedora or Linux </font><span style="color: rgb(28, 51, 135);">on a</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">RHEL6.3</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">server</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">with</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">KVM</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">hypervisor. This virtualized Linux would run a</span> <span style="color: rgb(28, 51, 135);">graphical desktop interface reachable via </span><span style="color: rgb(28, 51, 135);">vnc</span><span style="color: rgb(28, 51, 135);">-server</span> <span style="color: rgb(28, 51, 135);">or</span> <span style="color: rgb(28, 51, 135);">RDP</span> <span style="color: rgb(28, 51, 135);">server</span> <span style="color: rgb(28, 51, 135);">(RDP is </span><span style="color: rgb(28, 51, 135);">perhaps more interesting than</span> <span style="color: rgb(28, 51, 135);">VNC</span><span style="color: rgb(28, 51, 135);">)</span><span style="color: rgb(28, 51, 135);">.</span> <span style="color: rgb(28, 51, 135);">This GUI environment</span> <span style="color: rgb(28, 51, 135);">would behave like</span><span style="color: rgb(28, 51, 135);"> a shared</span><span style="color: rgb(28, 51, 135);"> </span><span style="color: rgb(28, 51, 135);">Administration</span> <span style="color: rgb(28, 51, 135);">Console</span><span style="color: rgb(28, 51, 135);"> of </span><span style="color: rgb(28, 51, 135);">our infrastructure</span> <span style="color: rgb(28, 51, 135);">with tools like</span> <b style="color: rgb(28, 51, 135);">virt-manager</b><span style="color: rgb(28, 51, 135);">,</span> <b style="color: rgb(28, 51, 135);">JMeter</b> <span style="color: rgb(28, 51, 135);">(</span><span style="color: rgb(28, 51, 135);">performance analysis tool</span><span style="color: rgb(28, 51, 135);">)</span><span style="color: rgb(28, 51, 135);">,</span> <b style="color: rgb(28, 51, 135);">Zenoss with libvirt-snmp,</b> <b style="color: rgb(28, 51, 135);">Oracle ACMSA for Oracle ASM Dynamic Volume Manager (ADVM) management of our databases</b> <span style="color: rgb(28, 51, 135);">(instead of managing each Oracle instance/node from its locally deployed tools)</span><span style="color: rgb(28, 51, 135);">,</span> <span style="color: rgb(28, 51, 135);">etc.</span></div><font face="Tahoma"><br style="white-space: normal;"/></font><div style="white-space: normal;"><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">VM: macvtap - network config</font></h1></td></tr></tbody></table></div><div style="white-space: normal;"><font face="Tahoma"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [41].png" type="image/png" height="734" style="cursor: default; height: auto;" width="1024"/></font></div><font face="Tahoma"><br style="white-space: normal;"/></font><div style="white-space: normal;"><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">VM: macvtap - network config</font></h1></td></tr></tbody></table></div><div style="white-space: normal;"><font face="Tahoma"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [42].png" type="image/png" height="734" style="cursor: default; height: auto;" width="1024"/></font><div><font face="Tahoma"><br/></font></div><div><br/></div></div></div><div style="font-size: 12px; white-space: normal;"><font face="Tahoma"><br/></font><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">VM: <font style="font-weight: normal;">virt-manager, desde el que gestionar remótamente las VMs de varios hypervisores libvirt/KVM</font></font></h1><div><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">VM: <font style="font-weight: normal;">virt-manager running on my laptop, from which our VMs spread on several KVM/Libvirt hypervisors are remotely managed </font></font></h1></div></td></tr></tbody></table></div><div style="font-size: 12px; white-space: normal;"><font face="Tahoma"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [43].png" type="image/png" height="726" style="cursor: default; height: auto;" width="1366"/></font></div><div style="white-space: normal;"><div style="font-size: 12px;"><font face="Tahoma"><br/></font></div></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="white-space: normal;"><div style="text-align: justify"><font face="Tahoma" style="font-size: 24px;"><b>MÁQUINAS VIRTUALES Y BALANCEO DE SESIONES HTTP</b></font></div><div style="font-size: 12px;"><font face="Tahoma"><br/></font></div><div style="font-size: 12px;"><table border="1" cellpadding="2" cellspacing="0" style="font-size: 12px; table-layout: fixed;width:32.24187380497132%;" width="100%"><tbody><tr><td style="width:20.237212750185325%;" valign="top"><b>SERVIDOR FÍSICO Y RAMA BALANCEADA</b></td><td style="width:16.234247590808007%;" valign="top"><b>MÁQUINA VIRTUAL CON APACHE</b></td><td style="width:16.234247590808007%;" valign="top"><b>MÁQUINA VIRTUAL CON TOMCAT</b></td><td style="width:47.14603409933284%;" valign="top"><b>COMENTARIO</b></td></tr><tr><td valign="top"><div>RAMA1-servidorA</div></td><td valign="top"><div>Web1a</div></td><td valign="top"><div>App1a</div></td><td valign="top">Web1a balancea por sesión entre App1a, App1b y App1c. Balanceadores HW también balancean por sesión</td></tr><tr><td valign="top"><div>RAMA2-servidorA</div></td><td valign="top"><div>Web2a</div></td><td valign="top"><div>App2a</div></td><td valign="top"><div>Web2a balancea por sesión entre App2a, App2b y App2c. Balanceadores HW también balancean por sesión</div></td></tr><tr><td valign="top"><div>RAMA3-servidorA</div></td><td valign="top"><div>Web3a</div></td><td valign="top"><div>App3a</div></td><td valign="top"><div>Web3a balancea por sesión entre App3a, App3b y App3c. Balanceadores HW también balancean por sesión</div></td></tr><tr><td valign="top"><div>RAMA1-servidorB</div></td><td valign="top"><div>Web1b</div></td><td valign="top"><div>App1b</div></td><td valign="top"><div>Web1b balancea por sesión entre App1a, App1b y App1c. Balanceadores HW también balancean por sesión</div></td></tr><tr><td valign="top"><div>RAMA2-servidorB</div></td><td valign="top"><div>Web2b</div></td><td valign="top"><div>App2b</div></td><td valign="top"><div>Web2b balancea por sesión entre App2a, App2b y App2c. Balanceadores HW también balancean por sesión</div></td></tr><tr><td valign="top"><div>RAMA3-servidorB</div></td><td valign="top"><div>Web3b</div></td><td valign="top"><div>App3b</div></td><td valign="top"><div>Web3b balancea por sesión entre App3a, App3b y App3c. Balanceadores HW también balancean por sesión</div></td></tr><tr><td valign="top"><div>RAMA1-servidorC</div></td><td valign="top"><div>Web1c</div></td><td valign="top"><div>App1c</div></td><td valign="top"><div>Web1c balancea por sesión entre App1a, App1b y App1c. Balanceadores HW también balancean por sesión</div></td></tr><tr><td valign="top"><div>RAMA2-servidorC</div></td><td valign="top"><div>Web2c</div></td><td valign="top"><div>App2c</div></td><td valign="top"><div>Web2c balancea por sesión entre App2a, App2b y App2c. Balanceadores HW también balancean por sesión</div></td></tr><tr><td valign="top"><div>RAMA3-servidorC</div></td><td valign="top"><div>Web3c</div></td><td valign="top"><div>App3c</div></td><td valign="top"><div>Web3c balancea por sesión entre App3a, App3b y App3c. Balanceadores HW también balancean por sesión</div></td></tr></tbody></table><div><font face="Tahoma"><br/></font></div></div><div style="font-size: 12px;"><font face="Tahoma">De las dos opciones siguientes, el cliente ha configurado la Opción 1 (la que tenía anteriormente), aunque <b><u>la opción 2 sería quizás deseable por resultar más sencilla</u></b> (un usuario envía siempre las peticiones por la misma rama):</font></div><div style="font-size: 12px;"><font face="Tahoma"><br/></font></div><div style="font-size: 12px;"><font face="Tahoma"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image.png" type="image/png" height="1592" style="cursor: default; height: auto;" width="1205"/></font></div><div style="font-size: 12px;"><font face="Tahoma"><br/></font></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="white-space: normal;"><div align="left"><font face="Tahoma"><br/><b style="font-size: 24px;">KVM Virtualization in RHEL6 Made Easy (pdfs)</b></font></div><div style="font-size: 12px;"><ul><li><a href="http://linux.dell.com/files/whitepapers/KVM_Virtualization_in_RHEL_6_made_easy.pdf">http://linux.dell.com/files/whitepapers/KVM_Virtualization_in_RHEL_6_made_easy.pdf</a></li><li><a href="http://linux.dell.com/files/whitepapers/KVM_Virtualization_in_RHEL_6_Made_Easy_Part2.pdf"><font face="Tahoma">http://linux.dell.com/files/whitepapers/KVM_Virtualization_in_RHEL_6_Made_Easy_Part2.pdf</font></a></li></ul></div><div style="font-size: 12px;"><font face="Tahoma"><br/></font></div><div align="left" style="font-size: 12px;"><font face="Tahoma"><b>6.3 Additional Documentation</b></font></div><div style="font-size: 12px;"><br/></div><div><ul><li style="font-size: 12px;"><span style="text-indent: 0mm;">RHEL 6 Virtualization Getting Started Guide. Start here if you‟re a newbie.</span></li><li style="list-style: none; display: inline"><ul><li style="font-size: 11px;"><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/pdf/Virtualization_Getting_Started_Guide/Red_Hat_Enterprise_Linux-6-Virtualization_Getting_Started_Guide-en-US.pdf">http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/pdf/Virtualization_Getting_Started_Guide/Red_Hat_Enterprise_Linux-6-Virtualization_Getting_Started_Guide-en-US.pdf</a></li></ul></li><li style="font-size: 12px;"><span style="text-indent: 0mm;">RHEL 6 Virtualization Host configuration and Guest Installation Guide. All about creating VMs.</span></li><li style="list-style: none; display: inline"><ul><li style="font-size: 11px;"><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/pdf/Virtualization_Host_Configuration_and_Guest_Installation_Guide/Red_Hat_Enterprise_Linux-6-Virtualization_Host_Configuration_and_Guest_Installation_Guide-en-US.pdf">http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/pdf/Virtualization_Host_Configuration_and_Guest_Installation_Guide/Red_Hat_Enterprise_Linux-6-Virtualization_Host_Configuration_and_Guest_Installation_Guide-en-US.pdf</a></li></ul></li><li style="font-size: 12px;"><span style="text-indent: 0mm;">RHEL 6 Virtualization Administration Guide. Everything else you want to know.</span></li><li style="list-style: none; display: inline"><ul><li style="font-size: 11px;"><span style="text-indent: 0mm;"><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/pdf/Virtualization_Administration_Guide/Red_Hat_Enterprise_Linux-6-Virtualization_Administration_Guide-en-US.pdf">http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/pdf/Virtualization_Administration_Guide/Red_Hat_Enterprise_Linux-6-Virtualization_Administration_Guide-en-US.pdf</a></span></li></ul></li><li style="font-size: 12px;">RHEL 5 Virtualization Guide. Though this whitepaper is focused on RHEL 6, all implementation steps also apply to RHEL 5 Update 4 and later (KVM is not included in earlier RHEL 5 releases).</li><li style="list-style: none; display: inline"><ul><li style="font-size: 11px;"><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/5/pdf/Virtualization/Red_Hat_Enterprise_Linux-5-Virtualization-en-US.pdf"><font face="Tahoma">http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/5/pdf/Virtualization/Red_Hat_Enterprise_Linux-5-Virtualization-en-US.pdf</font></a></li></ul></li></ul><div style="font-size: 12px;"><br/></div></div></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="white-space: normal;"><span style="font-size: 24px;"><b>Recommendation: qcow2 VM disk image pre-allocation</b></span></div><div style="font-size: 12px; white-space: normal;"><font face="Tahoma"><br/></font></div><div align="left" style="font-size: 12px; white-space: normal;"><div align="left"><font face="Tahoma"><font color="#010101"><font color="#010101"><font color="#010101"><font color="#010101"><br/></font></font></font></font></font></div><div align="left"><div><table bgcolor="#D4DDE5" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">VM, virt-manager GUI tool: New Storage Volume, Allocation Policy, qcow2 storage volume </font></h1></td></tr></tbody></table></div></div><div align="left"><div align="left"><font face="Tahoma"><font color="#010101"><font color="#010101"><font color="#010101"><font color="#010101"><br/></font></font></font></font></font></div><div align="left"><font face="Tahoma"><font color="#010101"><font color="#010101"><font color="#010101"><font color="#010101"><br/></font></font></font></font></font></div><div align="left"><div><font face="Tahoma"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [44].png" type="image/png" height="740" style="cursor: default; height: auto;" width="1024"/></font></div></div></div><div align="left"><font face="Tahoma"><font color="#010101"><font color="#010101"><font color="#010101"><font color="#010101"><br/></font></font></font></font></font></div><div align="left"><font face="Tahoma"><font color="#010101"><br/></font></font></div><div align="left"><div style="text-align: -webkit-auto;"><font face="Tahoma">El storage pool por defecto es <b>/var/lib/libvirt/images/</b></font></div><div style="text-align: -webkit-auto;"><font face="Tahoma"><br/></font></div><div style="text-align: -webkit-auto;"><font face="Tahoma">Una opción podría haber sido crear el LV &quot;lv_var_lib_libvirt_images&quot; a montar en el filesystem de arrriba. Para simplificar la gestión de datos vamos a añadir /opt/ como nuevo storage pool. </font></div><div style="text-align: -webkit-auto;"><font face="Tahoma"><br/></font></div><div style="text-align: -webkit-auto;"><font face="Tahoma">De este modo tanto las máquinas físicas como las virtuales tendrán /opt/ y /home/ como volúmenes LV con datos a realizar backup, al margen de los volúmenes y FS que vayamos creando por aplicación. Estos volúmenes/datos al estar en vgdata y no en vgsys no se perderán en el caso en que fuera necesario reinstalar el OS , ya que sólo los volúmenes sobre vgsys se verían afectados. </font></div><div style="text-align: -webkit-auto;"><font face="Tahoma"><br/></font></div><div style="text-align: -webkit-auto;"><font face="Tahoma"><b>Allocation policy</b>: <b><font color="#FF0000"><u>10GB en lugar de los 250GB</u></font></b></font></div><div style="text-align: -webkit-auto;"><ul><li><font face="Tahoma">No parece mala práctica según  el apartado &quot;<span style="color: rgb(1, 1, 1);"><b>Sparse files</b></span>&quot; de la referencia: <a href="http://publib.boulder.ibm.com/infocenter/lnxinfo/v3r0m0/topic/liaat/liaatbestpractices_pdf.pdf">http://publib.boulder.ibm.com/infocenter/lnxinfo/v3r0m0/topic/liaat/liaatbestpractices_pdf.pdf</a></font></li><li><font face="Tahoma">Definimos la imagen/fichero que contiene la VM con un almacenamiento de 250GB. Este tamaño puede incrementarse en el futuro al tratarse de un formato <b>qcow2</b> (en lugar del tradicional raw, más difícil de gestionar).</font></li><li><font face="Tahoma">Al reservar 10GB en lugar de los 250GB definidos por la imagen, evitamos ocupar 250GB de espacio en el disco interno de 1,4TB en nuestro hypervisor KVM. Posteriormente, durante la migración de datos Apache/Tomcat, hemos comprobado que los 10GB reservados son inicialmente suficientes. El espacio reservado de 10GB se incrementará automáticamente bajo demanda.</font></li><li><font face="Tahoma">Formato de imagen <b>raw</b> es el nativo y más rápido, pero <b>qcow2</b> incorpora muchas mejoras de gestión recomendables (Sparse Files, Allocation, Snapshots, etc) y su rendimiento se aproxima mucho al ofrecido por RAW.</font></li><li><font face="Tahoma">En la instalación anterior se había llenado todo el espacio disponible en disco con imágenes RAW de 250GB-200GB. RAW no permite Snapshots, en cambio <b>QCOW2</b> si, y <b>gracias a la mencionada Allocation Policy tenemos espacio en disco local de sobra para realizar snapshots, clonar imágenes, etc.</b> (NO disponemos por ahora de almacenamiento externo).</font></li></ul></div><div style="text-align: -webkit-auto;"><font face="Tahoma"><br/></font></div></div></div><div align="left" style="font-size: 12px;"><div><font color="#1C3387"><span style="text-align: -webkit-auto;">One solution is the setting up of the Logical Volume <b>&quot;lv_var_lib_libvirt_images&quot;</b> for the d</span><span style="text-align: -webkit-auto;">efault storage pool <b>&quot;</b></span><span style="text-align: -webkit-auto;"><b>/var/lib/libvirt/images/&quot;. </b></span><span style="text-align: -webkit-auto;">We finally set up a non default <b>/opt/</b> storage pool to simplify the management and path of our virtual machines. Therefore, all our physical and virtual machines will contain data in /opt/ and /home/ filesystems belonging to vgdata (separating VG Data from VG System as already explained in this document).</span></font></div></div><div align="left" style="font-size: 12px;"><font color="#1C3387" face="Tahoma"><span style="font-weight: bold;"><br/></span></font></div><div align="left" style="font-size: 12px;"><div style="text-align: -webkit-auto;"><font color="#1C3387" face="Tahoma"><b>Allocation policy</b>: <b><u>10GB instead of 250GB</u></b></font></div><div style="text-align: -webkit-auto;"><ul><li><font color="#1C3387" face="Tahoma">Seems to be a recommended practice according to &quot;<b>Sparse files</b>&quot; section in: <a href="http://publib.boulder.ibm.com/infocenter/lnxinfo/v3r0m0/topic/liaat/liaatbestpractices_pdf.pdf">http://publib.boulder.ibm.com/infocenter/lnxinfo/v3r0m0/topic/liaat/liaatbestpractices_pdf.pdf</a></font></li><li><font color="#1C3387" face="Tahoma">Virtual disk images of each Virtual Machine have been defined with a size (file size) of 250GB, which can be increased in the future because of the <b>qcow2</b> format (unlike tradition raw format with a more complex management).</font></li><li><font color="#1C3387" face="Tahoma">We don't fill up all the local storage available in our hypervisor (1'4 TB) after allocating 10GB per VM instead of 250GB. Once the Apache/Tomcat data migration is over, we realize 10GB of virtual disk size is initially enough. Virtual disk images of 10GB size will grow on demand. </font></li><li><font color="#1C3387" face="Tahoma">Virtual Disk images with <b>raw</b> format are the fastest, but <b>qcow2</b> provides many good-to-have management features like Sparse Files, Allocation, Snapshots, etc. and its performance is not much worse than the one offered by RAW. </font></li><li><font color="#1C3387"><font face="Tahoma">Customer initially filled up all the available disk in hypervisors with RAW images of 250GB-200GB size. RAW disk format, unlike QCOW2, doesn't provide Snapshots features, and <b>now thanks to the mentioned Allocation Policy we have most of the local disk space free and available for snapshots, VM cloning, etc.</b> (quite relevant as we don't have SAN in our WebApp hypervisors</font>).</font></li></ul></div></div><div align="left" style="font-size: 12px;"><font face="Tahoma"><span style="color: rgb(255, 0, 0);"><span style="font-weight: bold;"><br/><u>Sparse files -&gt; allocate full size</u></span></span></font></div><div align="left" style="font-size: 12px;"><font color="#010101">Learn about sparse image files, including the benefits of sparse image files and cautions about using</font></div><div align="left" style="font-size: 12px;"><font color="#010101">sparse image files.</font></div><div align="left" style="font-size: 12px;"><font color="#010101"><b>Some file systems, like the third extended file system (ext3) in Linux, support a feature for allocating</b></font></div><div align="left" style="font-size: 12px;"><font color="#010101"><b>sparse files. With this feature, you can sparsely create disk image files. Traditional (non-sparse) files</b></font></div><div align="left" style="font-size: 12px;"><font color="#010101"><b>preallocate all the storage data space when the file is created.</b> A 100 GB file uses 100 GB of storage space.</font></div><div align="left" style="font-size: 12px;"><font color="#E30000"><b>Sparse files are like traditional files except sparse files do not preallocate all of the data in the file.</b></font></div><div align="left" style="font-size: 12px;"><font color="#010101"><b>Instead, sparse files allocate only the portions of the file that are written. Areas of the file that are not</b></font></div><div align="left" style="font-size: 12px;"><font color="#010101"><b>written are not allocated. The sparse file allocates storage space for new data at the time a new block is</b></font></div><div align="left" style="font-size: 12px;"><font color="#010101"><b>written to the file. This allocation provides on-demand growth of storage space for sparse files and</b></font></div><div align="left" style="font-size: 12px;"><font color="#010101"><b>ensures the smallest amount of storage space consumption.</b></font></div><div align="left" style="font-size: 12px;"><font color="#010101"><b>The maximum size to which a sparse file can grow equals the size of the file at creation. A sparse file of</b></font></div><div align="left" style="font-size: 12px;"><font color="#010101"><b>100 GB can use 0 - 100 GB of storage space. The amount of GB the sparse file uses depends on how</b></font></div><div align="left" style="font-size: 12px;"><font color="#010101"><b>many different portions of the sparse file are allocated by write operations.</b></font></div><div align="left" style="font-size: 12px;"><font color="#010101"><br/></font></div><div align="left" style="font-size: 12px;"><div align="left"><font color="#010101"><font color="#010101">With sparse files, you can define a maximum amount of storage space that a guest operating system can</font></font></div><div align="left"><font color="#010101"><font color="#010101">use. At the same time, you can limit the amount of actual storage space to the amount that is in use. For</font></font></div><div align="left"><font color="#010101"><font color="#010101">example, a guest operating system uses a sparse file for a local storage device. In this situation, only</font></font></div><div align="left"><font color="#010101"><font color="#010101">those portions of the disks that are written use storage space within the sparse file. <b>Any portions of the</b></font></font></div><div align="left"><font color="#010101"><font color="#010101"><b>disks that are unaccessed do not use space. To plan for the future growth of the data stored on that</b></font></font></div><div align="left"><font color="#010101"><b>device, you can create a preallocated storage area that reserves more space than the requirements.</b></font> <font color="#E30000">The</font></div><div align="left"><font color="#E30000">preallocated storage area can be a partition, Logical Volume Manager (LVM) logical volume, or other</font></div><div align="left"><font color="#E30000">storage areas. However, if the storage never grows to the reserved size, the remainder is wasted.</font></div></div><div align="left" style="font-size: 12px;"><font color="#010101"><br/></font></div><div align="left" style="font-size: 12px;"><div align="left"><font color="#010101"><font color="#010101"><b>When you use sparse files, you can over-commit disk space.</b> <b>Remember, a sparse file stores a fraction of</b></font></font></div><div align="left"><font color="#010101"><font color="#010101"><b>its total space allocated. Because a sparse file uses less disk space than its maximum, it can store more</b></font></font></div><div align="left"><font color="#010101"><font color="#010101"><b>files in the same storage space than traditional preallocated files. For example, you have two sparse files</b></font></font></div><div align="left"><font color="#010101"><font color="#010101"><b>each at 100 GB. One sparse file has 20 GB of allocated storage space and the other sparse file has 10 GB</b></font></font></div><div align="left"><font color="#010101"><font color="#010101"><b>of allocated storage space. The total storage space used by both sparse files is 30 GB (20 GB + 10 GB). In</b></font></font></div><div align="left"><font color="#010101"><font color="#010101"><b>comparison, you have two traditional preallocated files each at 100 GB. The total storage space used by</b></font></font></div><div align="left"><font color="#010101"><font color="#010101"><b>both traditional preallocated files is 200 GB (100 GB + 100 GB).</b></font></font></div><div align="left"><font color="#010101"><font color="#010101"><b>Until a sparse file becomes fully allocated, the size of the sparse file is always less than the maximum</b></font></font></div><div align="left"><font color="#010101"><font color="#010101"><b>size. A storage device is over-committed when the maximum size of one or more sparse files is greater</b></font></font></div><div align="left"><font color="#010101"><font color="#010101"><b>than the available storage space. For example, you have 250 GB of available space to store the files from</b></font></font></div><div align="left"><font color="#010101"><font color="#010101"><b>the previous example. When you store the two traditional preallocated files (100 GB each), the available</b></font></font></div><div align="left"><font color="#010101"><font color="#010101"><b>space is 50 GB (250 GB - (100 GB + 100 GB)). In this example, you cannot add another 100 GB file in the</b></font></font></div><div align="left"><font color="#010101"><font color="#010101"><b>remaining 50 GB of available space. When you store the two sparse files (both using 30 GB total), the</b></font></font></div><div align="left"><b><font color="#010101">available space is 220 GB (250 GB - 30 GB). In this example, you can add at least two 100 GB files (</font><font color="#FF0000"><u>sparse</u></font></b></div><div align="left"><b><font color="#FF0000"><u>files or traditional preallocated files</u></font><font color="#010101">) in the remaining 220 GB of available space.</font></b> <font color="#010101"><b>If the additional files are</b></font></div><div align="left"><font color="#010101"><font color="#010101"><b>sparse files, you can add more than two additional files (like those previously described) because the</b></font></font></div><div align="left"><font color="#010101"><font color="#010101"><b>storage space used is less than 100 GB.</b></font></font></div><div align="left"><font color="#FF0000"><u>Continuing the example, you have 250 GB of available space to store four sparse files at 100 GB each.</u></font></div><div align="left"><font color="#010101"><font color="#010101"><b><u>Two sparse files have 20 GB each of allocated storage space and the other two sparse files have 10 GB</u></b></font></font></div><div align="left"><font color="#010101"><font color="#010101"><b><u>each of allocated storage space. In total, you have four 100 GB files that use 60 GB of storage space.</u></b> <u>If the</u></font></font></div><div align="left"><font color="#010101"><font color="#010101"><u>four 100 GB sparse files grow beyond the remaining 190 GB (250 GB - 60 GB) of available space, the</u></font></font></div><div align="left"><font color="#010101"><font color="#010101"><u>guest operating system encounters errors when attempting to write to new blocks. To the guest operating</u></font></font></div><div align="left"><font color="#010101"><font color="#010101"><u>system, the disk (which is really a sparse file) still has available space. However, the sparse file cannot</u></font></font></div><div align="left"><font color="#010101"><font color="#010101"><u>grow because there is no available space on the device in which the sparse file is located.</u></font></font></div><div align="left"><font color="#010101"><font color="#010101"><br/></font></font></div><div align="left"><font color="#FF0000"><u>Over-committing storage provides the following benefits:</u></font></div><div align="left"><ul><li><u style="color: rgb(255, 0, 0);">You can make better use of storage space.</u></li><li><u style="color: rgb(255, 0, 0);">You can store a greater number of sparse files on a given storage device.</u></li></ul></div><div align="left"><font color="#010101"><font color="#010101"><br/></font></font></div><div align="left"><font color="#010101"><font color="#010101"><b>However, over-committing storage can create problems if the underlying storage device becomes full.</b></font></font></div><div align="left"><font color="#010101"><font color="#010101"><b>There are no guarantees that the underlying device always has enough available space for sparsely</b></font></font></div><div align="left"><font color="#010101"><font color="#010101"><b>allocated files to grow. You must exercise caution to balance the risk associated with over-committing</b></font></font></div><div align="left"><font color="#010101"><font color="#010101"><b>storage with the advantages of using sparse files.</b></font></font></div><div align="left"><font color="#FF0000"><b>To reduce risk when over-committing storage, create plans and policies that help you perform the</b></font></div><div align="left"><font color="#FF0000"><b>following tasks:</b></font></div><div align="left"><ul><li><b style="color: rgb(255, 0, 0);">Avoid using all available space on the underlying storage device.</b></li><li><b style="color: rgb(255, 0, 0);">Move the disk image files of the guest operating system to another device to provide additional space.</b></li></ul></div></div><div align="left" style="font-size: 12px;"><br/></div><div align="left" style="font-size: 12px;"><div align="left"><font color="#010101"><font color="#010101"><font color="#010101"><font color="#010101"><b>Best practice: Allocate the minimum amount of processor resources</b></font></font></font></font></div><div align="left"><font color="#010101"><font color="#010101"><font color="#010101"><font color="#010101">To maximize performance, allocate the minimum amount of virtual processors necessary for each guest</font></font></font></font></div><div align="left"><font color="#010101"><font color="#010101"><font color="#010101"><font color="#010101">operating system to successfully operate. Do not allocate virtual processors to guest operating systems</font></font></font></font></div><div align="left"><font color="#010101"><font color="#010101"><font color="#010101"><font color="#010101">that the guest operating systems do not need.</font></font></font></font></div><div align="left"><font color="#010101"><font color="#010101"><font color="#010101"><font color="#010101">If you allocate many virtual processors to the guest operating systems, the system functionally works.</font></font></font></font></div><div align="left"><font color="#010101"><font color="#010101"><font color="#010101"><font color="#010101">However, this configuration has scaling issues that cause performance degradations. You can reduce the</font></font></font></font></div><div align="left"><font color="#010101"><font color="#010101"><font color="#010101"><font color="#010101">effect of these scaling issues by tuning KVM. For example, you can pin virtual processors to physical</font></font></font></font></div><div align="left"><font color="#010101"><font color="#010101"><font color="#010101"><font color="#010101">processors. However, some of the tuning techniques impart additional restrictions.</font></font></font></font></div><div align="left"><font color="#010101"><b><br/></b></font></div><div align="left"><font color="#010101"><br/></font></div></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 12px;"><span style="background-color: rgb(212, 221, 229);"><br/></span></div><div style="font-size: 24px;"><span style="background-color: rgb(212, 221, 229);"><b>virsh - kvm commands</b></span></div><div><div style="white-space: normal;"><div><span style="font-size: 12px;"><br/></span></div><div><b><a href="http://libvirt.org/virshcmdref.html">http://libvirt.org/virshcmdref.html</a> ***</b></div><div><a href="http://libvirt.org/">http://libvirt.org</a> </div><div><a href="http://wiki.libvirt.org/page/Main_Page">http://wiki.libvirt.org/page/Main_Page</a> </div><div><br/></div><div><br/></div><div><b><span style="font-size: 20px;">Provisionin</span></b></div><div><br/></div><div style="font-weight: bold;">     Cobbler</div><ul><li><a href="http://github.com/proffalken/cucumber-vhost" rel="nofollow" title="http://github.com/proffalken/cucumber-vhost">cucumber-vhost</a> - Automatic provisioning with Cobbler and Cucumb</li></ul><div><b>     Foreman</b></div><ul><li><a href="http://theforeman.org/" rel="nofollow" title="http://theforeman.org">Foreman</a> - Automatic provisioning with Foreman and libvirt</li></ul><div><span style="font-size: 12px;"><br/></span></div><div><span style="font-size: 12px;">[root@servidorA VMs]# ls -l</span></div><div><span style="font-size: 12px;">total 30809884</span><br/><span style="font-size: 12px;">-rw-------. 1 qemu qemu 268435456000 Jun 26 07:06 ServidorVirtualA.img</span><br/><span style="font-size: 12px;">-rw-------. 1 qemu qemu 268435456000 Jun 26 07:06 ServidorVirtualB.img</span><br/><span style="font-size: 12px;">-rw-------. 1 qemu qemu 322122547200 Jun 26 07:06 ServidorVirtualC.img</span><br/><span style="font-size: 12px;">-rw-------. 1 qemu qemu 214748364800 Jun 26 07:06 ServidorVirtualD.img</span><br/><span style="font-size: 12px;">-rw-r--r--. 1 qemu qemu   3589636096 Jun 11 09:12 rhel-server-6.3-x86_64-dvd.iso</span><br/><span style="font-size: 12px;">[root@servidorA VMs]# du -h .</span><br/><span style="font-size: 12px;">30G     .</span><br/><br/><br/><br/><span style="font-size: 12px;">[root@servidorA VMs]# </span><b style="font-size: 12px;">virsh list --all</b><br/><span style="font-size: 12px;">Id Name                 State</span><br/><span style="font-size: 12px;">----------------------------------</span><br/><span style="font-size: 12px;">  1 ServidorVirtualA     running</span><br/><span style="font-size: 12px;">  2 ServidorVirtualB     running</span><br/><span style="font-size: 12px;">  3 ServidorVirtualC     running</span><br/><span style="font-size: 12px;">  4 ServidorVirtualD     running</span><br/><br/><br/><b style="font-size: 12px;"><font color="#E30000"># virsh shutdown/reboot/start/suspend/destroy ServidorVirtualA</font></b></div><div style="font-size: 12px;"><ul><li>destroy is the fastest way to shutdown a VM and acts like a removal of a power plug </li></ul></div></div><div style="font-size: 12px; white-space: normal;"><br/></div><div style="white-space: normal; font-size: 11px;"><br/></div><div style="white-space: normal; font-size: 11px;">VOLUME COMMANDS (man virsh)<br/></div><div style="white-space: normal; font-size: 11px;"><br/>
       <b>vol-resize</b> [--pool pool-or-uuid] vol-name-or-path pool-or-uuid capacity <b>[--allocate]</b> [--delta] [--shrink]<br/>
           Resize the capacity of the given volume, in bytes.  --pool pool-or-uuid is the name or UUID of the storage pool the volume is in. vol-<br/>
           name-or-key-or-path is the name or key or path of the volume to resize.  The new capacity might be sparse unless --allocate is specified.<br/>
           Normally, capacity is the new size, but if --delta is present, then it is added to the existing size.  Attempts to shrink the volume will<br/>
           fail unless --shrink is present; capacity cannot be negative unless --shrink is provided, but a negative sign is not necessary. capacity<br/>
           is a scaled integer (see NOTES above), which defaults to bytes if there is no suffix.  </div><div style="white-space: normal; font-size: 11px;">           <b>This command is only safe for storage volumes not </b><b>in use by an active guest; see also <font color="#E30000">blockresize</font> for live resizing.</b></div><div style="white-space: normal; font-size: 11px;"><br/></div><div style="white-space: normal; font-size: 11px;"><br/></div><div style="white-space: normal; font-size: 11px;">       vol-info [--pool pool-or-uuid] vol-name-or-key-or-path<br/>
           Returns basic information about the given storage volume.  --pool pool-or-uuid is the name or UUID of the storage pool the volume is in.<br/>
           vol-name-or-key-or-path is the name or key or path of the volume to return information for.<br/><br/>
       vol-list [--pool pool-or-uuid] [--details]<br/>
           Return the list of volumes in the given storage pool.  --pool pool-or-uuid is the name or UUID of the storage pool.  The --details option<br/>
           instructs virsh to additionally display volume type and capacity related information where available.<br/><br/>
       vol-pool [--uuid] vol-key-or-path<br/>
           Return the pool name or UUID for a given volume. By default, the pool name is returned. If the --uuid option is given, the pool UUID is<br/>
           returned instead.  vol-key-or-path is the key or path of the volume to return the pool information for.<br/><br/></div><div style="white-space: normal; font-size: 11px;">SNAPSHOT COMMMANDS<br/></div><div style="white-space: normal; font-size: 11px;"><br/></div><div style="white-space: normal;"><span style="font-size: 11px;">       The following commands manipulate domain snapshots.  Snapshots take the disk, memory, and device state of a domain at a point-of-time, and</span><br style="font-size: 11px;"/><span style="font-size: 11px;">       save it for future use.  They have many uses, from saving a &quot;clean&quot; copy of an OS image to saving a domain’s state before a potentially</span><br style="font-size: 11px;"/><span style="font-size: 11px;">       destructive operation.  Snapshots are identified with a unique name.  See &lt;http://libvirt.org/formatsnapshot.html&gt; for documentation of the</span><br style="font-size: 11px;"/><span style="font-size: 11px;">       XML format used to represent properties of snapshots.</span><br/></div><br/></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 12px;"><br/></div><div style="font-size: 24px;"><b>virt-resize - Resize a virtual machine disk</b></div><div style="font-size: 12px;"> </div><div style="font-size: 12px;"><a href="http://libguestfs.org/virt-resize.1.html">http://libguestfs.org/virt-resize.1.html</a></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><p>Virt-resize is a tool which can resize a virtual machine disk, making it larger or smaller overall, and resizing or deleting any partitions contained within.</p><p>Virt-resize <b>cannot</b> resize disk images in-place. Virt-resize <b>should not</b> be used on live virtual machines - for consistent results, shut the virtual machine down before resizing it.</p></div><div style="font-size: 12px;"><h2 style="text-align: justify; margin: 0px 0px 1em 20px; font-weight: normal; padding: 0.5em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(140, 172, 187); clear: left; font-size: 19px;"><a name="qcow2_lvm_agrandar_disco" style="padding: 0px; margin: 0px;"><font size="3" style="font-size: 12px;">(<span style="background-color: rgb(255, 255, 153); padding: 0px; margin: 0px;">qcow2</span> + LVM) agrandar disco, qcow2 snapshots</font></a></h2><div style="text-align: justify; margin: 0px 0px 0px 23px; padding: 0px;"><div>La estrategia es ext<span style="background-color: rgb(255, 255, 153); padding: 0px; margin: 0px;">end</span>er el disco, crear una nueva partici<span style="background-color: rgb(255, 255, 153); padding: 0px; margin: 0px;">on</span> en el nuevo espacio, crear un PV, anyadirlo al VG, ext<span style="background-color: rgb(255, 255, 153); padding: 0px; margin: 0px;">end</span>er el LV y redimensi<span style="background-color: rgb(255, 255, 153); padding: 0px; margin: 0px;">on</span>ar el sistema de archivos (EXT4…).</div><div><br/></div><div>Virt-manager (0.9.1) NO soporta snapshots, por lo que tenemos que hacerlo desde la lina de comandos * Solo el formato de disco virtual qcow2 soporta snapshots * Se puede tomar un snapshot con la VM corriendo (2GB disco tarda 3m14.810s) * <strong>Se puede restaurar un snapshot con la VM corriendo</strong> (creo que Virtualbox NO lo soporta) </div><div><br/></div><div><a href="http://wiki.legido.com/doku.php?id=informatica:linux:virtualizacion:kvm">http://wiki.legido.com/doku.php?id=informatica:linux:virtualizacion:kvm</a></div><div><br/></div></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><span style="font-size: 24px;"><b>Interesting CLI commands</b></span></div><div><ul><li><b>ethtool -p eth0</b> # Blink eth0's LED so you can find it in the rat's next of server cables. Ctrl-C to stop. </li></ul></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><b style="font-size: 24px;">Red Hat Enterprise Linux Performance Tuning Guide (presentations)</b></div><div style="font-size: 12px;"><b><u><br/></u></b></div><div style="font-size: 12px;">Optimizing the Performance of Linux Servers: When you install Linux Server it is optimize for <b>average workloads</b>. With most servers you can gain much by optimizing performance. In these presentations you will learn how to optimize your server's performance by tuning kernel parameters, exclude unneeded system services and make some more tweaking.</div><div style="font-size: 12px;"><b><u><br/></u></b></div><div style="font-size: 12px;">Performance Analysis and System Tuning - Red Hat Summit 2006<br/><a href="http://www.redhat.com/f/summitfiles/presentation/May31/Core%20OS/Woodman,Shakshober_Performance%20Analys.pdf">http://www.redhat.com/f/summitfiles/presentation/May31/Core%20OS/Woodman,Shakshober_Performance%20Analys.pdf</a> <br/><br/>
Performance Analysis &amp; Tuning of Red Hat Enterprise Linux - Red Hat Summit 2009<br/><a href="http://www.redhat.com/f/pdf/summit/dshakshober_1010_part_1_performance_analysis.pdf">http://www.redhat.com/f/pdf/summit/dshakshober_1010_part_1_performance_analysis.pdf</a> <br/><br/>
Selecting the Right Tools for Performance Analysis - Red Hat Developer Day 2012<br/><a href="http://www.redhat.com/summit/2012/pdf/2012-DevDay-Perf-Tools-Cohen.pdf">http://www.redhat.com/summit/2012/pdf/2012-DevDay-Perf-Tools-Cohen.pdf</a> <br/><br/>
Red Hat Enterprise Linux Performance and Tuning<br/><a href="https://www.redhat.com/f/pdf/summit/RedHatEnterprisePerfTuning.pdf">https://www.redhat.com/f/pdf/summit/RedHatEnterprisePerfTuning.pdf</a> <br/><br/>
Red Hat Enterprise Linux 6 Performance Tuning Guide. Optimizing subsystem throughput in Red Hat Enterprise Linux 6<br/><a href="https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/pdf/Performance_Tuning_Guide/Red_Hat_Enterprise_Linux-6-Performance_Tuning_Guide-en-US.pdf">https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/pdf/Performance_Tuning_Guide/Red_Hat_Enterprise_Linux-6-Performance_Tuning_Guide-en-US.pdf</a> </div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;">Red Hat Enterprise Linux 6 Performance Tuning Guide. Optimizing subsystem throughput in Red Hat Enterprise Linux 6. Edition 3.0</div><div style="font-size: 12px;"><a href="https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/">https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/</a> <br/><br/></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="text-align: left;"><span style="font-size: 24px;"><b>RHEL 6 Performance Tuning Guide, Performance Features, Monitoring and Analyzing, Application Profiles, support for perf-kvm in RHEL6.3</b></span><br style="font-size: 11px;"/><h3 style="font-size: 13px;"><span style="font-weight: normal;"><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/index.html"><font size="3" style="font-size: 11px;">http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/index.html</font></a></span></h3><div><dl style="font-size: 11px;"><dt><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/main-specs.html">2. Red Hat Enterprise Linux 6 Performance Features</a></dt></dl><dl style="font-size: 11px;"><dt><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/main-specs.html#s-64-bit-support">2.1. 64-Bit Support</a></dt><dt><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/s-ticket-spinlocks.html">2.2. Ticket Spinlocks</a></dt><dt><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/s-dynamic-list-structure.html">2.3. Dynamic List Structure</a></dt><dt><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/tickless-kernel.html">2.4. Tickless Kernel</a></dt><dt><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/intro-control-groups.html">2.5. Control Groups</a></dt><dt><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/storage-improvements.html">2.6. Storage and File System Improvements</a></dt></dl><dl style="font-size: 11px;"><dt><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/main-analyzeperf.html">3. Monitoring and Analyzing System Performance</a></dt></dl><dl><dt style="font-size: 11px;"><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/main-analyzeperf.html#s-analyzeperf-proc">3.1. The proc File System</a></dt><dt style="font-size: 11px;"><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/s-analyzeperf-gnome.html">3.2. GNOME and KDE System Monitors</a></dt><dt style="font-size: 11px;"><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/s-analyzeperf-cli-tools.html">3.3. Built-in Command-line Monitoring Tools</a></dt><dt style="font-size: 11px;"><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/main-analyzeperf-tuned.html">3.4. <font color="#FF0000">Tuned and ktune</font></a></dt><dt style="font-size: 11px;"><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/s-analyzeperf-profiling.html">3.5. Application Profilers</a></dt><dd style="font-size: 11px;"><dl><dt><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/s-analyzeperf-profiling.html#s-analyzeperf-systemtap">3.5.1. SystemTap</a></dt><dt><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/s-analyzeperf-oprofile.html">3.5.2. OProfile</a></dt><dt><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/s-analyzeperf-valgrind.html"><font color="#FF0000">3.5.3. Valgrind</font></a></dt><dt><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/ch03s05s04.html"><font color="#E30000">3.5.4. Perf</font></a></dt></dl></dd><dt style="font-size: 11px;"><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/s-analyzeperf-mrg.html">3.6. Red Hat Enterprise MRG</a></dt><dt style="font-size: 11px;"><br/></dt><dt><b><u><br/></u></b></dt><dt><b><u>Support for perf-kvm in RHEL 6.3</u></b></dt><dt><span style="font-size: 12px;">Support for the</span> <b style="font-size: 12px;"><font color="#E30000">perf-kvm</font></b> <span style="font-size: 12px;">tool, which provides the ability to</span> <b style="font-size: 12px;">monitor guest performance from host</b><span style="font-size: 12px;">, has been added. For more information, refer to the perf-kvm man page</span><br style="font-size: 12px;"/><a href="https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html-single/6.3_Release_Notes/index.html#kvm" style="font-size: 12px;">https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html-single/6.3_Release_Notes/index.html#kvm</a><span style="font-size: 12px;"> </span><br/></dt><dt style="orphans: 4; widows: 4;"><font color="#333333"><br/></font></dt></dl></div></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><div><pre style="font-size: 24px;"><font face="Tahoma"><span style="font-weight: bold;">Performance Analysis script for RHEL6.3. htop, iotop, tiobench &amp; sar</span></font></pre></div><pre style="font-size: 12px; text-align: justify;"><font face="Tahoma">Ejecutar este script con usuario no root durante las pruebas de carga, ó cuando se produce un problema de sobrecarga y queremos recoger datos de análisis de rendimiento. </font></pre><pre style="font-size: 12px; text-align: justify;"><font face="Tahoma">En este último caso el procedimiento sería (debemos tener el script preparado para ejecutar en cada sistema):
</font></pre><ol style="font-size: 12px;"><li style="text-align: justify;">Se produce sobrecarga en un servidor Linux, varios procesos Apache/Tomcat/Jboss/Oracle/Mysql consumen mucho CPU/Memoria, etc.</li><li style="text-align: justify;">Con usuario no root, ejecutamos el script durante unos minutos</li><li style="text-align: justify;">Reiniciamos Apache/Tomcat/Jboss/Oracle/Mysql para solucionar rápidamente nuestro problema de rendimiento</li><li style="text-align: justify;">Paramos el script. Ahora tenemos todos los datos necesarios en un fichero para diagnosticar nuestro problema.</li></ol><div style="font-size: 12px; text-align: justify;">NOTA: Este script es válido en RHEL6.3, pero requiere algunas modificaciones para ser ejecutado en RHEL5.x (algunos parámetros CLI se han incorporado en RHEL6)</div><div style="font-size: 12px; text-align: justify;">NOTA2: <b>HTOP</b>, a diferencia del tradicional top, no puede ser ejecutado via CLI (p.e. en un script), pero siempre nos puede servir ejecutar en otra sesión HTOP (ofrece muchas ventajas complementarias sobre top)</div><div style="font-size: 12px; text-align: justify;">NOTA3: la herramienta de análisis de rendimiento <b>tiobench</b>, al igual que <b>htop</b>, puede ser interesante instalarlo desde el repositorio EPEL. tiobench se podría incluír en este script.</div></div><div style="text-align: justify;"><div style="font-size: 12px;"><pre><font color="#1C3387" face="Tahoma">Run this script as no root user during the load tests or when an overload/performance issue arises and we need to collect data for later analysis. In the second scenario this procedure could be accomplished:</font></pre><ol style="text-align: -webkit-auto;"><li style="text-align: justify;"><font color="#1C3387">A performance/overload issue arises with high CPU/Memory load by Apache/Tomcat/Jboss/Oracle/Mysql processes.</font></li><li style="text-align: justify;"><font color="#1C3387">The below script is run as no root for a while.</font></li><li style="text-align: justify;"><font color="#1C3387">Apache/Tomcat/Jboss/Oracle/Mysql is restarted as a workaround of the performance issue.</font></li><li style="text-align: justify;"><font color="#1C3387">The below script is stopped (CTRL-C). We now have collected data in a file for troubleshooting the performance issue.</font></li></ol><div><font color="#1C3387">NOTE: This script is only valid in RHEL6.3 as some CLI options are not RHEL5.x compliant.</font></div><div><font color="#1C3387">NOTE2: <b>HTOP</b>, unlike top command, cannot be run via CLI (i.e. inside our script), but it's always handy and nice-to-have (more usable than top command and with more features).</font></div><div><font color="#1C3387">NOTE3: <b>tiobench</b> performance analysis tool can be very helpful, and likewise <b>htop</b>, it can be installed from EPEL repositories. tiobench could be added to this script.</font></div></div><div style="font-size: 12px;"><font color="#1C3387">NOTE3: <b>iotop</b>. </font><font color="#1C3387"><span style="text-align: left;">RHEL 5.8 now includes</span> <a href="http://guichaz.free.fr/iotop/" rel="external" style="margin: 0px; padding: 0px; text-align: left;" target="_blank">iotop</a>. It can be added to this script</font></div><div style="font-size: 12px;"><b><font color="#FF0000"><br/></font></b></div><div><pre style="text-align: -webkit-auto; font-size: medium;"><font face="Arial" style="font-size: 11px;">#!/bin/bash<br/><br/>DATE=$(/bin/date +%Y%m%d-%H%m)<br/><br/><br/>while true; do<br/>echo &quot;##################################################################&quot;;<br/>echo &quot;                            START OF SCRIPT                       &quot;;<br/>echo &quot;                            $DATE                             &quot;;<br/>echo &quot;##################################################################&quot;;<br/>echo &quot;##################################################################&quot;;<br/>echo<br/>echo<br/>echo &quot;====================== top -c -aMH -n 1 -b ===================&quot;;<br/>top -c -aMH -n 1 -b <br/>echo &quot;=============mpstat 2 3 -P ALL=============&quot;;mpstat 2 3 -P ALL;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============vmstat 2 10=============&quot;;vmstat 2 5;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============iostat 2 3============&quot;;iostat 2 3;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============netstat -s============&quot;;netstat -s;<br/>echo &quot;====================== top -c -aMH -n 1 -b ===================&quot;;<br/>top -c -aMH -n 1 -b <br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============sar -u ALL 2 3=============&quot;;sar -u ALL 2 3;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============sar -P ALL 2 3=============&quot;;sar -P ALL 2 3;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============sar -S 5 3, Report Swap=============&quot;;sar -S 5 3;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;====================== top -c -aMH -n 1 -b ===================&quot;;<br/>top -c -aMH -n 1 -b <br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============sar -v, inode and file handlers=============&quot;;sar -v;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============sar -w 2 3, context switch per second=============&quot;;sar -w 2 3;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============sar -n DEV 2 3, network devices=============&quot;;sar -n DEV 2 3;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============sar -n EDEV 2 3, network device failures=============&quot;;sar -n EDEV 2 3;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;====================== top -c -aMH -n 1 -b ===================&quot;;<br/>top -c -aMH -n 1 -b <br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============sar -n IP 2 3=============&quot;;sar -n IP 2 3;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============sar -n EIP 2 3=============&quot;;sar -n EIP 2 3;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============sar -n TCP 2 3=============&quot;;sar -n TCP 2 3;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============sar -n ETCP 2 3=============&quot;;sar -n ETCP 2 3;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============sar -n UDP 2 3=============&quot;;sar -n UDP 2 3;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============sar -n SOCK 2 3=============&quot;;sar -n SOCK 2 3;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;====================== top -c -aMH -n 1 -b ===================&quot;;<br/>top -c -aMH -n 1 -b <br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============sar -q, Report queue length and load averages=============&quot;;sar -q 2 3;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============sar -R 2 3, Report memory=============&quot;;sar -R 2 3;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============sar -r 2 3, Report memory utilization=============&quot;;sar -r 2 3;<br/>echo &quot;=============sar -b 2 3, Report I/O and transfer rate=============&quot;;sar -b 2 3;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============sar -B 2 3, Report paging=============&quot;;sar -B 2 3;<br/>echo &quot;=============sar -W 1 3, Report page swap stats, i.e. Page swap in and out per second=============&quot;;sar -W 1 3;<br/>echo &quot;=============sar -w 1 3, Report task creation and system switching activity=============&quot;;sar -w 1 3;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;====================== top -c -aMH -n 1 -b ===================&quot;;<br/>top -c -aMH -n 1 -b <br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============sar -dp 2 3, Report activity for each block device=============&quot;;sar -dp 2 3;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============iostat -d -x -N -t -m -z 2 3, Report device usage in Mbytes=============&quot;;iostat -d -x -N -t -m -z 2 3;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============iostat -d -x -N -t -k -z 2 3, Report devices usage in kbytes=============&quot;;iostat -d -x -N -t -k -z 2 3;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;=============iostat -c 2 3, cpu usage=============&quot;;iostat -c 2 3;<br/>echo &quot;================================================================&quot;;<br/>echo &quot;====================== top -c -aMH -n 1 -b ===================&quot;;<br/>top -c -aMH -n 1 -b <br/>echo &quot;================================================================&quot;;<br/>#echo &quot;=============sar -A, Report ALL=============&quot;;sar -A;<br/>echo &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;;<br/>echo &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;;<br/>echo &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx E N D xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;;<br/>echo &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;;<br/>echo &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx T I M E xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;;<br/>date<br/>echo &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;;<br/>echo &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;;<br/>sleep 20;<br/>done | tee perfresults-$DATE.log</font><font face="Tahoma" style="font-size: 12px;"><br/><br/></font></pre></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="text-align: justify;"><div><pre style="font-size: 12px; text-align: -webkit-auto;"><font face="Tahoma"><a href="https://access.redhat.com/knowledge/solutions/24626">What information do I need to investigate in case of high load, I/O or memory consumption in RHEL?</a> (red hat subscription required)
</font></pre><pre style="font-size: 12px; text-align: -webkit-auto;"><font face="Tahoma"><a href="http://www.linuxjournal.com/content/sysadmins-toolbox-sar">http://www.linuxjournal.com/content/sysadmins-toolbox-sar</a> </font></pre><pre style="text-align: -webkit-auto;"></pre><div style="white-space: normal; font-size: 11px;"><font face="Tahoma"><b>sar -q = sar</b></font></div><div style="white-space: normal; font-size: 11px;"><b><font face="Tahoma">sar -q -&gt; muestra longitud media de la cola de ejecución mientras ésta está ocupada y el porcentaje de tiempo que la cola está ocupada.</font></b></div><div style="white-space: normal; font-size: 11px;"><b><font face="Tahoma"><br/></font></b></div><div style="white-space: normal; font-size: 11px;"><font face="Tahoma"><b>       -q     Report queue length and load averages. The following values are displayed:</b><br/><br/>
              runq-sz<br/>
                     Run queue length (number of tasks waiting for run time).<br/><br/>
              plist-sz<br/>
                     Number of tasks in the task list.<br/><br/>
              ldavg-1<br/>
                     System  load  average for the last minute.  The load average is calculated as the average number of runnable or running tasks (R state), and the number of tasks in uninterruptible sleep (D state) over the specified interval.<br/><br/>
              ldavg-5<br/>
                     System load average for the past 5 minutes.<br/><br/>
              ldavg-15<br/>
                     System load average for the past 15 minutes.<br/><br/></font></div><div style="white-space: normal; font-size: 11px;"><font face="Tahoma"><br/></font></div><div style="white-space: normal; font-size: 11px;"><font face="Tahoma">05:50:01 AM   <b>runq-sz</b>  plist-sz   ldavg-1   ldavg-5  ldavg-15<br/>
06:00:01 AM         0       348      0.00      0.00      0.00<br/>
06:10:01 AM         0       348      0.00      0.00      0.00<br/>
06:20:01 AM         0       348      0.06      0.02      0.00<br/>
06:30:01 AM         0       348      0.06      0.02      0.00<br/>
06:40:01 AM         0       348      0.06      0.02      0.00<br/>
06:50:01 AM         0       348      0.00      0.00      0.00<br/>
07:00:01 AM         0       348      0.00      0.00      0.00<br/>
07:10:01 AM         0       348      0.00      0.00      0.00<br/>
07:20:01 AM         0       348      0.00      0.00      0.00<br/>
07:30:01 AM         0       349      0.00      0.00      0.00<br/>
07:40:01 AM         0       348      0.00      0.00      0.00<br/>
07:50:01 AM         0       348      0.00      0.00      0.00<br/>
08:00:01 AM         0       348      0.00      0.00      0.00<br/>
08:10:01 AM         0       348      0.00      0.00      0.00<br/>
08:20:01 AM         0       348      0.00      0.00      0.00<br/>
08:30:01 AM         0       348      0.00      0.00      0.00<br/>
08:40:01 AM         0       348      0.00      0.00      0.00<br/>
08:50:01 AM         1       348      0.00      0.00      0.00<br/>
09:00:01 AM         0       348      0.00      0.00      0.00<br/>
09:10:01 AM         1       348      0.00      0.00      0.00<br/>
09:20:01 AM         1       348      0.00      0.00      0.00<br/>
09:30:01 AM         1       348      0.00      0.00      0.00<br/>
09:40:01 AM         0       348      0.00      0.00      0.00<br/>
09:50:01 AM         1       353      0.03      0.02      0.00<br/>
Average:            0       348      0.01      0.01      0.00<br/></font></div><div style="white-space: normal; font-size: 11px;"><font face="Tahoma"><br/></font></div><div style="white-space: normal; font-size: 11px;"><b><font face="Tahoma">runq-sz : El número medio de hilos del núcleo en memoria esperando ejecución en una CPU. Generalmente, este valor debería ser inferior a 2. Valores consistentemente más altos son indicadores de un gran número de trabajos computacionalmente intensivos.</font></b></div><div style="white-space: normal; font-size: 11px;"><font face="Tahoma"><br/></font></div><div style="white-space: normal; font-size: 11px;"><b><font face="Tahoma">sar -w informa de la actividad de paginación y de cambio de contexto de un sistema. </font></b></div><div style="white-space: normal; font-size: 11px;"><font face="Tahoma"><br/></font></div><div style="white-space: normal; font-size: 11px;"><font face="Tahoma">05:50:01 AM    proc/s   cswch/s<br/>
06:00:01 AM      0.03     62.93<br/>
06:10:01 AM      0.06     63.12<br/>
06:20:01 AM      0.03     63.02<br/>
06:30:01 AM      0.03     63.27<br/>
06:40:01 AM      0.03     63.61<br/>
06:50:01 AM      0.03     62.12<br/>
07:00:01 AM      0.03     63.98<br/>
07:10:01 AM      0.06     63.18<br/>
07:20:01 AM      0.03     61.75<br/>
07:30:01 AM      0.03     63.21<br/>
07:40:01 AM      0.03     62.96<br/>
07:50:01 AM      0.03     62.87<br/>
08:00:01 AM      0.03     62.85<br/>
08:10:01 AM      0.06     63.15<br/>
08:20:01 AM      0.03     62.78<br/>
08:30:01 AM      0.03     62.93<br/>
08:40:01 AM      0.03     63.85<br/>
08:50:01 AM      0.03     62.81<br/>
09:00:01 AM      0.03     61.98<br/>
09:10:01 AM      0.06     63.24<br/>
09:20:01 AM      0.03     62.90<br/>
09:30:01 AM      0.03     62.60<br/>
09:40:01 AM      0.03     62.92<br/>
09:50:01 AM      0.08     67.41<br/>
10:00:01 AM      0.04     65.48<br/><b>Average:         0.04     62.97</b><br/></font></div><div style="white-space: normal; font-size: 11px;"><font face="Tahoma"><br/></font></div><div style="white-space: normal; font-size: 11px;"><b><font face="Tahoma">cswch/s -&gt; Número de cambios de contexto de hilos del núcleo por segundo</font></b></div><div style="white-space: normal; font-size: 11px;"><b><font face="Tahoma"><br/></font></b></div><div style="white-space: normal; font-size: 11px;"><b><font face="Tahoma"><br/></font></b></div><div style="white-space: normal; font-size: 11px;"><b><font face="Tahoma">SAR RELATED REFERENCES:</font></b></div><div style="white-space: normal; font-size: 11px;"><ul><li><b><a href="http://www.ibm.com/developerworks/aix/library/au-unix-perfmonsar.html">http://www.ibm.com/developerworks/aix/library/au-unix-perfmonsar.html</a> (with complex sar queries)</b></li><li><b><a href="http://www.softpanorama.info/Admin/Monitoring/Sar/linux_implementation_of_sar.shtml">http://www.softpanorama.info/Admin/Monitoring/Sar/linux_implementation_of_sar.shtml</a> ***</b></li><li><b><a href="http://www.linuxjournal.com/content/sysadmins-toolbox-sar">http://www.linuxjournal.com/content/sysadmins-toolbox-sar</a> ***</b></li><li><b><a href="http://www.itworld.com/it-managementstrategy/290424/ez-monthly-sar-reports">http://www.itworld.com/it-managementstrategy/290424/ez-monthly-sar-reports</a> </b></li><li><b><a href="http://sys-log.bencane.com/2012/07/sar-sysstat-linux-performance-statistics-with-ease/">http://sys-log.bencane.com/2012/07/sar-sysstat-linux-performance-statistics-with-ease/</a> </b></li><li><b><a href="http://www.cyberciti.biz/tips/identifying-linux-bottlenecks-sar-graphs-with-ksar.html">http://www.cyberciti.biz/tips/identifying-linux-bottlenecks-sar-graphs-with-ksar.html</a> , <a href="http://sourceforge.net/projects/ksar/">http://sourceforge.net/projects/ksar/</a> </b></li><li><b><a href="http://www.thegeekstuff.com/2011/03/sar-examples/">http://www.thegeekstuff.com/2011/03/sar-examples/</a> </b></li><li><a href="http://www.itworld.com/sar-performance-analysis-nlsunix-080529">http://www.itworld.com/sar-performance-analysis-nlsunix-080529</a> (monthly report via shell scripting)</li><li><a href="http://linux.101hacks.com/monitoring-performance/sar-command-examples/" target="_blank">http://linux.101hacks.com/monitoring-performance/sar-command-examples/</a> </li><li><a href="http://linux.101hacks.com/monitoring-performance/lsof-command-examples/" target="_blank">http://linux.101hacks.com/monitoring-performance/lsof-command-examples/</a> </li><li><a href="http://linux.101hacks.com/monitoring-performance/vmstat-command-examples/" target="_blank">http://linux.101hacks.com/monitoring-performance/vmstat-command-examples/</a> </li><li><a href="http://linux.101hacks.com/monitoring-performance/netstat-command-examples/" target="_blank">http://linux.101hacks.com/monitoring-performance/netstat-command-examples/</a> </li><li><a href="http://linux.101hacks.com/monitoring-performance/sysctl-command-examples/" target="_blank">http://linux.101hacks.com/monitoring-performance/sysctl-command-examples/</a> </li><li><a href="http://linux.101hacks.com/monitoring-performance/du-command-examples/" target="_blank">http://linux.101hacks.com/monitoring-performance/du-command-examples/</a> </li></ul></div><div style="white-space: normal; font-size: 11px;"><p>In addition to sar, Linux sysstat package provides several other useful utilities:</p><ul><li><a href="http://sebastien.godard.pagesperso-orange.fr/man_sadf.html" rel="nofollow">sadf(1)</a> -- similar to sar but can write its data in  different formats (CSV, XML, etc.). This is useful to load performance data into a database, or import them in a spreadsheet to make graphs.</li><li><a href="http://sebastien.godard.pagesperso-orange.fr/man_iostat.html" rel="nofollow">iostat(1)</a> reports CPU statistics and input/output statistics for devices, partitions and network filesystems.</li><li><a href="http://sebastien.godard.pagesperso-orange.fr/man_mpstat.html" rel="nofollow">mpstat(1)</a> reports individual or combined processor related statistics.</li><li><a href="http://sebastien.godard.pagesperso-orange.fr/man_pidstat.html" rel="nofollow">pidstat(1)</a> reports statistics for Linux tasks (processes) : I/O, CPU, memory, etc.</li><li><a href="http://sebastien.godard.pagesperso-orange.fr/man_nfsiostat.html" rel="nofollow">nfsiostat(1)</a> reports input/output statistics for network filesystems (NFS).</li><li><a href="http://sebastien.godard.pagesperso-orange.fr/man_cifsiostat.html" rel="nofollow">cifsiostat(1)</a> reports CIFS statistics.</li></ul></div><div style="white-space: normal; font-size: 11px;"><br/></div><div style="white-space: normal; font-size: 11px;"><b><u>GET SAR STATISTICS FROM DATA COLLECTED THE 12TH OF THIS MONTH:</u></b></div><div style="white-space: normal; font-size: 11px;"><ul><li><a href="http://www.thegeekstuff.com/2011/03/sar-examples/#more-7422" target="_blank">http://www.thegeekstuff.com/2011/03/sar-examples/#more-7422</a> </li></ul></div><div style="white-space: normal; font-size: 11px;"><br/></div><div style="white-space: normal; font-size: 11px;"><font face="Courier New"><u>network devices</u><br/>
   sar -f /var/log/sa/sa12 -n DEV</font></div><div style="white-space: normal; font-size: 11px;"><font face="Courier New"><u>Report I/O and transfer rate</u><br/>
   sar -f /var/log/sa/sa12 -b</font></div><div style="white-space: normal; font-size: 11px;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; border: 0px;" xml:space="preserve"><font face="Courier New"><u>context switch per second</u></font></pre><font face="Courier New">   sar -f /var/log/sa/sa12 -w</font></div><div style="white-space: normal; font-size: 11px;"><font face="Courier New"><u>Paging:</u><br/>
   sar -f /var/log/sa/sa12 -B</font></div><div style="font-size: 11px; white-space: normal;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; border: 0px;" xml:space="preserve"><font face="Courier New"><u>Report memory utilization:</u></font></pre><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; border: 0px;" xml:space="preserve"><font face="Courier New"><span style="white-space: normal;">   </span><span style="color: rgb(255, 0, 0); white-space: normal;">sar -f /var/log/sa/sa12 -r</span></font></pre><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; border: 0px;" xml:space="preserve"></pre><div style="white-space: normal;"><font face="Courier New">   sar -f /var/log/sa/sa12 -r 2 3</font></div></div><div style="white-space: normal; font-size: 11px;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; border: 0px;" xml:space="preserve"><font face="Courier New"><u>Report memory</u></font></pre><font face="Courier New">   sar -f /var/log/sa/sa12 -R</font></div><div style="white-space: normal; font-size: 11px;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; border: 0px;" xml:space="preserve"><font face="Courier New"><u>inode and file handlers</u> (file-sz = 1st column from the left in 'cat /proc/sys/fs/file-nr', number of file descriptors open in the whole system)</font></pre><font face="Courier New">   sar -f /var/log/sa/sa12 -v</font></div><div style="white-space: normal; font-size: 11px;"><font face="Courier New"><u>Queue Length and LOAD AVERAGES</u><br/>
   sar -f /var/log/sa/sa12 -q</font></div><div style="white-space: normal; font-size: 11px;"><font face="Courier New"><u>CPU:</u><br/>
   sar -f /var/log/sa/sa12 -p</font></div><div style="white-space: normal; font-size: 11px;"><font face="Courier New"><u>CPU:</u></font></div><div style="white-space: normal; font-size: 11px;"><font face="Courier New">   sar -f /var/log/sa/sa12 -u</font></div><div style="white-space: normal;"><div style="font-size: 11px;"><font face="Courier New"><u>-c , Report system calls</u></font></div><div style="font-size: 11px;"><font face="Courier New">   sar -f /var/log/sa/sa12 -c</font></div><div style="font-size: 11px;"><font face="Courier New"><u>Get all the logs</u></font></div><div style="font-size: 11px;">       <font face="Courier New">sar -f /var/log/sa/sa12 -A &gt; /tmp/sar-12Dec.log</font></div><div style="font-size: 11px;"><font face="Courier New"><u>Daily average:</u></font></div><div style="font-size: 11px;"><font face="Courier New">     <font color="#FF0000">sar -q -f /var/log/sa/sa12 | tail -n1</font></font></div></div><div style="white-space: normal; font-size: 11px;"><p><font face="Courier New">You can also narrow down the time period of the statistics using the -s and -e arguments. The -s argument is for the starting time and -e for the ending time. In both cases you specify the time in 24 hour format:</font></p><div><code><font face="Courier New">  </font></code>        <span style="font-family: &apos;Courier New&apos;;">sar -q -s 22:00:00 -e 00:00:00 -f /var/log/sa/sa10</span></div><div><code><font face="Courier New"><br/></font></code></div><div><code><font face="Courier New"><br/></font></code></div></div><div style="white-space: normal; font-size: 11px;"><h3>SOLARIS 10 Examples: <span style="font-weight: normal;">&quot;a simple analysis of the day-by-day CPU usage average for one key system was meaningless because it was dominated by an overnight backup. Restricting the analysis to core hours was more interesting but a lot more work.&quot;</span></h3><div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 6px; border: 1px inset; overflow: auto;">
#sar data collection
0 * * * 0-6 /usr/lib/sa/sa1
0,15,30,45 8-23 * * 1-5 /usr/lib/sa/sa1
5 23 * * 1-5 /usr/lib/sa/sa2 -s 7:00 -e 19:01 -i 1200 -A
#
</pre></div><pre style="margin-top: 0px; margin-bottom: 0px; padding: 6px; border: 1px inset; overflow: auto;">
root@nikira # sar -f /var/adm/sa/sa22 -s 15:00 -e 16:00 | more

SunOS nikira 5.10 Generic_127127-11 sun4u    03/22/2012

15:00:00    %usr    %sys    %wio   %idle
15:15:00      38      23       0      39
15:30:00      26      20       0      54
15:45:00      28      17       0      55
16:00:00      29       9       0      62

Average       30      17       0      52
</pre><h3><br/></h3><h3>AIX Examples <span style="font-weight: normal;"><a href="http://publib.boulder.ibm.com/infocenter/pseries/v5r3/index.jsp?topic=/com.ibm.aix.cmds/doc/aixcmds5/sar.htm">http://publib.boulder.ibm.com/infocenter/pseries/v5r3/index.jsp?topic=/com.ibm.aix.cmds/doc/aixcmds5/sar.htm</a> </span></h3><ol type="1"><li><a name="a26891675"></a>To report system unit activity, enter: <a name="a26891676"></a><pre>
sar
</pre></li><li><a name="a54f01"></a>To report current tty activity for each 2 seconds for the next 40 seconds, enter: <a name="a54f02"></a><div><tt>sar  <a href="http://publib.boulder.ibm.com/infocenter/pseries/v5r3/topic/com.ibm.aix.cmds/doc/aixcmds5/sar.htm#a2689166c">-y</a>  <a href="http://publib.boulder.ibm.com/infocenter/pseries/v5r3/topic/com.ibm.aix.cmds/doc/aixcmds5/sar.htm#a2689165a">-r</a> 2 20</tt><br/></div></li><li><a name="a26891678"></a>To watch system unit for 10 minutes and sort data, enter: <a name="a26891679"></a><div><tt>sar  <a href="http://publib.boulder.ibm.com/infocenter/pseries/v5r3/topic/com.ibm.aix.cmds/doc/aixcmds5/sar.htm#a26891657">-o</a> temp 60 10</tt><br/></div></li><li><a name="cb40c9b541thom"></a>To report processor activity for the first two processors, enter: <a name="cb40c9b569thom"></a><div><tt>sar  <a href="http://publib.boulder.ibm.com/infocenter/pseries/v5r3/topic/com.ibm.aix.cmds/doc/aixcmds5/sar.htm#a26891660">-u</a>  <a href="http://publib.boulder.ibm.com/infocenter/pseries/v5r3/topic/com.ibm.aix.cmds/doc/aixcmds5/sar.htm#ukfgi1c0thom">-P</a> 0,1</tt><br/></div>
This produces output similar to the following: <a name="cb428ee133thom"></a><pre>
cpu  %usr  %sys  %wio  %idle
0      45    45     5      5
1      27    65     3      5
</pre></li><li><a name="cb428ee172thom"></a>To report message, semaphore, and processor activity for all processors and system-wide, enter: <a name="cb428ee205thom"></a><div><tt>sar  <a href="http://publib.boulder.ibm.com/infocenter/pseries/v5r3/topic/com.ibm.aix.cmds/doc/aixcmds5/sar.htm#a26891660">-mu</a>  <a href="http://publib.boulder.ibm.com/infocenter/pseries/v5r3/topic/com.ibm.aix.cmds/doc/aixcmds5/sar.htm#ukfgi1c0thom">-P</a> ALL</tt><br/></div>
On a four-processor system, this produces output similar to the following (the last line indicates system-wide statistics for all processors) : <a name="cb428ee287thom"></a><pre>
cpu  msgs/s  sema/s  %usr  %sys  %wio  %idle
0      7       2       45    45     5     5
1      5       0       27    65     3     5
2      3       0       55    40     1     4
3      4       1       48    41     4     7
-     19       3       44    48     3     5
</pre></li><li>To see physical processor consumed and entitlement consumed for all processors system-wide, run sar command in a shared processor logical partition machine, as follows:
<pre>
sar –P ALL
</pre>
On a two-logical processor system, this produces output similar to the following (the last line indicates system-wide statistics for all processors, and the line with <tt>cpuid U</tt> indicates the system-wide Unused capacity) :
<pre>
cpu    %usr    %sys    %wio   %idle   physc   %entc
 0        0       0       0     100    0.02     3.1
 1        0       0       0     100    0.00     1.0
 U        -       -       0      96    0.48    96.0
 -        0       0       0     100    0.02     4.0
</pre></li><li>To report system call, kernel process, and paging activities with separate headers for each of the three lines of data at each iteration for every 2 seconds for the next 40 seconds, enter:
<pre>
sar -Mckr 2 20
</pre></li><li>To report all activities with multiple sets of headers for every 2 seconds for the next 40 seconds, enter:
<pre>
sar -MA 2 20
</pre></li></ol></div><div style="white-space: normal; font-size: 11px;"><h1><a href="http://unix.stackexchange.com/questions/5414/how-do-i-get-sar-to-show-for-the-previous-day">How do I get sar to show for the previous day?</a></h1></div><div style="white-space: normal; font-size: 11px;"><a href="http://unix.stackexchange.com/questions/5414/how-do-i-get-sar-to-show-for-the-previous-day">http://unix.stackexchange.com/questions/5414/how-do-i-get-sar-to-show-for-the-previous-day</a> </div><div style="white-space: normal; font-size: 11px;"><div><p>Usually, <a href="http://sebastien.godard.pagesperso-orange.fr/documentation.html">sysstat</a>, which provides a <code>sar</code> command, keeps logs in <code>/var/log/sysstat/</code> or <code>/var/log/sa/</code> with filenames such as <code>/var/log/sysstat/sadd</code> where <code>dd</code> is a numeric value for the day of the week (starting at 01). By default, the file from the current day is used; however, you can change the file that is used with the <code>-f</code> command line switch. Thus for the 3rd of the month you would do something like:</p><pre><code>sar -f /var/log/sysstat/sa03
</code></pre><p><u>If you want to restrict the time range, you can use the <code>-s</code> and <code>-e</code> parameters.</u> If you want to routinely get yesterday's file and can never remember the date and have GNU date you could try</p><pre><code>sar -f /var/log/sysstat/sa$(date +%d -d yesterday)
</code></pre><p>I highly recommend reading the <a href="http://linux.die.net/man/1/sar">manual page for sar</a>.</p></div></div><div style="white-space: normal; font-size: 11px;"><br/></div></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><div style="text-align: justify;"><div style="font-size: 12px;"><ul><li><font><font color="#FF0000"><b>htop:</b> </font></font></li><li style="list-style: none; display: inline"><ul><li><a href="http://htop.sourceforge.net/">http://htop.sourceforge.net/</a> </li><li><a href="http://fedoraproject.org/wiki/EPEL">http://fedoraproject.org/wiki/EPEL</a> <b>(YUM repository with iperf, htop and tiobench; RHEL compliant)</b></li></ul></li><li><span style="text-align: left;"><font color="#FF0000"><b>iotop:</b></font> </span></li><li style="list-style: none; display: inline"><ul><li><span style="text-align: left;">RHEL 5.8 now includes</span> <a href="http://guichaz.free.fr/iotop/" rel="external" style="margin: 0px; padding: 0px; color: rgb(102, 102, 102); text-align: left;" target="_blank">iotop</a><span style="text-align: left;">, a Top-like tool which shows which processes are reading or writing to storage media. </span></li><li><a href="http://guichaz.free.fr/iotop/" style="text-align: -webkit-auto;">http://guichaz.free.fr/iotop/</a></li></ul></li><li><b><font color="#FF0000">tiobench</font></b>: </li><li style="list-style: none; display: inline"><ul><li>Tiobench is a portable, robust, <b>fully-threaded file system benchmark</b> especially designed <b>to test I/O performance with multiple running threads.</b></li><li><a href="http://sourceforge.net/projects/tiobench/">http://sourceforge.net/projects/tiobench/</a> </li><li><a href="http://smackerelofopinion.blogspot.com.es/2012/06/intel-ssd-520-goodness.html">http://smackerelofopinion.blogspot.com.es/2012/06/intel-ssd-520-goodness.html</a></li><li><a href="http://www.csn.ul.ie/~mel/postings/mmtests-20120424/global-dhp__io-threaded-ext3/arnold/comparison.html">http://www.csn.ul.ie/~mel/postings/mmtests-20120424/global-dhp__io-threaded-ext3/arnold/comparison.html</a> </li><li><a href="http://www.prestonlee.com/2007/07/17/opensolaris-zfs-vs-linux-ext3-raid5/">http://www.prestonlee.com/2007/07/17/opensolaris-zfs-vs-linux-ext3-raid5/</a> </li></ul></li></ul><div><br/></div></div></div><blockquote style="font-size: 12px; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div><pre style="text-align: justify;"></pre><div><pre style="text-align: -webkit-auto;"><b><u><font face="Tahoma">htop:</font></u></b></pre></div></div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [1].png" type="image/png" height="424" style="cursor: default; height: auto;" width="827"/></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [2].png" type="image/png" height="361" style="cursor: default; height: auto;" width="723"/></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><br/></blockquote><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><b><u>iotop:</u></b></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><br/></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [3].png" type="image/png" height="439" style="cursor: default; height: auto;" width="667"/></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><br/></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div><b><u>tiobench:</u></b></div><div><b><u><br/></u></b></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [4].png" type="image/png" height="480" style="cursor: default; height: auto;" width="640"/></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [5].png" type="image/png" height="480" style="cursor: default; height: auto;" width="640"/></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [6].png" type="image/png" height="480" style="cursor: default; height: auto;" width="640"/></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [7].png" type="image/png" height="480" style="cursor: default; height: auto;" width="640"/></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [8].png" type="image/png" height="480" style="cursor: default; height: auto;" width="640"/></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [9].png" type="image/png" height="480" style="cursor: default; height: auto;" width="640"/></div><div><br/></div></blockquote></blockquote><div><pre style="font-size: 12px;"><font face="Tahoma"><br/></font></pre></div></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><pre style="font-size: 24px;"><font face="Tahoma"><b>System performance tools: byte-unixbench, mbw, iozone, iperf, dstat, pgbench, Hadoop wordcount</b></font></pre><pre style="font-size: 12px;"><font face="Tahoma">byte-unixbench to evaluate overall system performance<br/>mbw to evaluate memory performance<br/>iozone to evaluate disk IO performance<br/>iperf to evaluate networking performance<br/>pgbench to evaluate database performance<br/>Hadoop wordcount to evaluate the performance of a complex application<br/></font></pre><div style="font-size: 12px;"><pre><font face="Tahoma"><u><b>References:</b></u><br/></font></pre><ul style="white-space: normal;"><li><a href="http://www.qyjohn.net/?p=2363"><font face="Tahoma"><font face="Tahoma">http://www.qyjohn.net/?p=2363</font></font></a></li><li><a href="http://siliconangle.com/blog/2012/08/17/openstack-isnt-quite-enterprise-ready-says-hp-cloud-services-performance-test/"><font face="Tahoma"><font face="Tahoma">http://siliconangle.com/blog/2012/08/17/openstack-isnt-quite-enterprise-ready-says-hp-cloud-services-performance-test/</font></font></a></li><li><font face="Tahoma"><a href="http://www.96mb.com/96mb-low-end-vps-review-part-xxxi-qualityservers-xen-blowout/">http://www.96mb.com/96mb-low-end-vps-review-part-xxxi-qualityservers-xen-blowout/</a> </font></li><li><font face="Tahoma"><a href="http://openbenchmarking.org/">http://openbenchmarking.org/</a> </font></li><li><font face="Tahoma"><a href="http://www.gridvirt.com/blog/vps-benchmarking-guide/">http://www.gridvirt.com/blog/vps-benchmarking-guide/</a> </font></li></ul></div><pre style="font-size: 12px;"><font face="Tahoma"><br/><u>1) byte-unixbench</u><br/></font></pre><ul style="font-size: 12px;"><li><font face="Tahoma"><a href="http://code.google.com/p/byte-unixbench/">http://code.google.com/p/byte-unixbench/</a> </font></li><li><font face="Tahoma"><strong>UnixBench</strong> is the original BYTE UNIX benchmark suite, updated and revised by many people over the years. The purpose of UnixBench is to provide a basic indicator of the performance of a Unix-like system; hence, multiple tests are used to test various aspects of the system's performance. These test results are then compared to the scores from a baseline system to produce an index value, which is generally easier to handle than the raw scores. The entire set of index values is then combined to make an overall index for the system. Some very simple graphics tests are included to measure the 2D and 3D graphics performance of the system.</font></li><li><font face="Tahoma"><a href="http://www.asim.pk/2010/09/16/quickweb-vps-benchmark/#more-812">http://www.asim.pk/2010/09/16/quickweb-vps-benchmark/#more-812</a> </font></li><li><font face="Tahoma"><a href="http://www.cambus.net/compiling-and-running-unixbench-on-debian-and-centos/">http://www.cambus.net/compiling-and-running-unixbench-on-debian-and-centos/</a> </font></li></ul></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [10].png" type="image/png" height="724" style="cursor: default; height: auto;" width="636"/></div><div><pre style="font-size: 12px;"><font face="Tahoma"><br/><u>2) MBW 1.2</u></font></pre><div style="font-size: 12px;"><pre><font face="Tahoma"><font face="Tahoma">MBW is a memory bandwidth benchmark program. MBW determines the &quot;copy&quot; memory bandwidth available to userspace programs. Its simplistic approach models that of real applications. It is not tuned to extremes and it is not aware of hardware architecture, just like your average software package.</font></font></pre></div><ul style="font-size: 12px;"><li><a href="http://freecode.com/projects/mbw"><font face="Tahoma">http://freecode.com/projects/mbw</font></a></li><li><a href="https://github.com/raas/mbw/downloads"><font face="Tahoma">https://github.com/raas/mbw/downloads</font></a></li><li><a href="http://linux.softpedia.com/get/Programming/Debuggers/MBW-12167.shtml"><font face="Tahoma">http://linux.softpedia.com/get/Programming/Debuggers/MBW-12167.shtml</font></a></li><li><a href="http://www.novellshareware.com/info/mbw.html"><font face="Tahoma">http://www.novellshareware.com/info/mbw.html</font></a></li><li><a href="http://manpages.ubuntu.com/manpages/natty/man1/mbw.1.html"><font face="Tahoma">http://manpages.ubuntu.com/manpages/natty/man1/mbw.1.html</font></a></li></ul></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [11].png" type="image/png" height="465" style="cursor: default; height: auto;" width="634"/></div><div><pre style="font-size: 12px;"><u><font face="Tahoma">3) iozone to evaluate disk IO performance</font></u></pre><ul style="font-size: 12px;"><li><a href="http://www.iozone.org/"><font face="Tahoma">http://www.iozone.org/</font></a></li><li><a href="http://www.thegeekstuff.com/2011/05/iozone-examples/"><font face="Tahoma">http://www.thegeekstuff.com/2011/05/iozone-examples/</font></a></li><li><a href="http://code.google.com/p/iozone-results-comparator/"><font face="Tahoma">http://code.google.com/p/iozone-results-comparator/</font></a></li><li><a href="http://code.google.com/p/iozone-results-comparator/wiki/Tutorial"><font face="Tahoma">http://code.google.com/p/iozone-results-comparator/wiki/Tutorial</font></a></li><li><a href="http://www.zoobey.com/index.php/resources/all-articles-list/366-how-to-measure-linux-filesystem-io-performance-with-iozone">http://www.zoobey.com/index.php/resources/all-articles-list/366-how-to-measure-linux-filesystem-io-performance-with-iozone</a> </li></ul></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [12].png" type="image/png" height="623" style="cursor: default; height: auto;" width="911"/></div><div><div style="font-size: 12px; text-align: center;"><br/></div><pre style="font-size: 12px;"><font face="Tahoma"><u>4) Using iperf to test network bandwidth</u><br/></font></pre><ul style="font-size: 12px;"><li><font face="Tahoma"><font face="Tahoma"><a href="https://access.redhat.com/knowledge/solutions/33103">https://access.redhat.com/knowledge/solutions/33103</a> (red had account required)</font></font></li><li><a href="http://www.hosting.com/support/info/using-iperf-to-test-network-bandwidth"></a><a href="http://www.hosting.com/support/info/using-iperf-to-test-network-bandwidth">http://www.hosting.com/support/info/using-iperf-to-test-network-bandwidth</a></li><li><font face="Tahoma"><b><span style="color: rgb(0, 0, 0); text-align: justify;"><a href="http://www.hosting.com/support/info/using-iperf-to-test-network-bandwidth" style="text-align: -webkit-auto;">YUM repository with iperf, htop, tiobench, etc. RHEL compliant</a>:</span><span style="color: rgb(0, 0, 0); text-align: justify;"> </span><a href="http://www.hosting.com/support/info/using-iperf-to-test-network-bandwidth"></a><a href="http://fedoraproject.org/wiki/EPEL"><span style="text-align: justify;">http://fedoraproject.org/wiki/EPEL</span></a><span style="color: rgb(0, 0, 0); text-align: justify;"> </span></b></font></li></ul></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [13].png" type="image/png" height="562" style="cursor: default; height: auto;" width="815"/></div><div style="font-size: 12px; text-align: center;"><br/></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [14].png" type="image/png" style="height: auto;"/></div><div><div style="font-size: 12px;"><pre><font face="Tahoma"><u>5) dstat:</u> </font></pre>
dstat is a versatile replacement for vmstat, iostat, netstat, nfsstat, and ifstat. It includes various counters (in separate plugins) and allows you to select and view all of your system resources instantly; you can, for example, compare disk usage in combination with interrupts from your IDE controller, or compare the network bandwidth numbers directly with the disk throughput (in the same interval).</div><ul><li><span style="font-size: 12px;">dstat home page: <a href="http://dag.wieers.com/home-made/dstat/">http://dag.wieers.com/home-made/dstat/</a></span></li><li><span style="font-size: 12px;"><a href="http://blog.zhuzhaoyuan.com/2009/03/dstat-an-excellent-replacement-for-vmstat/">http://blog.zhuzhaoyuan.com/2009/03/dstat-an-excellent-replacement-for-vmstat/</a> :</span></li><li><span style="font-size: 12px;"><a href="http://zoetrope.speakermouth.com/2007/11/9/my-favourite-dstat">http://zoetrope.speakermouth.com/2007/11/9/my-favourite-dstat</a> : dstat -l -c -p -y -m -p -d -n</span></li><li><span style="font-size: 12px;"><a href="http://linux.die.net/man/1/dstat">http://linux.die.net/man/1/dstat</a></span></li><li><span style="font-size: 12px;"><a href="http://freecode.com/projects/dstat">http://freecode.com/projects/dstat</a></span></li><li><a href="http://www.programacion.com/articulo/comando_dstat_para_monitorizar_un_servidor_linux_403">http://www.programacion.com/articulo/comando_dstat_para_monitorizar_un_servidor_linux_403</a> </li></ul></div><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [15].png" type="image/png" style="cursor: default; height: auto;"/></div><div><pre style="font-size: 12px;"><font face="Tahoma"><u>6) pgbench</u><br/></font></pre><ul style="font-size: 12px;"><li><a href="http://www.postgresql.org/docs/devel/static/pgbench.html"><font face="Tahoma"><font face="Tahoma">http://www.postgresql.org/docs/devel/static/pgbench.html</font></font></a></li></ul></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [16].png" type="image/png" height="480" style="cursor: default; height: auto;" width="640"/></div><div><pre style="font-size: 12px;"><font face="Tahoma"><u>7) Hadoop wordcount to evaluate the performance of a complex application</u><br/></font></pre><ul style="font-size: 12px;"><li><a href="http://wiki.apache.org/hadoop/WordCount"></a><a href="http://wiki.apache.org/hadoop/WordCount">http://wiki.apache.org/hadoop/WordCount</a></li><li><font face="Tahoma"><a href="http://wiki.apache.org/hadoop/WordCount">http://www.rseventeen.com/blog/r17_vs_hadoop.html</a> </font></li></ul></div><div style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [17].png" type="image/png" height="371" style="cursor: default; height: auto;" width="600"/></div><div><pre style="font-size: 12px;"><font face="Tahoma"><br/></font></pre></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><pre style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><b><font face="Tahoma"><u>Análisis de rendimiento. Velocidad de disco en máquinas virtuales</u></font></b></font></font></pre><div><pre style="font-size: 24px;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma"><b>seeker: Measuring disk performance in virtual machines</b></font></font></font></pre></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><b style="white-space: normal;">[root@servidorVirtualA ~]# seeker /dev/vda</b><br style="white-space: normal;"/><span style="white-space: normal;">Seeker v3.0, 2009-06-17, http://www.linuxinsight.com/how_fast_is_your_disk.html</span><br style="white-space: normal;"/><span style="white-space: normal;">Benchmarking /dev/vda [512000000 blocks, 262144000000 bytes, 244 GB, 250000 MB, 262 GiB, 262144 MiB]</span><br style="white-space: normal;"/><span style="white-space: normal;">[512 logical sector size, 512 physical sector size]</span><br style="white-space: normal;"/><span style="white-space: normal;"><font color="#E30000">[1 threads]</font></span><br style="white-space: normal;"/><span style="white-space: normal;">Wait 30 seconds..............................</span><br style="white-space: normal;"/><b style="white-space: normal;">Results: <font color="#E30000">9366 seeks/second</font>, 0.107 ms random access time (356811 &lt; offsets &lt; 262143561279)</b><br style="white-space: normal;"/><br style="white-space: normal;"/><b style="white-space: normal;">[root@servidorVirtualA ~]# seeker /dev/vda 32</b><br style="white-space: normal;"/><span style="white-space: normal;">Seeker v3.0, 2009-06-17, http://www.linuxinsight.com/how_fast_is_your_disk.html</span><br style="white-space: normal;"/><span style="white-space: normal;">Benchmarking /dev/vda [512000000 blocks, 262144000000 bytes, 244 GB, 250000 MB, 262 GiB, 262144 MiB]</span><br style="white-space: normal;"/><span style="white-space: normal;">[512 logical sector size, 512 physical sector size]</span><br style="white-space: normal;"/><span style="white-space: normal;"><font color="#E30000">[32 threads]</font></span><br style="white-space: normal;"/><span style="white-space: normal;">Wait 30 seconds..............................</span><br style="white-space: normal;"/><b style="white-space: normal;">Results: <font color="#E30000">75259 seeks/second</font>, 0.013 ms random access time (122 &lt; offsets &lt; 262143697998)</b></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><b><br/></b></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><b><br/></b></font></font></div><div style="font-size: 12px;"><a href="http://www.linuxinsight.com/how_fast_is_your_disk.html"><font face="Tahoma"><font face="Tahoma">http://www.linuxinsight.com/how_fast_is_your_disk.html</font></font></a></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"> <b><br style="white-space: normal;"/></b><font face="Tahoma"><span style="white-space: normal;"><br/></span></font></font></font></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 24px;"><font face="Tahoma"><font face="Tahoma"><span style="white-space: normal;"><font style="font-weight: bold;">dropwatch: a</font></span><b> monitoring utility that monitors packets dropped by the kernel</b></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><b><br/></b></font></font></div><div style="font-size: 12px;">For more information, refer to the <code>dropwatch</code> man page: <code><font color="#E30000"><b>man dropwatch</b></font></code></div><div style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma">Using netstat and dropwatch to observe packet loss on Linux servers:</font></font></div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px; font-size: 12px;"><div style="white-space: normal;"><a href="http://prefetch.net/blog/index.php/2011/07/11/using-netstat-and-dropwatch-to-observe-packet-loss-on-linux-servers/"><font face="Tahoma"><font face="Tahoma">http://prefetch.net/blog/index.php/2011/07/11/using-netstat-and-dropwatch-to-observe-packet-loss-on-linux-servers/</font></font></a></div></blockquote><div style="font-size: 12px;"><div style="white-space: normal;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div style="white-space: normal;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div style="white-space: normal;"><font face="Tahoma"><font face="Tahoma">[root@servidorVirtualA ~]#<font color="#E30000"> <b>dropwatch -l kas</b></font><br/></font></font></div><div style="white-space: normal;"><font face="Tahoma"><font face="Tahoma"><b>Initalizing kallsyms db<br/>
dropwatch&gt; start</b><br/>
Enabling monitoring...<br/>
Kernel monitoring activated.<br/>
Issue Ctrl-C to stop monitoring<br/>
1 drops at netlink_unicast+251<br/>
1 drops at igmp_rcv+bb<br/>
1 drops at __netif_receive_skb+680<br/>
1 drops at __netif_receive_skb+680<br/>
1 drops at __netif_receive_skb+680<br/>
6 drops at netlink_destroy_callback+19<br/>
6 drops at skb_queue_purge+20<br/>
1 drops at __netif_receive_skb+680<br/>
30 drops at netlink_destroy_callback+19<br/>
1 drops at __netif_receive_skb+680<br/>
36 drops at netlink_destroy_callback+19<br/>
36 drops at netlink_destroy_callback+19</font></font></div><font face="Tahoma"><font face="Tahoma">...</font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma">...</font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma">...</font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma"><span style="white-space: normal;"><br/></span></font></font></font></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><pre style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><b><u><font face="Tahoma">CASO DE ANÁLISIS DE LATENCIA EN RED DE 8 MILISEGUNDOS ENTRE FRONTED Y BACKEND Y DEL IMPACTO EN LAS APLICACIONES</font></u></b></font></font></pre><pre style="font-size: 24px;"><font face="Tahoma"><b>Network Latency Analysis. Testing Colt's low latency and high bandwidth transport Fiber Ethernet WAN</b></font></pre><pre style="font-size: 12px;"></pre><pre><font face="Tahoma">Customer want to test the WAN network latency between Madrid and Barcelona set up by COLT. It is a 10-gigabit Ethernet (GE) WAN that will temporary connect middleware and databases during the migration process. All the servers will be physically moved from Madrid to Barcelona while brandnew ones have been purchased and set up in Barcelona. </font></pre><pre><span style="font-family: Tahoma;"><b><u>COLT's Fiber Ethernet WAN: </u></b></span></pre><ul><li><span style="font-family: Tahoma;">Major Spanish cities now connected to Colt’s extensive pan-European network, with improved ultra low latency for Madrid’s financial institutions.</span> <a href="http://www.colt.net/uk/en/news/colt-deepens-its-european-presence-in-spain-en.htm" style="font-family: Tahoma;">http://www.colt.net/uk/en/news/colt-deepens-its-european-presence-in-spain-en.htm</a></li><li><span style="font-family: Tahoma;"><a href="http://www.colt.net/uk/en/news/new-low-latency-route-from-colt-en.htm">http://www.colt.net/uk/en/news/new-low-latency-route-from-colt-en.htm</a></span></li><li><span style="font-family: Tahoma;"><a href="http://infinera.wordpress.com/2012/06/29/colts-new-low-latency-route-into-ireland-powered-by-the-infinera-dtn-platform/">http://infinera.wordpress.com/2012/06/29/colts-new-low-latency-route-into-ireland-powered-by-the-infinera-dtn-platform/</a></span></li><li><span style="font-family: Tahoma;"><a href="http://www.colt.net/uk/en/products-services/data-networking/lanlink-en.htm">http://www.colt.net/uk/en/products-services/data-networking/lanlink-en.htm</a></span></li><li><span style="font-family: Tahoma;"><a href="http://en.wikipedia.org/wiki/COLT_Telecom_Group_plc">http://en.wikipedia.org/wiki/COLT_Telecom_Group_plc</a></span></li><li><span style="font-family: Tahoma;"><a href="http://www.internetsimetrico.com/colt.html">http://www.internetsimetrico.com/colt.html</a></span></li><li><span style="font-family: Tahoma;"><a href="http://en.wikipedia.org/wiki/10-gigabit_Ethernet">http://en.wikipedia.org/wiki/10-gigabit_Ethernet</a></span></li><li><span style="font-family: Tahoma;"><a href="http://t1rex.blogspot.com.es/2010/06/fiber-ethernet-wan-bandwidth-advantages.html">http://t1rex.blogspot.com.es/2010/06/fiber-ethernet-wan-bandwidth-advantages.html</a></span></li></ul><pre style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma"><u><b>Conclusion after analysis (we have a Fiber Ethernet WAN latency of ~9-10 ms):</b></u></font></font></font></pre><ol style="font-size: 12px;"><li style="text-align: justify;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma">Los comandos de Linux <font color="#FF0000"><b>ping</b> y <b>traceroute</b></font> para probar la latencia de Red <font color="#FF0000">muestran los datos en milisegundos, pero <b>con una</b></font> <font color="#FF0000"><b>precisión de microsegundos (kernel 2.6). </b></font>1.000=1 milisegundo, y 1.000.000=1 segundo. En comparación, el comando 'ping' en windows muestra la misma latencia con una precisión de milisegundos.</font></font></font></li><li style="text-align: justify;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma"><b>8-10 ms de latencia es insignificante</b> para ser una línea Ethernet WAN de fibra. Dentro de la misma LAN la latencia es de 0.1-0,2ms. (100-200 microsegundos).</font></font></font></li><li style="text-align: justify;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma">Mucho más importante es que no haya otro tráfico congestionando la red con pérdida de paquetes. </font></font></font></li><li style="text-align: justify;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma"><b>Cada aplicación es un mundo, y en algunas aplicaciones una latencia de 10 ms puede tener un impacto significante en el sistema</b>.</font></font></font></li><li style="text-align: justify;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma">Debemos probar el rendimiento global de nuestras queries (por ejemplo envío/transporte de petición de tomcat a la BBDD + ejecución + recepción/transporte de respuesta de BBDD a Tomcat). Jmeter puede ser muy útil aquí, pero los resultados seguramente estén por encima de los milisegundos.</font></font></font></li><li><font face="Tahoma"><font face="Tahoma"><span style="text-align: justify;"><font face="Tahoma">Jmeter muestra unos tiempos de respuesta media de 6 segundos (6.000 ms), pero en este caso son relativos a una consulta </font></span></font></font><span style="text-align: justify;">HTTP GET sobre un JSP que lanza varias peticiones y considerando que hemos sobrecargado el Tomcat en exceso. Las estadísticas mejorarían en Jmeter con una prueba</span> <span style="text-align: justify;">menos agresiva y si es posible próxima a la carga media actual en producción. La prueba del realizada consistió en 200 usuarios/threads + Ramp-Up period de 10 segundos + Loop Count de 100. Deberíamos haber empezado con por ejemplo N threads + Ramp-Up N + 1 Loop Count (200/200/1, 100/100/1, etc).</span></li><li style="text-align: justify;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma"><b>No hay una 'latencia razonable'.</b> <b>En cambio deberíamos averiguar la 'latencia razonable para nuestro Proyecto', la cual podría variar mucho dependiendo de la aplicación</b> (no es lo mismo una aplicación de tiempo real con numerosas lecturas y escrituras que un webiste amateur con unas pocas lecturas)</font></font></font></li><li style="text-align: justify;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma"><b>En Linux existe la posibilidad de probar los efectos de la latencia forzando p.e. un delay de 10ms en todos los paquetes</b> <b>que atraviesan la interfaz de red eth0 (comando <font color="#FF0000">tc</font>). Útil para hacer pruebas en una misma LAN simulando temporalmente la latencia.</b></font></font></font></li></ol><div style="text-align: justify; font-size: 12px;"><a href="http://stackoverflow.com/questions/605648/database-network-latency" style="text-align: start;">http://stackoverflow.com/questions/605648/database-network-latency</a> </div><div style="text-align: justify; font-size: 12px;"><font color="#1C3387">I am currently working on an n-tier system and battling some database performance issues. One area we have been investigating is the<span style="text-align: start;"> latency between the database server and the application server. In our test environment the average ping times between the two boxes is in the region of 0.2ms however on the clients site its more in the region of </span><b style="text-align: start;">8.2 ms</b><span style="text-align: start;">. Is that something we should be worried about?</span></font></div><div style="text-align: justify;"><div style="text-align: start;"><ol><li style="font-size: 12px;"><b style="text-align: start;"><font color="#1C3387">What you should monitor is the global performance of your queries (ie transport to the DB + execution + transport back to your server)</font></b></li><li style="font-size: 12px;"><b style="text-align: start;"><font color="#1C3387">What you could do is use a performance counter to monitor the time your queries usually take to execute. You'll probably see your results are over the millisecond area.</font></b></li><li style="font-size: 12px;"><font color="#1C3387"><b style="text-align: start;">There's no such thing as &quot;Reasonable latency&quot;. You should rather consider the &quot;Reasonable latency for your project&quot;,</b><span style="text-align: start;"> </span><span style="text-align: start;">which would vary a lot depending on what you're working on. People don't have the same expectation for a real-time trading platform and for a read only amateur website.</span></font></li><li style="font-size: 12px;"><span style="text-align: start;"><b><font color="#1C3387">8 ms is pretty much insignificant.</font></b></span></li><li style="font-size: 12px;"><span style="text-align: start;"><b><b><font color="#1C3387">All applications will differ, but I have definitely seen situations where 10ms latency has had a significant impact on the performance of the system.</font></b></b></span></li><li style="text-align: -webkit-auto;"><font color="#1C3387"><span style="font-size: 12px;">On a</span> <span style="font-size: 12px;">linux based server you can test the effect of latency yourself by using the</span> <b style="font-size: 12px;">tc</b> <span style="font-size: 12px;">command. F</span></font><font color="#1C3387" style="font-size: 12px;">or example this command will <b>add 10ms delay to all packets going via eth0</b></font><ul style="font-size: 12px;"><li><pre style="font-weight: normal; display: inline !important;"><b style="text-align: -webkit-auto;"><code><font color="#1C3387" face="Tahoma"><b>tc qdisc add dev eth0 root netem delay 10ms</b></font></code></b></pre></li><li><pre style="display: inline !important;"><font color="#1C3387"><b style="text-align: -webkit-auto;"><code><font face="Tahoma"><b><span style="font-weight: normal; white-space: normal;">use this command to remove the delay: </span><span style="white-space: normal;">tc qdisc del dev eth0 root</span></b></font></code></b></font></pre></li></ul></li></ol></div></div><pre style="font-size: 12px;"><font face="Tahoma"><b><u>Example of issue:</u> </b>&quot;It just hangs. No logs are generated. It drives me crazy for hours. Oh, there's another thing to say. Sometimes a test JSP page with direct JDBC connect succeeds to connect sometimes immediately, sometimes in about 30 seconds.&quot; Analysis procedure:</font></pre><pre style="font-size: 12px;">
     1) <font face="Tahoma">Run 'top' and check if you see tomcat eating up CPU or memory while it blocks on a db call.</font></pre><pre style="font-size: 12px;">
     2) <font face="Tahoma">Given the network latency issue, you can try traceroute from tomcat box to oracle box and check if you are not seeing any dropped packets (* in the output). This will also give you an idea of the hops and latency per hop. Run it a couple of times to get more data points...</font></pre><pre style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma"><u><b>Network Latency Analysis:</b></u></font></font></font></pre><pre style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma">Para analizar la latencia de la red, he ejecutado comandos ping y traceroute incluídos a continuación.  En rojo los tiempos de respuesta en milisegundos, donde se aprecia la diferencia de una red a otra.</font></font></font></pre><div style="white-space: normal;"><div><pre style="font-size: 11px;"><font face="Tahoma"><b>[root@servidorA]# ping -f 192.168.xxx.x (testing a VPN network with high latency)</b></font></pre><pre style="font-size: 11px;"><font face="Tahoma"><font face="Tahoma">PING 192.168.xxx.x (192.168.xxx.x) 56(84) bytes of data.
.....^C
--- 192.168.xxx.x ping statistics ---
1771 packets transmitted, 1766 received, 0% packet loss, time 23772ms
<font color="#FF0000">rtt min/avg/max/mdev = 25.488/<b><u>34.291</u></b>/135.073/18.070 ms, pipe 11, ipg/ewma 13.430/27.375 ms</font></font></font></pre></div><div style="font-size: 11px;"><b>[root@servidorA ~]# ping -f 192.168.xxx.xxx (from Middleware server in Madrid to Oracle database preproduction in Madrid, within same LAN)</b><br/>
PING 192.168.xxx.xxx (192.168.xxx.xxx) 56(84) bytes of data.<br/>
.^C<br/>
--- 192.168.xxx.xxx ping statistics ---<br/>
53534 packets transmitted, 53533 received, <b>0% packet loss, time 9713ms</b><br/>
rtt min/avg/max/mdev = <font color="#FF0000">0.075/<b><u>0.135</u></b>/1.324/0.044 ms, ipg/ewma 0.181/0.127 ms</font><br/></div><div style="font-size: 11px;"><font color="#FF0000"><br/></font></div><div style="font-size: 11px;"><font color="#1C3387"><b>[root@servidorA ~]# ping -f 192.168.xxx.xxx (from Middleware server in Madrid to </b><b>Oracle Database in Barcelona</b><b> via COLT's Fiber ethernet WAN)</b></font></div><div style="font-size: 11px;"><font color="#1C3387">PING 192.168.xxx.xxx (192.168.xxx.xxx) 56(84) bytes of data.</font><br/><font color="#1C3387">.^C</font><br/><font color="#1C3387">--- 192.168.xxx.xxx ping statistics ---</font><br/><font color="#1C3387">1853 packets transmitted, 1852 received,</font><b style="color: rgb(28, 51, 135);"> 0% packet loss, time 16344ms</b><br/><font color="#E30000">rtt min/avg/max/mdev = 8.644/<u><b>8.714</b></u>/18.597/0.241 ms, ipg/ewma 8.825/8.713 ms</font><br/></div><div style="font-size: 12px;"><b><br/></b></div></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="white-space: normal;"><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><b><font color="#FF0000"># Send 5 packets of 64 bytes to the remote database IP address</font></b></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><b><font color="#FF0000"><br/></font></b></font></font></div><div style="font-size: 11px;"><font face="Tahoma"><font face="Tahoma">[userA@servidorA ~]$ <b>ping -c 5 -q -s 64 192.168.XXX.X (testing a VPN network with high latency)</b><br/>
PING 192.168.xxx.x (192.168.xxx.x) 64(92) bytes of data.<br/><br/>
--- 192.168.xxx.x ping statistics ---<br/>
5 packets transmitted, 5 received, 0% packet loss, time 4011ms<br/><font color="#FF0000">rtt min/avg/max/mdev = 26.042/<u><b>27.418</b></u>/29.271/1.075 ms</font><br/><br/></font></font></div><div style="font-size: 11px;"><b style="color: rgb(28, 51, 135);">[userA@servidorA ~]$ ping -c 5 -q -s 64 192.168.xxx.xxx (from Madrid middleware to Oracle database in Barcelona. Testing COLT's Fiber ethernet WAN)</b><br/><font color="#1C3387">PING 192.168.xxx.xxx (192.168.xxx.xxx) 64(92) bytes of data.</font><br/><br/><font color="#1C3387">--- 192.168.xxx.xxx ping statistics ---</font><br/><font color="#1C3387">5 packets transmitted, 5 received, 0% packet loss, time 4015ms</font><br/><font color="#E30000">rtt min/avg/max/mdev = 8.735/<u><b>10.666</b></u>/18.080/3.708 ms</font><br/><br/><b>[userA@servidorA ~]$ ping -c 5 -q -s 64 192.168.xxx.xxx (from Madrid middleware to Oracle database preproduction in Madrid, within same LAN)</b><br/>
PING 192.168.xxx.xxx (192.168.xxx.xxx) 64(92) bytes of data.<br/><br/>
--- 192.168.xxx.xxx ping statistics ---<br/>
5 packets transmitted, 5 received, 0% packet loss, time 4000ms<br/>
rtt min/avg/max/mdev = <font color="#FF0000">0.173/<u><b>0.301</b></u>/0.398/0.074 ms</font></div><div style="font-size: 11px;"><br/></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><div style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma"><span style="border-collapse: separate; border-spacing: 0px;"><b><u><font color="#FF0000">Use large packets to get the slowest times</font></u></b><u><font color="#FF0000">.</font></u> <b><font color="#FF0000"><u>Make sure you set the &quot;don't fragment bit&quot; so that routers do not spend time disassembling and reassembling the packet</u></font>. Also note that the packet size is 1472. This is for Ethernet. Ethernet packets are 1536 octets (actual 8 bit bytes) in size. ICPM packets (this is what ping is designed to use) have 64 octets of header. Evaluate the area where the slowness seems to occur.</b></span></font></font></div><div style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma"><span style="border-collapse: separate; border-spacing: 0px;"><b><br/></b></span></font></font></div><div style="white-space: normal; font-size: 11px;"><font face="Tahoma"><font face="Tahoma"><b>[root@servidorA]# ping -l 1472 -w 10 -f 192.168.xxx.x (testing a VPN with high latency)</b><br/>
WARNING: probably, rcvbuf is not enough to hold preload.<br/>
PING 192.168.xxx.x (192.168.xxx.x) 56(84) bytes of data.</font></font></div><div style="white-space: normal; font-size: 11px;">                                                                                                                                                                    </div><div style="white-space: normal; font-size: 11px;"><font face="Tahoma"><font face="Tahoma">--- 192.168.xxx.x ping statistics ---<br/>
21062 packets transmitted, 4523 received, <b>78% packet loss</b>, time 9998ms<br/><font color="#FF0000">rtt min/avg/max/mdev = 25.626/<b><u>71.615</u></b>/141.682/30.095 ms, pipe 1472, ipg/ewma 0.474/105.949 ms</font></font></font></div><div style="font-size: 11px;"><b style="font-family: Tahoma;">[root@servidorA ~]# ping -l 1472 -f -w 10 192.168.xxx.xxx (-w 10 = 10 seconds, from Madrid middleware production to Madrid database production within same LAN)</b></div><pre style="font-size: 11px;"><font face="Tahoma">WARNING: probably, rcvbuf is not enough to hold preload.<br/>PING 192.168.xxx.xxx (192.168.xxx.xxx) 56(84) bytes of data.
                                                                                                                                                                 
--- 192.168.xxx.xxx ping statistics ---
1770179 packets transmitted, 1147912 received, <b>35% packet loss</b>, time 10000ms
rtt min/avg/max/mdev = <font color="#FF0000">0.172/<b><u>5.117</u></b>/27.192/1.432 ms, pipe 1472, ipg/ewma 0.005/4.457 ms</font></font></pre><pre style="font-size: 11px;"><font face="Tahoma"><font face="Tahoma"><b style="color: rgb(28, 51, 135);"><font face="Tahoma">[root@servidorA ~]# ping -l 1472 -f -w 10 192.168.xxx.xxx (-w 10 = 10 seconds, from Madrid middleware production to Barcelona database via COLT's Fiber Ethernet WAN)</font></b><font color="#1C3387">
WARNING: probably, rcvbuf is not enough to hold preload.
PING 192.168.xxx.xxx (192.168.xxx.xxx) 56(84) bytes of data.

--- 192.168.xxx.xxx ping statistics ---
949569 packets transmitted, 790579 received, </font><b style="color: rgb(28, 51, 135);">16% packet loss</b><font color="#1C3387">, time 10001ms
</font><font color="#E30000">rtt min/avg/max/mdev = 8.623/<b><u>9.310</u></b>/19.174/0.584 ms, pipe 1472, ipg/ewma 0.010/9.223 ms</font></font></font></pre><pre style="font-size: 11px;"></pre><div style="font-size: 11px;"><b><font face="Tahoma">ping: -n  Numeric output only.  No attempt will be made to lookup symbolic names for host addresses.  (avoid dns)<br/></font></b></div><div style="font-size: 11px;"><font face="Tahoma">     <a href="http://superuser.com/questions/400861/linux-ping-not-actually-sending-1-packet-per-second" target="_blank">http://superuser.com/questions/400861/linux-ping-not-actually-sending-1-packet-per-second</a></font></div><div style="font-size: 11px;"><font face="Tahoma"><b>     </b>It looks like you have one of the versions of <code>ping</code> that does a DNS lookup for every received packet. Since a DNS UDP packet has to traverse the same congested network as ping packets, the packet may be dropped. With timeouts and retries it can take significant time for a DNS request to return data. The time consumed waiting for a DNS response delays the sending of the next ping packet because your <code>ping</code> is both single-threaded and doesn't use an asynchronous timer to drive each ping.</font> <span style="font-family: Tahoma;">If my diagnosis is correct, adding</span> <code>-n</code> <span style="font-family: Tahoma;">to</span> <code>ping</code> <span style="font-family: Tahoma;">should get rid of the delays.</span></div></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><pre style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><b><font face="Tahoma">TRACEROUTE: La pregunta es determinar si la latencia existente puede causar mucho impacto en los tiempos de respuesta SQL</font></b></font></font></pre><pre><font face="Tahoma"><b style="font-size: 12px;"><font color="#1C3387">TRACEROUTE: The question is to determine if existing latency is causing much impact on the SQL response time</font></b><font face="Tahoma"><span style="font-size: 12px;">

</span><b style="font-size: 11px;"><font face="Tahoma"># traceroute 192.168.xxx.xxx (oracle database reachable via the Fiber Ethernet WAN)</font></b><span style="font-size: 11px;">
traceroute to 192.168.xxx.xxx (192.168.xxx.xxx), 30 hops max, 40 byte packets
1  dns-name.domainname.local (192.168.xxx.xxx)  18.614 ms  9.039 ms  </span><b style="font-size: 11px;"><font color="#FF0000" face="Tahoma">9.095 ms</font></b><span style="font-size: 12px;">
     </span><b style="font-size: 12px;"><font color="#FF0000" face="Tahoma"><u>Latencia de ~9ms sin saltos (routers, switches) en el camino</u></font></b></font></font></pre><pre style="font-size: 12px;"><font face="Tahoma"><b>     <u><font color="#1C3387">Latency of ~9ms without hops (router, switch, etc) in between</font></u></b></font></pre><pre><font face="Tahoma"><font face="Tahoma"><b style="font-size: 11px;"><font face="Tahoma"># traceroute 192.168.xxx.xxx (pre-production oracle database reachable within the same LAN)</font></b><span style="font-size: 11px;">
traceroute to 192.168.xxx.xxx (192.168.xxx.xxx), 30 hops max, 40 byte packets
1  reverse-dns-name (192.168.xxx.xxx)  0.559 ms  0.535 ms </span><b style="font-size: 11px;"><font color="#FF0000" face="Tahoma"> 0.286 ms</font></b><span style="font-size: 12px;">
     </span><font color="#FF0000" face="Tahoma" style="font-size: 12px;"><b><u>Latencia de ~0.2ms sin saltos (routers, switches) en el camino</u></b></font></font></font></pre><pre style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma"><b>     <u><font color="#1C3387">Latency of ~0.2ms without hops (router, switch, etc) in between</font></u></b></font></font></font></pre><pre style="font-size: 12px;"><em style="font-family: Tahoma; white-space: normal;">&quot;Setting <b>tcp.nodelay</b> disables the Nagle algorithm in the tcp stack that tries to efficiently balance the data load of a packet with the delay in dispatching it.</em></pre><div style="font-size: 12px;"><p style="white-space: normal;"><font face="Tahoma"><font face="Tahoma">Effectively, you're saying &quot;to xxx with optimizing the data payload ... send those babies now!&quot;. The complete antithesis of what the SDU/TDU settings are trying to do for you.</font></font></p><div><font face="Tahoma"><font face="Tahoma"><b>You'll end up with a larger number of smaller packets on your WAN, and if it's latency that's your problem, this will make matters worse, not better.&quot;</b> </font></font></div><div><b><br/></b></div><div><b>Oracle Database Performance Tuning Guide. Tuning Networks: <a href="http://docs.oracle.com/cd/B12037_01/server.101/b10752/network.htm">http://docs.oracle.com/cd/B12037_01/server.101/b10752/network.htm</a></b></div><div><a href="http://bryangrenn.blogspot.com.es/2011/05/oracle-and-networking.html">http://bryangrenn.blogspot.com.es/2011/05/oracle-and-networking.html</a></div><div><a href="http://markbairden.blogspot.com.es/2012/03/database-performance-measuring-effects.html">http://markbairden.blogspot.com.es/2012/03/database-performance-measuring-effects.html</a></div><div><a href="http://www.quest.com/spotlight-on-oracle/">http://www.quest.com/spotlight-on-oracle/</a></div><div><a href="http://www.dba-oracle.com/art_builder_tns.htm">http://www.dba-oracle.com/art_builder_tns.htm</a></div><div><a href="http://serverfault.com/questions/384860/improving-latency-between-developer-machine-and-oracle-db">http://serverfault.com/questions/384860/improving-latency-between-developer-machine-and-oracle-db</a></div><div><a href="http://javaeesupportpatterns.blogspot.com.es/2011/08/network-adapter-could-not-establish.html">http://javaeesupportpatterns.blogspot.com.es/2011/08/network-adapter-could-not-establish.html</a></div><div><a href="http://javaeesupportpatterns.blogspot.com/2011/03/network-adapter-could-not-establish.html" shape="rect">http://javaeesupportpatterns.blogspot.com/2011/03/network-adapter-could-not-establish.html</a></div><div><a href="http://javaeesupportpatterns.blogspot.com.es/2011/05/oracle-socket-read-hang-and.html">http://javaeesupportpatterns.blogspot.com.es/2011/05/oracle-socket-read-hang-and.html</a></div></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><div style="font-size: 24px;"><font face="Tahoma"><font face="Tahoma"><b>tc command: adds latency to NIC for testing purposes</b></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><b><br/></b></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><b>On a linux based server you can test the effect of latency yourself by using the <font color="#FF0000">tc</font> command.</b></font></font></div><p style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma">For example this command will <b>add 10ms delay to all packets going via eth0</b></font></font></p><pre style="font-size: 12px;"><code><font face="Tahoma">     <font color="#E30000"><b>tc qdisc add dev eth0 root netem delay 10ms</b></font><br/></font></code></pre><p style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma">use this command to remove the delay</font></font></p><pre style="font-size: 12px;"><code><font face="Tahoma">     <b><font color="#E30000">tc qdisc del dev eth0 root</font></b><br/></font></code></pre><p style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma">More details available here: <a href="http://devresources.linux-foundation.org/shemminger/netem/example.html" rel="nofollow">http://devresources.linux-foundation.org/shemminger/netem/example.html</a></font></font></p></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><b>All applications will differ, but I have definitely seen situations where 10ms latency has had a significant impact on the performance of the system.</b></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><b><br/></b></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><pre style="font-size: 24px;"><font face="Tahoma"><font face="Tahoma"><b><font face="Tahoma">'tracepath' in Linux is like 'route get' in Solaris</font></b></font></font></pre><pre style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma">Display the route for a specified IP address (destination). Useful when our system has several NICs connected to many networks.</font></font></font></pre><div style="font-size: 12px;"><div style="white-space: normal;"><font face="Tahoma"><font face="Tahoma">route get (solaris) -&gt; tracepath (linux)</font></font></div><div style="white-space: normal;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><font face="Tahoma"><font face="Tahoma"><span style="white-space: normal;">Usage: tracepath [-n] [-l &lt;len&gt;] &lt;destination&gt;[/&lt;port&gt;]</span></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><br style="white-space: normal;"/><span style="white-space: normal;">[tomcat@servidorVirtualA init]$ </span><b style="white-space: normal;"><font color="#E30000">tracepath 192.168.200.XXX</font></b><br style="white-space: normal;"/><span style="white-space: normal;">1:  192.168.200.xxx (192.168.200.xxx)                       12.289ms reached</span><br style="white-space: normal;"/><span style="white-space: normal;">     Resume: pmtu 65535 hops 1 back 64</span><br style="white-space: normal;"/><br/></font></font></div></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div style="white-space: normal; font-size: 24px;"><font face="Tahoma"><font face="Tahoma"><b>Using MTR To Detect Network Congestion </b></font></font></div><div style="font-size: 12px; white-space: normal;"><div><a href="http://www.linuxhomenetworking.com/wiki/index.php/Quick_HOWTO_:_Ch04_:_Simple_Network_Troubleshooting">http://www.linuxhomenetworking.com/wiki/index.php/Quick_HOWTO_:_Ch04_:_Simple_Network_Troubleshooting</a></div><font face="Tahoma"><font face="Tahoma"><br/>
Matt's Traceoute is an application you can use to do a repeated traceroute in real time; it dynamically shows the round-trip time to reach each hop along the traceroute path. The constant updates enable you not only to visually determine which hops are slow, but also to determine when they appear to be slow. It is a good tool to use whenever you suspect there is some intermittent network congestion.<br/><br/>
You type in the word mtr followed by the target IP address to get output similar to the following:<br/><br/>
[root@bigboy tmp]# <b><font color="#E30000">mtr 192.168.25.26</font></b><br/><br/>
                   Matt's traceroute  [v0.52]<br/><br/>
Bigboy                                            Fri Feb 20 17:19:17 2004<br/>
Keys:  D - Display mode    R - Restart statistics    Q - Quit<br/>
                                      Packets               Pings<br/>
Hostname                           %Loss  Rcv  Snt  Last Best  Avg  Worst<br/>
  1. 192.168.1.1                       0%    17   17    32   10   15     32<br/>
  2. 192.168.2.254                     0%    17   17    12   11   18     41<br/>
  3. 192.168.3.15                      0%    17   17    23   14   18     25<br/>
  4. 192.168.18.35                     0%    16   16    24   23   29     42<br/>
  5. 192.168.25.26                     0%    16   16    23   21   26     37<br/>
^C<br/>
[root@bigboy tmp]#<br/><br/><br/><b>One of the nice features of MTR is that it gives you the best, worst and average roundtrip times in milliseconds for the probe packets between each hop along the way to the final destination. The advantage of this is that you can let MTR run for an extended period of time, acting as a constant monitor of communication path quality. The constant refreshing of the screen also enables you to instantaneously spot transient changes in quality fairly easily, making it much more convenient than a regular traceroute.</b><br/><br/>
MTR is automatically installed as part of Fedora Linux. If MTR isn't installed on your system, you can download the RPM software installation package from many of the Fedora download sites. The installation of RPMs is covered in Chapter 6, &quot;Installing Linux Software&quot;. <b>There is even a free Windows version called WinMTR.</b></font></font></div><div style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma"><b><br/></b></font></font></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="white-space: normal;"><font face="Tahoma" style="font-size: 24px;"><font face="Tahoma"><b>Kernel Tuning</b></font></font></div><div style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div style="font-size: 12px; white-space: normal;"><div><font face="Tahoma"><font face="Tahoma"><b>[root@servidorVirtualA sysconfig]# cat /etc/sysctl.conf</b><br/>
# Kernel sysctl configuration file for Red Hat Linux<br/>
#<br/>
# For binary values, 0 is disabled, 1 is enabled.  See sysctl(8) and<br/>
# sysctl.conf(5) for more details.<br/><br/>
# Controls IP packet forwarding<br/>
net.ipv4.ip_forward = 0<br/><br/>
# Controls source route verification<br/>
net.ipv4.conf.default.rp_filter = 1<br/><br/>
# Do not accept source routing<br/>
net.ipv4.conf.default.accept_source_route = 0<br/><br/>
# Controls the System Request debugging functionality of the kernel<br/>
kernel.sysrq = 0<br/><br/>
# Controls whether core dumps will append the PID to the core filename.<br/>
# Useful for debugging multi-threaded applications.<br/>
kernel.core_uses_pid = 1<br/><br/>
# Controls the use of TCP syncookies<br/>
net.ipv4.tcp_syncookies = 1<br/><br/>
# Disable netfilter on bridges.<br/>
net.bridge.bridge-nf-call-ip6tables = 0<br/>
net.bridge.bridge-nf-call-iptables = 0<br/>
net.bridge.bridge-nf-call-arptables = 0<br/><br/><b># Controls the default maxmimum size of a mesage queue<br/>
kernel.msgmnb = 65536<br/><br/>
# Controls the maximum size of a message, in bytes<br/>
kernel.msgmax = 65536<br/><br/>
# Controls the maximum shared segment size, in bytes<br/>
kernel.shmmax = 68719476736<br/><br/>
# Controls the maximum number of shared memory segments, in pages<br/>
kernel.shmall = 4294967296</b></font></font></div></div><div style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma"><b><br/></b></font></font></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="white-space: normal;"><font face="Tahoma" style="font-size: 24px;"><font face="Tahoma"><b>KVM Tuning</b></font></font></div><div style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div style="font-size: 12px; white-space: normal;"><div align="left"><font face="Tahoma"><font face="Tahoma">He habilitado esta opción en las VMs para que tras un reboot puedan arrancar solas en lugar de quedarse esperando por consola en el Grub.</font></font></div><div align="left"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div align="left"><font face="Tahoma"><font face="Tahoma">Otras opciones revisadas tras haberme documentado y considerando que se encuentran en disco local son:</font></font></div><div align="left"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div align="left"><font face="Tahoma"><font face="Tahoma">            VirtIO Disk1 -&gt; Disk bus Virtio (qcow2)</font></font></div><div align="left"><font face="Tahoma"><font face="Tahoma">                                     Performance options -&gt; cache mode : default (writethrough)</font></font></div><div align="left"><font face="Tahoma"><font face="Tahoma">                                     Performance options -&gt; IO mode -&gt; default  (threads)</font></font></div><div align="left"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div align="left"><div align="left"><font face="Tahoma"><font face="Tahoma">For local or direct-attached storage, it is recommended that you use writethrough mode, as it ensures data integrity and has acceptable I/O performance for applications running in the guest, especially for read operations. However, caching mode none is recommended for remote NFS storage, because direct I/O operations (O_DIRECT) perform better than synchronous I/O operations (with O_SYNC). Caching mode none effectively turns all guest I/O operations into direct I/O operations on the host, which is the NFS client in this environment.</font></font></div><div align="left"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div align="left"><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Technical_Notes/virt.html"><font face="Tahoma"><font face="Tahoma">http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Technical_Notes/virt.html</font></font></a></div><div align="left"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div align="left"><font face="Tahoma"><font face="Tahoma">Direct Asynchronous IO (AIO) that is not issued on filesystem block boundaries, and falls into a hole in a sparse file on ext4 or xfs filesystems, may corrupt file data if multiple I/O operations modify the same filesystem block. Specifically, if qemu-kvm is used with the aio=native IO mode over a sparse device image hosted on the ext4 or xfs filesystem, guest filesystem corruption will occur if partitions are not aligned with the host filesystem block size. Generally, do not use aio=native option along with cache=none for QEMU. This issue can be avoided by using one of the following techniques:</font></font></div><div align="left" style="margin: 0mm 0mm 0mm 13mm; text-indent: -6mm;"><font face="Tahoma"><font face="Tahoma">1.   Align AIOs on filesystem block boundaries, or do not write to sparse files using AIO on xfs or ext4 filesystems.</font></font></div><div align="left" style="margin: 0mm 0mm 0mm 13mm; text-indent: -6mm;"><font face="Tahoma"><font face="Tahoma">2.   KVM: Use a non-sparse system image file or allocate the space by zeroing out the entire file.</font></font></div><div align="left" style="margin: 0mm 0mm 0mm 13mm; text-indent: -6mm;"><font face="Tahoma"><font face="Tahoma">3.   KVM: Create the image using an ext3 host filesystem instead of ext4.</font></font></div><div align="left" style="margin: 0mm 0mm 0mm 13mm; text-indent: -6mm;"><font face="Tahoma"><font face="Tahoma">4.   KVM: Invoke qemu-kvm with aio=threads (this is the default).</font></font></div><div align="left" style="margin: 0mm 0mm 0mm 13mm; text-indent: -6mm;"><font face="Tahoma"><font face="Tahoma">5.   KVM: Align all partitions within the guest image to the host's filesystem block boundary (default 4k).</font></font></div><div align="left" style="margin: 0mm 0mm 0mm 13mm; text-indent: -6mm;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div align="left" style="margin: 0mm 0mm 0mm 13mm; text-indent: -6mm;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div></div></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><pre style="font-size: 24px;"><font face="Tahoma"><font face="Tahoma"><b><font face="Tahoma">External Storage: LUNS</font></b></font></font></pre><div align="left" style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma">lsscsi</font></font></div><div align="left" style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma">lsscsi -g</font></font></div><div align="left" style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma">lsscsi -H</font></font></div><div align="left" style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma">lsscsi -vvv</font></font></div><div align="left" style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div align="left" style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma">fdisk -l</font></font></div><div align="left" style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma">fdisk -l /dev/sda</font></font></div><div align="left" style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div align="left" style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma">vgscan</font></font></div><div align="left" style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma">lvscan</font></font></div><div align="left" style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma">pvscan</font></font></div><div align="left" style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div align="left" style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma">vgdisplay vgsystem</font></font></div><div align="left" style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma">lvdisplay  /dev/vgsystem/lv_root</font></font></div><div align="left" style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma">lvdisplay  /dev/vgdata/lv_opt</font></font></div><div align="left" style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma">lvdisplay  /dev/vgdata/lv_home</font></font></div><div align="left" style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><pre style="font-size: 24px;"><font face="Tahoma"><font face="Tahoma"><b><font face="Tahoma">RSYNC Commands: Solaris to Linux data migration, VMs cloning between hypervisors </font></b></font></font></pre><pre style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma">Para migrar datos de gran volumen, sincronizando origen y destino, transfiriendo sólo las diferencias. </font></font></font></pre><pre style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma"><font color="#1C3387">rsync is a file transfer program for Unix systems that synchronizes files and directories from one location to another while minimizing data transfer by using <a href="http://en.wikipedia.org/wiki/Delta_encoding" title="Delta encoding">delta encoding</a> when appropriate.</font> <a href="http://en.wikipedia.org/wiki/Rsync">http://en.wikipedia.org/wiki/Rsync</a> </font></font></font></pre><pre style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font color="#1C3387" face="Tahoma">Rsync can be used for copying/cloning VMs between hypervisors (make sure the VM to be copied is shutdown)</font></font></font></pre><pre style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma"><br/></font></font></font></pre><pre><font><font><font face="Arial" style="font-size: 11px;">rsync -avz --exclude '*.log*' --exclude &quot;*~&quot; <i>/opt/apache/</i> <a href="mailto:tomcat@192.168.200.150:/opt/apache/">tomcat@192.168.xxx.xxx:/opt/apache/</a>

<i>rsync -avz --exclude '*.log*' --exclude &quot;*~&quot; --exclude &quot;m/</i>&quot; <a href="mailto:apache@172.16.200.51:/ihs/common/">apache@192.168.xxx.xxx:/opt/apache/common/</a> <i>/opt/apache/common/</i></font><font face="Tahoma" style="font-size: 12px;"><br/></font></font></font></pre><pre style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><span style="white-space: normal;"><font face="Tahoma"><u>Solaris to Linux from within linux: </u></font></span></font></font></pre><div style="white-space: normal; font-size: 11px;"><font face="Arial"><font>rsync -rv --rsync-path=/usr/local/bin/rsync root@zona-solaris:/opt/apache/common/ /opt/apache/common/ </font>&gt; /tmp/rsync.log</font></div><div style="font-size: 12px; white-space: normal;"><font face="Arial"><br/></font></div><div style="font-size: 12px; white-space: normal;"><h2 style="font-size: 19px;"><a href="http://supportex.net/2011/07/exceptions-copying-directory-rsync/" rel="bookmark" title="Permanent Link to How to exclude directories while using rsync"><font face="Tahoma"><font face="Tahoma"><font size="3" style="font-weight: normal; font-size: 12px;">How to exclude directories while using rsync</font></font></font></a></h2></div></div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px; font-size: 12px;"><div style="white-space: normal;"><div><font face="Tahoma"><font face="Tahoma">Sometimes when you copy a lot of data with rsync you may to exclude some sub-directories. You can do this by using –exclude. </font></font></div><div><font face="Tahoma"><font face="Tahoma">For instance, you want to copy files from /mnt to /home/destination_dir/, and you want to exclude directory /mnt/dir1/dir2/.</font></font></div></div></blockquote><div style="white-space: normal; font-size: 12px;"><div><table style="font-size: 12px;width:514px;"><tbody><tr><td style="width:99.22178988326849%;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><font face="Tahoma"><code>rsync</code> <code>-az  --exclude=</code><code>'dir1/dir2/'</code> <code>/mnt/ /home/destination_dir/</code></font></blockquote></blockquote></td></tr></tbody></table></div></div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px; font-size: 12px;"><div style="white-space: normal;"><div><font face="Tahoma"><font face="Tahoma">A lot of users do mistake when specifing path. This path should be relative to source directory (/mnt in our case).</font></font></div></div></blockquote><div style="white-space: normal;"><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><u>Rsync 3.0.7 binary package for Solaris Sparc 64 (we don't have to compile and build rsync on solaris)</u></font></font></div><div style="font-size: 12px;"><ul><li><a href="http://www.ibiblio.org/pub/packages/solaris/sparc/"><font face="Tahoma"><font face="Tahoma">http://www.ibiblio.org/pub/packages/solaris/sparc/</font></font></a></li></ul><div><font face="Tahoma"><font face="Tahoma"><br/></font></font></div></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="white-space: normal;"><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div><font face="Tahoma"><font face="Tahoma"><b style="font-size: 24px;">Encontrar ficheros modificados recientemente. A quick way to find recently changed files</b><br/><br/><span style="font-size: 12px;">A quick way to find recently changed files is to pass the</span> <b style="font-size: 12px;">-FlAt</b> <span style="font-size: 12px;">flags to</span> <b style="font-size: 12px;">ls</b><span style="font-size: 12px;">. Combined with head, this command can give you a quick overview of recently modified files in a directory. The</span> <b style="font-size: 12px;">-F</b> <span style="font-size: 12px;">option distinguishes certain types of files and directories by adding extra characters (such as '/' for directories, '*' for executables, etc.).</span> <u style="font-size: 12px;">The <b>-t</b> option sorts the entries by the date they were last modified</u><span style="font-size: 12px;">. Piping the output to</span> <b style="font-size: 12px;">head</b> <span style="font-size: 12px;">shows (by default) only 10 entries. </span></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><br/>
     bash$ ls -FlAt | head<br/><br/></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma">Or you can use this and just read backwards: </font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><br/>
     bash$ ls -lart<br/><br/></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma">For more information, see man ls.<br/><br/></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma">Also try: </font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><br/>
     find / -mtime 1<br/><br/></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma">on your system modified within the last twenty-four hours<br/><br/></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma">Try this one as well:</font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><br/>
     find / -daystart -mtime 0 </font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div align="left" style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div align="left" style="white-space: normal; font-size: 24px;"><font face="Tahoma"><font face="Tahoma"><b>Recommendation Tomcat7 tuning: ulimit, file-max, tomcat connectionTimeout &amp; Garbage Collector in Oracle's Java 6 (Hotspot)</b></font></font></div><div align="left" style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div align="left" style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma">Tip: Analyze data collected from sar before deciding what ulimit and file-max parameters you need.</font></font></div></div><ul style="text-align: -webkit-left;"><li style="font-size: 12px;"><a href="http://howtojboss.com/2012/07/27/know-your-ulimits/"></a><a href="http://howtojboss.com/2012/07/27/know-your-ulimits/">http://howtojboss.com/2012/07/27/know-your-ulimits/</a></li><li style="font-size: 12px;"><font face="Tahoma"><a href="http://howtojboss.com/2012/07/27/know-your-ulimits/"></a><a href="http://support.zeus.com/zws/faqs/2005/09/19/filedescriptors" style="text-align: justify;">http://support.zeus.com/zws/faqs/2005/09/19/filedescriptors</a><span style="color: rgb(0, 0, 0); text-align: justify;"> </span></font></li><li style="font-size: 12px;"><a href="http://unixfoo.blogspot.com.es/2008/01/kernel-parameter-file-nr-and-file-max.html" style="text-align: justify;" target="_blank">http://unixfoo.blogspot.com.es/2008/01/kernel-parameter-file-nr-and-file-max.html</a><span style="text-align: justify;"> </span></li><li style="font-size: 12px;"><a href="http://www.elrincondemartin.org/2011/01/ulimit-limitsconf-recursos-del-sistema.html" style="text-align: justify;" target="_blank">http://www.elrincondemartin.org/2011/01/ulimit-limitsconf-recursos-del-sistema.html</a><span style="text-align: justify;"> </span></li><li style="font-size: 12px;"><span style="text-align: justify;"><b><a href="http://www.faqs.org/docs/securing/chap6sec72.html">http://www.faqs.org/docs/securing/chap6sec72.html</a> </b></span></li><li style="font-size: 12px;"><a href="http://serverfault.com/questions/48717/practical-maximum-open-file-descriptors-ulimit-n-for-a-high-volume-system" style="text-align: justify;" target="_blank">http://serverfault.com/questions/48717/practical-maximum-open-file-descriptors-ulimit-n-for-a-high-volume-system</a><span style="text-align: justify;"> </span></li><li style="font-size: 12px;"><b><a href="http://www.cyberciti.biz/faq/linux-increase-the-maximum-number-of-open-files/" style="text-align: justify;" target="_blank">http://www.cyberciti.biz/faq/linux-increase-the-maximum-number-of-open-files/</a><span style="text-align: justify;"> </span></b></li><li style="font-size: 12px;"><a href="http://www.memonic.com/user/pneff/folder/linux/id/1gNgT" style="text-align: justify;" target="_blank">http://www.memonic.com/user/pneff/folder/linux/id/1gNgT</a><span style="text-align: justify;"> </span></li><li style="font-size: 12px;"><a href="http://linux.101hacks.com/monitoring-performance/lsof-command-examples/" style="text-align: justify;" target="_blank">http://linux.101hacks.com/monitoring-performance/lsof-command-examples/</a><span style="text-align: justify;"> </span></li><li style="font-size: 12px;"><a href="http://linux.101hacks.com/monitoring-performance/sysctl-command-examples/" style="text-align: justify;" target="_blank">http://linux.101hacks.com/monitoring-performance/sysctl-command-examples/</a><span style="text-align: justify;"> </span></li><li style="font-size: 12px;"><span style="text-align: justify;">Linux tuning example with Oracle </span><a href="http://superuser.com/questions/432925/installing-oracle-11gr2-on-rhel-6-2">http://superuser.com/questions/432925/installing-oracle-11gr2-on-rhel-6-2</a> </li><li style="font-size: 12px;">Symantec Netbackup tuning example <a href="http://www.symantec.com/business/support/index?page=content&amp;id=TECH167095">http://www.symantec.com/business/support/index?page=content&amp;id=TECH167095</a> </li><li style="font-size: 12px;">Use the /proc filesystem to get a handle on your system (IBM reference) </li><li style="list-style: none; display: inline"><ul><li style="font-size: 12px;"><a href="http://penguinsecurity.net/wiki/index.php?title=Use_the_/proc_filesystem_to_get_a_handle_on_your_system">http://penguinsecurity.net/wiki/index.php?title=Use_the_/proc_filesystem_to_get_a_handle_on_your_system</a> </li><li style="font-size: 12px;"><a href="http://www.ibm.com/developerworks/linux/library/l-adfly/index.html">http://www.ibm.com/developerworks/linux/library/l-adfly/index.html</a> </li></ul></li></ul><div align="left" style="text-align: -webkit-left;"><div align="left" style="white-space: normal;"><pre style="text-align: -webkit-auto; font-size: 16px;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma"><u><b>FILES:</b></u></font></font></font></pre></div></div><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div align="left" style="text-align: -webkit-left;"><div align="left" style="white-space: normal;"><pre style="text-align: -webkit-auto; font-size: 12px;"></pre><div style="font-family: Tahoma; text-align: justify; white-space: normal; font-size: 11px;"><b>cat /proc/sys/fs/file-max</b></div><div style="font-family: Tahoma; text-align: justify; white-space: normal; font-size: 11px;"><b>cat /proc/sys/fs/file-nr</b></div><div style="font-family: Tahoma; text-align: justify; white-space: normal; font-size: 11px;"><b>/etc/sysctl.conf</b></div><div style="font-family: Tahoma; text-align: justify; white-space: normal; font-size: 11px;"><b>/etc/security/limits.conf  (ulimit)</b></div></div></div></blockquote><div align="left" style="text-align: -webkit-left;"><div align="left" style="white-space: normal;"><pre style="text-align: -webkit-auto;"></pre><div><h1 style="font-size: 29px;"><font face="Tahoma"><a name="AEN4692"><font size="3" style="font-size: 16px;">Reference: The file-max parameter</font></a> <a href="http://www.faqs.org/docs/securing/chap6sec72.html" style="white-space: normal; font-size: 12px;">http://www.faqs.org/docs/securing/chap6sec72.html</a></font></h1><p style="font-size: 12px;"><font face="Tahoma">The file-max file <tt>/proc/sys/fs/file-max</tt> sets the maximum number of file-handles that the Linux kernel will allocate. We generally tune this file to improve the number of open files by increasing the value of <tt>/proc/sys/fs/file-max</tt> to something reasonable like 256 for every 4M of RAM we have: i.e. for a machine with 128 MB of RAM, set it to 8192 - 128/4=32 32*256=8192.</font></p><p style="font-size: 12px;"><font face="Tahoma">The default setup for the file-max parameter under Red Hat Linux is: <tt>&quot;4096&quot;</tt> To adjust the value of file-max to 128 MB of RAM, type the following on your terminal:</font></p><div style="font-size: 12px;"><p><font face="Tahoma"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [6].gif" type="image/gif" alt="Version 6.1 only" style="cursor: default; height: auto;"/></font></p></div><table bgcolor="#E0E0E0" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><pre><font face="Tahoma">          [root@deep] /# <b>echo</b> &quot;8192&quot; &gt;/proc/sys/fs/file-max
          
</font></pre></td></tr></tbody></table><font face="Tahoma"><span style="font-size: 12px;">Add the above commands to the</span> <tt style="font-size: 12px;">/etc/rc.d/rc.local</tt> <span style="font-size: 12px;">script file and you'll not have to type it again the next time your server reboots.</span></font><div style="font-size: 12px;"><p><font face="Tahoma"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [7].gif" type="image/gif" alt="Version 6.2 only" style="cursor: default; height: auto;"/></font></p></div><font face="Tahoma"><span style="font-size: 12px;">Edit the</span> <tt style="font-size: 12px;">/etc/sysctl.conf</tt> <span style="font-size: 12px;">file and add the following line:</span></font><table bgcolor="#E0E0E0" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><pre><font face="Tahoma">          # Improve the number of open files
          fs.file-max = 8192
          
</font></pre></td></tr></tbody></table><span style="font-size: 12px;"><font face="Tahoma">You must restart your network for the change to take effect. The command to manually restart the network is the following:</font></span><table bgcolor="#E0E0E0" border="0" style="font-size: 12px;width:4184px;" width="100%"><tbody><tr><td style="width:99.90439770554494%;"><pre><font face="Tahoma">          [root@deep] /# /etc/rc.d/init.d/network <b>restart</b>
          
</font></pre></td></tr></tbody></table><p style="font-size: 12px;"><tt><font face="Tahoma">Setting network parameters [ OK ] Bringing up interface lo [ OK ] Bringing up interface eth0 [ OK ] Bringing up interface eth1 [ OK ]</font></tt></p><div style="font-size: 12px;"><blockquote><p><font face="Tahoma"><b><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [8].gif" type="image/gif" alt="Tip" style="cursor: default; height: auto;"/>:</b> <b>When you regularly receive from your server a lot of messages with errors about running out of open files, you might want to raise this limit. The default value is 4096. A file server or web server needs a lot of open files.</b></font></p></blockquote></div></div><pre style="text-align: -webkit-auto;"><font face="Tahoma"><span style="font-size: 16px;"><b>Reference</b></span><span style="font-size: 12px;"> <a href="https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html-single/Performance_Tuning_Guide/index.html">https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html-single/Performance_Tuning_Guide/index.html</a> 
</span></font></pre><dl><dt><font face="Tahoma"><span style="font-size: 12px;"><em><code><b>file-max</b></code></em></span></font></dt></dl><div><font face="Tahoma"><span style="font-size: 12px;">Lists the maximum number of file handles that the kernel allocates. The default value is <code>4096</code>. <b>Raising this value can resolve errors caused by a lack of available file handles.</b></span></font></div><div><font face="Tahoma"><span style="font-size: 12px;"><br/></span></font></div><pre style="text-align: -webkit-auto; font-size: 16px;"><font face="Tahoma"><span style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma"><u><b>EXAMPLE A (user space limits):</b></u></font></font></font></span></font></pre><pre style="text-align: -webkit-auto; font-size: 12px;"><font face="Tahoma"><span style="font-size: 12px;"><span style="white-space: normal; text-align: -webkit-left;">     </span><font face="Tahoma"><font face="Tahoma"><font face="Tahoma"><u><b>/etc/security/limits.conf :</b></u></font></font></font></span></font></pre><pre style="text-align: -webkit-auto; font-size: 12px;"><font face="Tahoma"><span style="white-space: normal; text-align: -webkit-left;">     </span><font face="Tahoma"><font face="Tahoma"><font face="Tahoma">tomcatp soft nofile 32768<br/></font></font></font>     <font face="Tahoma"><font face="Tahoma"><font face="Tahoma">tomcatp hard nofile 65536<br/><br/></font></font></font>     <font face="Tahoma"><font face="Tahoma"><font face="Tahoma">tomcatp soft nproc 16384<br/></font></font></font>     <font face="Tahoma"><font face="Tahoma"><font face="Tahoma">tomcatp hard nproc 16384</font></font></font></font></pre><pre style="text-align: -webkit-auto; font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma"><br/></font></font></font></font></pre><pre style="text-align: -webkit-auto; font-size: 12px;"><font face="Tahoma"><span style="white-space: normal; text-align: -webkit-left;">     </span><font face="Tahoma"><font face="Tahoma"><font face="Tahoma">[tomcat@servidorVirtualATomcat ~]$ <b>ulimit -Sn</b><br/></font></font></font>     <font face="Tahoma"><font face="Tahoma"><font face="Tahoma">32768<br/></font></font></font>     <font face="Tahoma"><font face="Tahoma"><font face="Tahoma">[tomcat@servidorVirtualATomcat ~]$ <b>ulimit -Hn</b><br/></font></font></font>     <font face="Tahoma"><font face="Tahoma"><font face="Tahoma">65536<br/><br/></font></font></font></font></pre><pre style="text-align: -webkit-auto;"></pre><div style="font-family: Tahoma; text-align: justify; white-space: normal; font-size: 16px;"><font face="Tahoma"><u><b>EXAMPLE B:</b></u></font></div><div style="font-family: Tahoma; text-align: justify; white-space: normal; font-size: 11px;"><font face="Tahoma"><br/></font></div><div style="font-family: Tahoma; text-align: justify; white-space: normal; font-size: 11px;"><font face="Tahoma"><span style="text-align: -webkit-auto;">     </span><u><b>KERNEL SPACE MAXIMUM OPEN FILES (in the whole system): 4096 by default in RHEL, ~75.000 in large systems with Oracle/SAP</b></u></font></div><div style="font-family: Tahoma; text-align: justify; white-space: normal; font-size: 11px;"><font face="Tahoma"><br/></font></div><div style="font-family: Tahoma; text-align: justify; white-space: normal;"><div><font face="Tahoma">     <b>/etc/sysctl.conf ('</b>sysctl -p' to apply changes on the system<b>)</b></font></div><div style="font-size: medium;"><font face="Tahoma"><br/></font></div><div style="font-size: medium;"><font face="Tahoma">     # Maximum Number of Open Files / File Descriptors<br/>
     fs.file-max=100000<br/></font></div><div><font face="Tahoma">      #fs.file-max=300000</font></div></div><div style="font-family: Tahoma; text-align: justify; white-space: normal; font-size: 11px;"><font face="Tahoma"><br/></font></div><div style="font-family: Tahoma; text-align: justify; white-space: normal; font-size: 11px;"><font face="Tahoma"><span style="text-align: -webkit-auto;">     </span><b><u>USER SPACE MAXIMUM OPEN FILE (per user ID):</u></b></font></div><div style="font-family: Tahoma; text-align: justify; white-space: normal; font-size: 11px;"><font face="Tahoma"><br/></font></div><div style="font-family: Tahoma; text-align: justify; white-space: normal; font-size: medium;"><font face="Tahoma"><span style="text-align: -webkit-auto;">     </span><b>/etc/security/limits.conf</b></font></div><div style="font-family: Tahoma; text-align: justify; white-space: normal; font-size: medium;"><font face="Tahoma"><br/></font></div><div style="font-family: Tahoma; text-align: justify; white-space: normal; font-size: medium;"><font face="Tahoma">     root soft nofile 32768<br/>
     root hard nofile <span style="font-size: 12px; text-align: -webkit-auto;">65536</span><br/>
     </font></div><div style="font-family: Tahoma; text-align: justify; white-space: normal; font-size: medium;"><font face="Tahoma">     # same value for soft nproc and hard nproc:<br/>
     root - nproc <span style="font-size: 12px; text-align: -webkit-auto;">16384</span> </font></div><div style="font-family: Tahoma; text-align: justify; white-space: normal; font-size: medium;"><font face="Tahoma"><br/></font></div><pre style="text-align: -webkit-auto; font-size: 16px;"><font face="Tahoma"><font face="Tahoma"><b><u>EXAMPLE C:</u></b></font></font></pre><pre style="text-align: -webkit-auto; font-size: 16px;"><font face="Tahoma"><span style="font-size: 12px; font-family: Tahoma; text-align: -webkit-left; white-space: normal;">Web server tuning example </span><a href="http://gadelkareem.com/2012/02/25/increase-linux-file-descriptors/" style="font-size: 12px; font-family: Tahoma; text-align: -webkit-left; white-space: normal;">http://gadelkareem.com/2012/02/25/increase-linux-file-descriptors/</a></font></pre><ul style="white-space: normal; font-size: medium; text-align: -webkit-left;"><li style="font-family: Tahoma;"><pre style="font-size: 12px;"><font face="Tahoma"><span style="color: rgb(102, 102, 102); font-style: italic;"><font face="Courier New">#adduser www first http://gadelkareem.com/2012/02/26/adding-new-users-and-admins-to-linux-server/<span style="color: rgb(122, 8, 116); font-weight: bold;">ulimit</span> <span style="color: rgb(102, 0, 51);">-n</span> unlimited - www
</font></span></font></pre><pre style="font-size: 12px;"><font face="Courier New"><span style="color: rgb(102, 102, 102); font-style: italic;">#check default number of concurrently open file descriptors </span><span style="color: rgb(194, 12, 185); font-weight: bold;">cat</span> <span style="font-weight: bold;">/</span>proc<span style="font-weight: bold;">/</span>sys<span style="font-weight: bold;">/</span>fs<span style="font-weight: bold;">/</span>file-max
<span style="color: rgb(102, 102, 102); font-style: italic;">#set the number to high value depending on server config</span></font></pre><pre style="font-size: 12px;"><font face="Courier New"><span style="color: rgb(122, 8, 116); font-weight: bold;">echo</span> <span style="color: rgb(255, 0, 0);">'1773914'</span> <span style="font-weight: bold;">&gt;</span> <span style="font-weight: bold;">/</span>proc<span style="font-weight: bold;">/</span>sys<span style="font-weight: bold;">/</span>fs<span style="font-weight: bold;">/</span>file-max
<span style="color: rgb(122, 8, 116); font-weight: bold;">echo</span> <span style="color: rgb(255, 0, 0);">'fs.file-max=1773914'</span> <span style="font-weight: bold;">&gt;&gt;</span> <span style="font-weight: bold;">/</span>etc<span style="font-weight: bold;">/</span>sysctl.conf
<span style="font-weight: bold;">/</span>sbin<span style="font-weight: bold;">/</span>sysctl <span style="color: rgb(102, 0, 51);">-w</span> fs.file-max=1773914</font></pre><pre style="font-size: 12px;"><br/><font face="Courier New">- increasing group limits</font></pre><div style="font-size: 12px;"><table style="width:601px;"><tbody><tr><td style="width:99.33444259567388%;"><pre><font face="Courier New"><span style="color: rgb(194, 12, 185); font-weight: bold;">vi</span> <span style="font-weight: bold;">/</span>etc<span style="font-weight: bold;">/</span>security<span style="font-weight: bold;">/</span>limits.conf
<span style="color: rgb(102, 102, 102); font-style: italic;">#add</span><span style="font-weight: bold;">@</span>www       -    nofile        1000000<span style="font-weight: bold;">@</span>www           -    nproc          unlimited
<span style="font-weight: bold;">@</span>www           -    memlock       unlimited
<span style="font-weight: bold;">@</span>www           -    locks         unlimited
<span style="font-weight: bold;">@</span>www           -    core          unlimited
 
<span style="font-weight: bold;">@</span>mysql           -    nofile        1000000<span style="font-weight: bold;">@</span>mysql       -    nproc          unlimited
<span style="font-weight: bold;">@</span>mysql           -    memlock       unlimited
<span style="font-weight: bold;">@</span>mysql           -    locks         unlimited
<span style="font-weight: bold;">@</span>mysql           -    core          unlimited</font></pre><pre><font color="#FF0000" face="Courier New"><span style="font-weight: bold;">/</span>etc<span style="font-weight: bold;">/</span>init.d<span style="font-weight: bold;">/</span>network restart   <u>(</u></font><font color="#FF0000"><u><span style="font-size: 12px; font-family: Tahoma; text-align: -webkit-left;">You must restart your network for the change to take effect</span><span style="font-family: &apos;Courier New&apos;; font-size: 12px; text-align: -webkit-left; white-space: normal;">)</span></u></font></pre></td></tr></tbody></table></div></li></ul><pre style="text-align: -webkit-auto; font-size: 16px;"><font face="Tahoma"><font face="Tahoma"><b><font face="Tahoma"><u>tomcat7 server.xml:</u></font></b></font></font></pre><pre style="text-align: -webkit-auto; font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma">    &lt;Connector port=&quot;90xx&quot; protocol=&quot;HTTP/1.1&quot;<br/>               <b>connectionTimeout=&quot;40000&quot; -&gt; &quot;<font color="#FF0000">10000</font>&quot; (10 sec)</b><br/>               enableLookups=&quot;false&quot; URIEncoding=&quot;UTF-8&quot; useBodyEncodingForURI=&quot;true&quot;<br/>               maxThreads=&quot;5000&quot;<br/>               redirectPort=&quot;84xx&quot; emptySessionPath=&quot;true&quot; /&gt;<br/><br/></font></font></font></pre><pre style="text-align: -webkit-auto; font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma">        &lt;Connector port=&quot;8xxx&quot; protocol=&quot;HTTP/1.1&quot; SSLEnabled=&quot;true&quot;<br/>               <span style="white-space: normal;"><b>connectionTimeout=&quot;10000&quot; (10 sec) </b></span>maxThreads=&quot;150&quot; scheme=&quot;https&quot; enableLookups=&quot;false&quot; disableUploadTimeout=&quot;true&quot; URIEncoding=&quot;UTF-8&quot; useBodyEncodingForURI=&quot;true&quot;</font></font></font></pre><pre style="text-align: -webkit-auto; font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma"><br/></font></font></font></pre><pre style="text-align: -webkit-auto; font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font color="#FF0000" face="Tahoma"><b>Most recommended options with Oracle Java 6 are -XX:+UseConcMarkSweepGC -XX:+CMSIncrementalMode</b></font></font></font></pre><pre style="text-align: -webkit-auto; font-size: 12px;"><font face="Tahoma">The command-line option <code><b>-XX:+PrintTenuringDistribution</b></code> can be used to show this threshold and the ages of objects in the new generation. It is also useful for observing the lifetime distribution of an application.
</font></pre><pre style="text-align: -webkit-auto; font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma">Increase the young generation size as you increase the number of processors, since allocation can be parallelized.
</font></font></font></pre><pre style="text-align: -webkit-auto; font-size: 12px;"><font face="Tahoma">The <em><b>concurrent collector</b></em> performs most of its work concurrently (i.e., while the application is still running) to keep garbage collection pauses short. <span style="white-space: normal;">It is designed for applications with medium- to large-sized data sets for which response time is more important than overall throughput, since the techniques used to minimize pauses can reduce application performance. The concurrent collector is enabled with the option </span><code style="white-space: normal;"><b>-XX:+UseConcMarkSweepGC</b></code><span style="white-space: normal;">.</span></font></pre><pre style="text-align: -webkit-auto; font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma">If response time is more important than overall throughput and garbage collection pauses must be kept shorter than approximately one second, then
</font></font></font></pre><ul style="text-align: -webkit-auto; font-size: 12px;"><li>select the concurrent collector with <code>-XX:+UseConcMarkSweepGC</code>. If only one or two processors are available, consider using <a href="http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html#icms">incremental mode</a>, described below.</li></ul><pre style="text-align: -webkit-auto; font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma">If the recommended collector does not achieve the desired performance, first attempt to adjust the heap and generation sizes to meet the desired goals. If still unsuccessful, then try a different collector: use the concurrent collector to reduce pause times and use the parallel collector to increase overall throughput on multiprocessor hardware.</font></font></font></pre></div><div align="left" style="white-space: normal; font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div align="left" style="white-space: normal; font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><b><font color="#FF0000">-XX:+UseCodeCacheFlushing  -&gt; </font></b>this new feature will help to provide greater performance and uptime for long running java applications.</font></font></div><div align="left" style="white-space: normal; font-size: 12px;"><font face="Tahoma"><font face="Tahoma"> <a href="http://blogs.amd.com/developer/2010/04/12/better-uptime-for-long-running-java-applications/">http://blogs.amd.com/developer/2010/04/12/better-uptime-for-long-running-java-applications/</a></font></font></div><div align="left" style="white-space: normal; font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div><div align="left" style="white-space: normal; font-size: 12px;"><b><a href="https://twitter.com/JavaTune">https://twitter.com/JavaTune</a> ***</b></div><div align="left" style="white-space: normal; font-size: 12px;"><a href="http://xmlandmore.blogspot.com.es/2012/10/hotspot-vm-performance-tips.html">http://xmlandmore.blogspot.com.es/2012/10/hotspot-vm-performance-tips.html</a> </div><div align="left" style="white-space: normal; font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><br/></font></font></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto; font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><b><u><br/></u></b></font></font></div><div style="font-size: 24px;"><font face="Tahoma"><font face="Tahoma"><b>Recommendation: </b><b>non-root</b><b> ports &gt; 1024 for balanced Apache. UID and GID &gt; 1000 for apache and tomcat processes</b></font></font></div><pre style="white-space: normal; text-align: -webkit-left; font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font face="Tahoma">Se han creado cuentas de usuario apache y tomcat para los servicios Apache y Tomcat respectivamente,<b> con UID/GID &gt; 1000 para separarlos de los UID/GID de sistema</b> (nuestro despliegue de Apache y Tomcat no forma parte del sistema de paquetes - YUM - de RHEL). Al haber configurado el entorno WebApp en puertos NO ROOT &gt; 1024 y con chown apache y tomcat, <b>se recomienda el uso de las cuentas apache y tomcat para la gestión de estos servicios y sus datos</b> (arrance, parada, despliegue de nueva versión de datos WebApp,...), <font color="#FF0000" style="font-weight: bold;">SEPARANDO SISTEMA DE DATOS</font>, y<b> evitando hacer uso de las cuentas root para</b>, por ejemplo, <b>no dañar el sistema por error. </b>También se recomienda hacer uso de cuentas de usuario personales, acceso root restringido a unos pocos mediante certificados SSH en lugar de passwords sencillos, etc. Las aplicaciones WebApp deberían ejecutarse con usuarios sin privilegios (apache, tomcat, jboss-as, etc) y en nuestro apache redundado y balanceado con puertos no root &gt; 1024 <b>para que los operadores/desarrolladores puedan arrancar y parar los servicios sin ser root (separando sistema de datos y responsabilidades, limitando el uso de root para evitar errores humanos). </b></font></font></font></pre><pre style="white-space: normal; text-align: -webkit-left; font-size: 12px;"></pre><div style="font-size: 12px;"><pre style="text-align: -webkit-auto;"><font face="Tahoma"><font face="Tahoma"><span style="white-space: normal;"><font face="Tahoma">Con balanceadores Hardware HTTP, en lugar de configurar los apache con puertos 80 y 443,<font color="#FF0000"> se recomienda utilizar puertos NO ROOT para las instancias de apache</font> (&gt;1024, p.e. 1080, 1180, 1280, 10443, 11443, 12443, etc.),<font color="#FF0000"> SEPARANDO SISTEMA DE DATOS</font>, donde usuario no root apache y tomcat puedan gestionar sus aplicaciones sin privilegios root (lo habitual es tener Apache configurado con directivas User y Group 'apache' no root para los procesos hijos del proceso padre que se ejecuta como root por estar vinculado a puertos root 80 y 443)<b>. De igual modo, se recomienda no hacer uso de Apache-SSL y trasladar el SSL a los balanceadores HW, liberando así la CPU de las VM con Apache (<u>SSL consume muchos recursos de CPU</u>).</b></font></span></font></font></pre></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font color="#1C3387">'apache' and 'tomcat' user accounts have been created for running Apache &amp; Tomcat services with UID/GID &gt; 1000 (UID/GID for system processes are below 1000, <b>our Apache &amp; Tomcat deployment do not belong to RHEL package system</b>). Running Apache and Tomcat processes above 1024 TCP ports (no root ports) allow us to operate them with no root privileges: start, stop, software/data deployment, etc. The goal is to <b>separate Data from System</b>, making sure <b>we only log in as root when strictly required</b>. Operators and WebApp admins have now access to WebApp operations without having full root privileges.  </font></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font color="#1C3387"><br/></font></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font color="#1C3387">Another good reason to run Apache with </font><font color="#1C3387">non-root</font><font color="#1C3387"> ports is our Hardware HTTP Load Balancers with SSL certificates. These HTTP Balancers will attend requests on 80 and 443 (SSL) ports on the Internet (public network),  balancing traffic over our Apache nodes running on non root ports (80 and 443 ports on Apache are not required as our Apaches are not reachable from Internet). Example of Apache ports: 1080, 1180, 1280, 10443, 11443, 12443, etc (latest 3 ports for SSL are useless if our balancers can server public SSL traffic). Another advantage of not setting up HTTP-SSL on Apache is to avoid overloading our Virtual Machines <b>(serving SSL data requires a big amount of CPU usage).</b></font></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font color="#1C3387"><b><br/></b></font></font></font></div><pre style="white-space: normal; text-align: -webkit-auto; font-size: 12px;"></pre><div><pre style="white-space: normal; font-size: 24px;"><font face="Tahoma"><font face="Tahoma"><b>Recommendation: User accounts management and security</b></font></font></pre><pre style="font-size: 12px; white-space: normal;"></pre><div style="font-size: 12px;"><pre style="white-space: normal;"><font face="Tahoma"><font face="Tahoma"><b>La gestión de cuentas de usuario</b> no ha de ser centralizada (tipo NIS, LDAP, kerberos; servicios de red casi nunca utilizados por los clientes), y <b>puede automatizarse via shell scripting</b> desde un mismo nodo (linux en máquina virtual de escritorio?) y atacando varias máquinas (alta y baja de usuarios, cambio de password, etc). Estos scripts no se incluyen aquí pero existen numerosas referencias en Internet (con un bucle para recorrer una lista de servidores, con certificados SSH con passphrase para ejecutar remótamente comandos root, 'expect' para automatizar el cambio de password, etc). 
</font></font></pre><pre style="white-space: normal;"><font face="Tahoma"><font face="Tahoma">Una gestión centralizada de cuentas de usuario sería una dependencia más sobre los servicios de red tipo NIS ó Kerberos (Network Authentication). Una ventaja de hacer uso de cuentas de usuario con autenticación local es la no dependencia de un servicio de red para conceder el acceso.<b> Quizás una autenticación local de usuarios (sin autenticación de red) sea conveniente para instalaciones pequeñas y gestionadas con automatización de shell scripting</b>.
</font></font></pre></div><pre style="font-size: 12px; white-space: normal;"></pre><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><font color="#1C3387">User accounts management </font><i><font color="#1C3387">(creation, removal, password reset,...)</font></i><font color="#1C3387"> doesn't have to be centralized like in NIS or LDAP/kerberos (Network Authentication is good to have but hardly ever set up by customers). Instead, non-centralized user accounts management can be automated via shell scripting from within one single node or workstation. There are many references on the Internet about how to accomplish this on multiple servers </font><i><font color="#1C3387">via remote shell scripting automation</font></i><font color="#1C3387">: a loop/for script for working on a list of servers, secured </font><span style="color: rgb(28, 51, 135);">remote execution of root commands with the help of </span><span style="color: rgb(28, 51, 135);">SSH certificates and a passphrase, 'expect' for automatically resetting user accounts' passwords, etc.</span></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><span style="color: rgb(28, 51, 135);"><br/></span></font></font></div><div style="font-size: 12px;"><font face="Tahoma"><font face="Tahoma"><span style="color: rgb(28, 51, 135);">Centralized user accounts management depends on a Network Authentication protocol like NIS or Kerberos. An advantage of local authentication is its lack of dependency on a network service for granting access. <b>Perhaps a locally authenticated user accounts management (without Network Authentication) is more appropriate on small infrastructures than can be quickly managed by shell scripting automation</b>. </span></font></font></div><pre style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma"><i><font color="#1C3387"><b>Tip 1: use SSH certificates with a passphrase for gaining root access (disabling password root access but enabling SSH certificates root access).</b> Also make sure your users (operators, developers,...) have a non shared user account (one per user) and give them 'sudo access' to specifc operations that require privileges.<b> </b></font></i></font></font></pre><pre style="font-size: 12px; white-space: normal;"><font face="Tahoma"><font face="Tahoma"><i><font color="#1C3387"><b>Tip 2: In case of using shared user accounts </b>follow this idea: <b>A) 'root' account </b>for system administrator. <b>B) 'adm' account </b>for WebApp administrators/developers with less privileges (start/stop/restart web services and perhaps full access to some filesystems). <b>C) 'oper' account </b>for operators with monitoring, backup, reboot and restart privileges. </font></i></font></font></pre><pre style="font-size: 12px; white-space: normal;"></pre><div style="font-size: 12px;"><pre style="white-space: normal;"><font face="Tahoma"><font face="Tahoma"><i><font color="#1C3387"><b>Tip 3: In case of using one account per user, set up several 'adm' and 'oper'  accounts like 'adm1', 'adm2', 'adm3',.., 'oper1','oper2','oper3', etc. </b></font></i></font></font></pre><pre style="white-space: normal;"><font face="Tahoma"><font face="Tahoma"><i><font color="#1C3387"><b>Tip 4: Do NOT use the same 5-10 passwords for gaining root access to a large number of servers! This is quite common and also why SSH keys with passphrase should be used instead.</b></font></i></font></font></pre></div><pre style="font-size: 12px; white-space: normal;"></pre><h2 style="font-size: 19px;"><font face="Tahoma"><font face="Tahoma"><font size="3" style="font-size: 12px;"><u>Authentication and Interoperability in RHEL6.3:</u></font><font size="3" style="font-weight: normal; font-size: 12px;"> </font></font></font></h2></div></div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px; font-size: 12px;"><div align="left" style="text-align: -webkit-left;"><div><pre style="white-space: normal;"></pre><h2 style="font-size: 19px;"><a href="https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html-single/6.3_Release_Notes/index.html#authentication_interoperability"><font face="Tahoma"><font face="Tahoma"><font size="3" style="font-weight: normal; font-size: 12px;">https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html-single/6.3_Release_Notes/index.html#authentication_interoperability</font></font></font></a></h2></div></div></blockquote><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px; font-size: 12px;"><div align="left" style="text-align: -webkit-left;"><pre style="white-space: normal;"></pre><h5><font face="Tahoma"><font face="Tahoma"><font size="3" style="font-size: 12px;">Support for central management of SSH keys</font></font></font></h5><pre><font face="Tahoma"><font face="Tahoma">
Previously, it was not possible to centrally manage host and user SSH public keys. <u>Red Hat Enterprise Linux 6.3 includes SSH public key management for Identity Management servers as a Technology Preview</u>. OpenSSH on Identity Management clients is automatically configured to use public keys which are stored on the Identity Management server. SSH host and user identities can now be managed centrally in Identity Management.</font></font></pre><div><h5><font face="Tahoma"><font face="Tahoma"><font size="3" style="font-size: 12px;">SELinux user mapping</font></font></font></h5><font face="Tahoma"><font face="Tahoma">Red Hat Enterprise Linux 6.3 introduces the ability to control the SELinux context of a user on a remote system. SELinux user map rules can be defined and, optionally, associated with HBAC rules. These maps define the context a user receives depending on the host they are logging into and the group membership. When a user logs into a remote host which is configured to use SSSD with the Identity Management backend, the user's SELinux context is automatically set according to mapping rules defined for that user. For more information, refer to <a href="http://freeipa.org/page/SELinux_user_mapping">http://freeipa.org/page/SELinux_user_mapping</a>. This feature is considered a Technology Preview.</font></font></div><div><h5><font face="Tahoma"><font face="Tahoma"><font size="3" style="font-size: 12px;">Multiple required methods of authentication for sshd</font></font></font></h5>
SSH can now be set up to require multiple ways of authentication (whereas previously SSH allowed multiple ways of authentication of which only one was required for a successful login); for example, logging in to an SSH-enabled machine <em>requires</em> both a passphrase and a public key to be entered. The <code>RequiredAuthentications1</code> and <code>RequiredAuthentications2</code> options can be configured in the <code>/etc/ssh/sshd_config</code> file to specify authentications that are required for a successful log in. For example:</div><pre><font face="Tahoma">~]# <code>echo &quot;RequiredAuthentications2 publickey,password&quot; &gt;&gt; /etc/ssh/sshd_config</code></font></pre><pre style="white-space: normal;"><font face="Tahoma">For more information on the aforementioned <code>/etc/ssh/sshd_config</code> options, refer to the <code>sshd_config</code> man page. 
</font></pre></div></blockquote><div align="left" style="text-align: -webkit-left; font-size: 12px;"><div><pre style="white-space: normal;"></pre><h2 style="font-size: 19px;"><font face="Tahoma"><font face="Tahoma"><font size="3" style="font-size: 12px;"><u>Configuring Authentication</u><span style="font-weight: normal;"> </span></font></font></font></h2></div></div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px; font-size: 12px;"><div align="left" style="text-align: -webkit-left;"><div><pre style="white-space: normal;"></pre><h2 style="font-size: 19px;"><a href="https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/ch-Configuring_Authentication.html" style="font-weight: normal;"><font face="Tahoma"><font face="Tahoma"><font size="3" style="font-size: 12px;">https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/ch-Configuring_Authentication.html</font></font></font></a></h2></div></div></blockquote><div align="left" style="text-align: -webkit-left; font-size: 12px;"><div><pre style="white-space: normal;"></pre><div><font face="Tahoma"><font face="Tahoma"><font size="3" style="font-size: 12px;"><b><u>RHEL 6.3 Identity Management:</u></b><span style="font-weight: normal;"> </span></font></font></font></div></div></div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><div align="left" style="text-align: -webkit-left;"><div style="font-size: 12px;"><pre style="white-space: normal;"></pre><div><a href="https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/pdf/Identity_Management_Guide/Red_Hat_Enterprise_Linux-6-Identity_Management_Guide-en-US.pdf"></a><a href="https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/pdf/Identity_Management_Guide/Red_Hat_Enterprise_Linux-6-Identity_Management_Guide-en-US.pdf">https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/pdf/Identity_Management_Guide/Red_Hat_Enterprise_Linux-6-Identity_Management_Guide-en-US.pdf</a></div></div><div style="font-size: 12px;"><a href="https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/pdf/Identity_Management_Guide/Red_Hat_Enterprise_Linux-6-Identity_Management_Guide-en-US.pdf"><font face="Tahoma"><br/></font></a></div></div></blockquote><u style="font-size: 12px;"><b>Linux Access Control Lists: Set Access Control List Using <font color="#FF0000">Setfacl</font> And <font color="#FF0000">Getfacl</font> Commands</b></u> <a href="http://www.expertslogin.com/linux-administration/linux-set-access-control-list-using-setfacl-and-getfacl-commands/" style="font-size: 12px;">http://www.expertslogin.com/linux-administration/linux-set-access-control-list-using-setfacl-and-getfacl-commands/</a><span style="font-size: 12px;"> </span><font color="#0000EE" style="font-size: 12px;"><u><br/></u></font><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><div align="left" style="text-align: -webkit-left;"><font face="Tahoma"><font face="Tahoma">  </font></font></div></blockquote><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto; white-space: normal;"><div style="font-size: 12px;"><br/></div><div style="font-size: 11px;"><font face="Times New Roman">groupadd -g 1000 apache<br/></font><div><font face="Times New Roman">groupadd -g 1001 tomcat</font></div><div><font face="Times New Roman">groupadd -g 1002 adm</font></div><div><font face="Times New Roman">groupadd -g 1003 oper</font></div><font face="Times New Roman"><br/></font></div><div style="font-size: 11px;"><font face="Times New Roman">useradd -u 1000 -g 1000 -c &quot;Apache&quot; -d /opt/apache -m -s /bin/bash apache<br/>
useradd -u 1001 -g 1001 -c &quot;Apache Tomcat&quot; -d /opt/apache -m -s /bin/bash tomcat<br/></font><div><font face="Times New Roman">useradd -u 1002 -g 1002 -c &quot;admin 1&quot; -d /home/adm1 -m -s /bin/bash adm1<br/></font><div><font face="Times New Roman">useradd -u 1003 -g 1002 -c &quot;admin 2&quot; -d /home/adm2 -m -s /bin/bash adm2</font></div></div><div><font face="Times New Roman">useradd -u 1004 -g 1003 -c &quot;oper1&quot; -d /home/oper1 -m -s /bin/bash oper1<br/></font><div><font face="Times New Roman">useradd -u 1005 -g 1003 -c &quot;oper2&quot; -d /home/oper2 -m -s /bin/bash oper2</font></div><font face="Times New Roman"><br/></font></div></div><div style="font-size: 11px;"><font face="Times New Roman">passwd apache<br/>
passwd tomcat<br/></font></div><div style="font-size: 11px;"><div><font face="Times New Roman">passwd adm1<br/></font><div><font face="Times New Roman">passwd adm2</font></div></div></div><div style="font-size: 11px;"><font face="Times New Roman">passwd oper1<br/>
passwd oper2<br/><br/></font><div><font face="Times New Roman">usermod -a -G apache adm1<br/></font><div><font face="Times New Roman">usermod -a -G apache adm2</font></div></div></div><div style="font-size: 11px;"><font face="Times New Roman">usermod -a -G tomcat adm1<br/></font><div><font face="Times New Roman">usermod -a -G tomcat adm2</font></div></div><div style="font-size: 11px;"><div><font face="Times New Roman">usermod -a -G oper adm1<br/></font></div><div><font face="Times New Roman">usermod -a -G oper adm2</font></div></div><div style="font-size: 11px;"><div><font face="Times New Roman">id adm1</font></div><div><font face="Times New Roman">id adm2</font></div></div><div style="font-size: 11px;"><font face="Times New Roman">id oper1</font></div><div style="font-size: 11px;"><font face="Times New Roman">id oper2</font></div><div style="font-size: 12px;"><span style="font-size: 24px;"><br/></span></div></div><hr/><div style="text-align: -webkit-auto; white-space: normal;"><div style="font-size: 24px;"><br/></div></div></div></div><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto; white-space: normal;"><div style="font-size: 24px;"><b>Recommendation: 'UseDNS no' in /etc/ssh/sshd_config (internal addresses)</b></div><div><h1 style="font-size: 25px;"><font size="3" style="font-size: 12px;">SSH slow to login? Disable reverse DNS lookup</font></h1></div><div style="font-size: 12px;">By default in RHEL (and probably other distributions), when you log into the SSH server, it will do a reverse DNS lookup of the client for security reasons.</div><div style="font-size: 12px;"><p>That’s fine, but it’s kind of annoying when you don’t have a working reverse DNS for your IP address. Like for all my internal addresses.</p><p>To turn it off:</p><p>Edit /etc/ssh/sshd_config and add the following line:</p><pre>
   UseDNS no
</pre><div><span style="font-family: Tahoma; white-space: normal;">And restart ssh server (ssh sessions won't be dropped)</span></div><div><span style="font-family: Tahoma; white-space: normal;"><br/></span></div></div><div style="font-size: 12px;">     <b>service sshd restart</b></div><div style="font-size: 12px;"><b><br/></b></div><div style="font-size: 12px;"><b>Your trouble SSH sessions won't be slow to login any longer (1 second instead of 10 seconds)</b></div><div><pre style="text-align: -webkit-left; white-space: normal; font-size: 24px;"><b><font face="Tahoma">Recommendation: Configuration example of hardware HTTP balancers with non-root ports for Apache</font></b></pre></div><div style="font-size: 12px;">Nota: en rojo los puertos para tráfico SSL de Apache que resultan prescindibles. Como los nuevos balanceadores hardware admiten certificados y tráfico SSL, no son necesarias las instancias SSL de Apache. Redirigimos/Balanceamos los puertos 443 de los balanceadores hardware hacia los puertos NO SSL de Apache. De esta forma liberamos de CPU las VM con Apache al no tener que gestionar tráfico encriptado (el más costoso a nivel de CPU).</div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><font color="#1C3387">Apache SSL ports highlighted in red should not be set up. Default 443 SSL ports </font><span style="color: rgb(28, 51, 135);">reachable from Internet </span><span style="color: rgb(28, 51, 135);">run on hardware HTTP balancers, balancing HTTP and HTTP-SSL traffic onto our &quot;HTTP-only&quot; Apache servers (unreachable from Internet, no SSL traffic required internally). Also take into account that <b>enabling SSL in our Apaches would require a large amount of VM CPU usage.</b></span></div><div style="font-size: 12px;"><font color="#1C3387"><b><br/></b></font></div><div style="font-size: 12px;"><a href="RHEL6_KVM_Tomcat_DellR720_deployment_files/ConfigurationExampleHW-HTTP-balancers.ods"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/d2dada084c3d267ab3c7d5c30a1ececd.png" alt="ConfigurationExampleHW-HTTP-balancers.ods"></a><font color="#1C3387"><b><br/></b></font></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><table border="0" cellspacing="0" style="width:923px;"><colgroup width="30"></colgroup><colgroup span="3" width="85"></colgroup><colgroup width="43"></colgroup><colgroup width="85"></colgroup><tbody><tr><td align="center" bgcolor="#FFFF99" height="41" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000;width:9.390421581989942%;" valign="middle"><b><font face="Times New Roman" size="1">Pool Name</font></b></td><td align="center" bgcolor="#FFFF99" colspan="2" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000;width:19.824223339756546%;" valign="middle"><b><font face="Times New Roman" size="1">Public IP (Natted)</font></b></td><td align="center" bgcolor="#FFFF99" colspan="2" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000;width:19.824223339756546%;" valign="middle"><b><font face="Times New Roman" size="1">Virtual Server</font></b></td><td align="center" bgcolor="#FFFF99" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000;width:9.390421581989942%;" valign="middle"><b><font face="Times New Roman" size="1">Virtual IP</font></b></td><td align="center" bgcolor="#FFFF99" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000;width:3.791982665222102%;" valign="middle"><b><font face="Times New Roman" size="1">Port</font></b></td><td align="center" bgcolor="#FFFF99" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000;width:9.390421581989942%;" valign="middle"><b><font face="Times New Roman" size="1">Node Name (VM)</font></b></td><td align="center" bgcolor="#FFFF99" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000;width:9.390421581989942%;" valign="middle"><b><font face="Times New Roman" size="1">hypervisor (physical machine)</font></b></td><td align="center" bgcolor="#FFFF99" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000;width:9.390421581989942%;" valign="middle"><b><font face="Times New Roman" size="1">Node</font></b></td><td align="center" bgcolor="#FFFF99" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000;width:4.17352070310664%;" valign="middle"><b><font face="Times New Roman" size="1">Port</font></b></td><td align="center" bgcolor="#FFFF99" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000;width:6.260281054659962%;" valign="middle"><b><font face="Times New Roman" size="1">Load Balancing Method</font></b></td></tr><tr><td align="center" bgcolor="#D9D9D9" height="86" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web1-http</font></td><td align="center" bgcolor="#D9D9D9" colspan="2" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" colspan="2" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><u><a href="http://www.web1.com/"><font color="#0000FF" face="Times New Roman" size="1">www.web1.com</font></a></u></td><td align="center" bgcolor="#D9D9D9" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">x.x.x.x</font></td><td align="center" bgcolor="#D9D9D9" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">80</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web1a</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">hypervisor a</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">192.x.x.x</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">8080</font></td><td align="center" bgcolor="#D9D9D9" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">Least Connect</font></td></tr><tr><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web1b</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">hypervisor b</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">192.x.x.y</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">8180</font></td></tr><tr><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web1c</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">hypervisor c</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">192.x.x.z</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">8280</font></td></tr><tr><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" bgcolor="#D9D9D9" height="86" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web1-https</font></td><td align="center" bgcolor="#D9D9D9" colspan="2" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" colspan="2" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><u><a href="http://www.web1.com/"><font color="#0000FF" face="Times New Roman" size="1">www.web1.com</font></a></u></td><td align="center" bgcolor="#D9D9D9" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">x.x.x.x</font></td><td align="center" bgcolor="#D9D9D9" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">443</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web1a</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">hypervisor a</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">192.x.x.x</font></td><td align="center" bgcolor="#FF0000" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">80443</font></td><td align="center" bgcolor="#D9D9D9" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">Least Connect</font></td></tr><tr><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web1b</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">hypervisor b</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">192.x.x.y</font></td><td align="center" bgcolor="#FF0000" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">81443</font></td></tr><tr><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web1c</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">hypervisor c</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">192.x.x.z</font></td><td align="center" bgcolor="#FF0000" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">82443</font></td></tr><tr><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" bgcolor="#D9D9D9" height="86" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">imagenes-http</font></td><td align="center" bgcolor="#D9D9D9" colspan="2" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" colspan="2" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">image.web1.com</font></td><td align="center" bgcolor="#D9D9D9" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">x.x.x.x</font></td><td align="center" bgcolor="#D9D9D9" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">80</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web1a</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">192.x.x.x</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">9080</font></td><td align="center" bgcolor="#D9D9D9" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">Least Connect</font></td></tr><tr><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web1b</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">192.x.x.y</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">9180</font></td></tr><tr><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web1c</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">192.x.x.z</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">9280</font></td></tr><tr><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" bgcolor="#D9D9D9" height="86" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">imagenes-https</font></td><td align="center" bgcolor="#D9D9D9" colspan="2" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" colspan="2" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">image.web1.com</font></td><td align="center" bgcolor="#D9D9D9" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">x.x.x.x</font></td><td align="center" bgcolor="#D9D9D9" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">443</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web1a</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">192.x.x.x</font></td><td align="center" bgcolor="#FF0000" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">90443</font></td><td align="center" bgcolor="#D9D9D9" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">Least Connect</font></td></tr><tr><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web1b</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">192.x.x.y</font></td><td align="center" bgcolor="#FF0000" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">91443</font></td></tr><tr><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web1c</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">192.x.x.z</font></td><td align="center" bgcolor="#FF0000" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">92443</font></td></tr><tr><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="86" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web2-http</font></td><td align="center" colspan="2" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" colspan="2" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><u><a href="http://www.web2.com/"><font color="#0000FF" face="Times New Roman" size="1">www.web2.com</font></a></u></td><td align="center" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">x.x.x.x</font></td><td align="center" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">80</font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web2a</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">hypervisor a</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">192.x.x.x</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">1080</font></td><td align="center" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">Least Connect</font></td></tr><tr><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web2b</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">hypervisor b</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">192.x.x.y</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">1180</font></td></tr><tr><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web2c</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">hypervisor c</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">192.x.x.z</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">1280</font></td></tr><tr><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="86" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web2-https</font></td><td align="center" colspan="2" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" colspan="2" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><u><a href="http://www.web2.com/"><font color="#0000FF" face="Times New Roman" size="1">www.web2.com</font></a></u></td><td align="center" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">x.x.x.x</font></td><td align="center" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">443</font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web2a</font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">192.x.x.x</font></td><td align="center" bgcolor="#FF0000" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">10443</font></td><td align="center" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">Least Connect</font></td></tr><tr><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web2b</font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">192.x.x.y</font></td><td align="center" bgcolor="#FF0000" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">11443</font></td></tr><tr><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">web2c</font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">192.x.x.z</font></td><td align="center" bgcolor="#FF0000" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">12443</font></td></tr><tr><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="86" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">webN-http</font></td><td align="center" colspan="2" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" colspan="2" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><u><a href="http://www.webn.com/"><font color="#0000FF" face="Times New Roman" size="1">www.webN.com</font></a></u></td><td align="center" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">x.x.x.x</font></td><td align="center" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">80</font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">webNa</font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">192.x.x.x</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">2080</font></td><td align="center" rowspan="5" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">Least Connect</font></td></tr><tr><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">webNb</font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">192.x.x.y</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">2180</font></td></tr><tr><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">webNc</font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">192.x.x.z</font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">2280</font></td></tr><tr><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#FF0000" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">20443</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#FF0000" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">21443</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#FF0000" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">22443</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">3080</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">3180</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">3280</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#FF0000" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">30443</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#FF0000" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">31443</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#FF0000" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">32443</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">4080</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">4180</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">4280</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">5080</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">5180</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">5280</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#FF0000" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">50443</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#FF0000" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">51443</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#FF0000" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">52443</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">6080</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">6180</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">6280</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">7080</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">7180</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">7280</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">8080</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">8180</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">8280</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">9080</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">9180</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">9280</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">10080</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">10180</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" bgcolor="#D9D9D9" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1">10280</font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr><tr><td align="center" height="17" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" style="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000" valign="middle"><font face="Times New Roman" size="1"> </font></td><td align="center" valign="middle"><font face="Times New Roman" size="1"> </font></td></tr></tbody></table></div><div style="font-size: 12px;">  </div></div></div></div><hr style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div style="white-space: normal; text-align: -webkit-auto;"><div><pre style="font-size: 24px;"><span style="border-collapse: separate; white-space: normal; border-spacing: 0px;"><b><font face="Tahoma">netstat commands</font></b></span></pre></div><pre style="font-size: 12px;"><span style="border-collapse: separate; white-space: normal; border-spacing: 0px;"><span style="border-collapse: separate; border-spacing: 0px;"><b><font color="#FF0000" face="Tahoma">netstat -tan</font></b></span></span></pre></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><pre><span style="border-collapse: separate; white-space: normal; border-spacing: 0px;"><b><font color="#FF0000" face="Tahoma">netstat --tcp --numeric</font></b></span></pre></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><pre><span style="border-collapse: separate; white-space: normal; border-spacing: 0px;"><font color="#FF0000" face="Tahoma"><b>netstat --tcp --listening --programs</b></font></span></pre></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><pre><font color="#FF0000" face="Tahoma"><b>netstat --statistics --raw</b></font></pre></div><pre style="font-size: 12px; text-align: -webkit-auto; white-space: normal;"><font face="Tahoma"><br/>[tomcat@servidorVirtualA ~]$ <b><font color="#E30000">netstat --tcp --listening --programs | grep 9093</font></b><br/>(Not all processes could be identified, non-owned process info<br/> will not be shown, you would have to be root to see it all.)<br/>tcp        0      0 *:9093                      *:*                         LISTEN     <b> 27812/java </b>         <br/>[tomcat@servidorVirtualA ~]$ <br/>[tomcat@servidorVirtualA ~]$ <b>ps uaxww | grep 27812</b><br/><b>tomcat   27870</b>  0.0  0.0 103240   824 pts/0    S+   13:19   0:00 grep 27812<br/></font></pre><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><div><pre style="white-space: normal;"><font face="Tahoma">[tomcat@servidorVirtualA ~]$ <b>ps <font color="#FF0000">uaxwwee</font> | grep 27812</b></font></pre></div></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><br/></div></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto; white-space: normal;"><b style="font-size: 24px;">LVM2 Tips</b></div><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;"><br/></div><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;"><br/></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><b>RECOMENDACIÓN LVM2:</b> Se recomienda no crear un LV/Filesystem con todo el espacio disponible en la VM, sino más bien crear varios LV/FS pequeños (habitualmente 1 por aplicación), dejando espacio libre en el VG de datos y de sistema, e ir incrementando en caliente los LV/FS bajo demanda (menos costoso y arriesgado que reducir el tamaño)</div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><b><br/></b></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><div><font color="#1C3387"><b>LVM2 Tips:</b> Do not make one single LV/Filesystem filling up all the available disk space in the VM. Make several small LV/Filesystems, usually 1 per application, with free disk space in both System VG (vgsystem) and Data VG (vgdata), and LVs/Filesystems growing on demand (faster and safer than reducing filesystems, manual operation that can be done online).</font></div></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><br/></div><div style="white-space: normal; text-align: -webkit-auto;"><div><pre style="white-space: normal; font-size: 11px;"><b><font face="Tahoma">[root@servidorVirtualA network-scripts]# df -h</font></b></pre></div></div><div style="text-align: -webkit-auto; white-space: normal; font-size: 11px;">Filesystem            Size  Used Avail Use% Mounted on<br/>
/dev/mapper/vgsys-lv_root<br/>
                       12G  1.5G  9.5G  14% /<br/>
tmpfs                 3.9G     0  3.9G   0% /dev/shm<br/>
/dev/vda1             485M   37M  423M   8% /boot<br/>
/dev/mapper/vgdata-lv_home<br/>
                      4.0G  137M  3.7G   4% /home<br/><b>/dev/mapper/vgdata-lv_opt<br/>
                      193G  219M  183G   1% /opt</b><br/>
/dev/mapper/vgsys-lv_tmp<br/>
                     1008M   34M  924M   4% /tmp<br/>
/dev/mapper/vgsys-lv_var<br/>
                      5.0G  270M  4.5G   6% /var<br/>
[root@web41 network-scripts]#<br/><br/></div><div style="white-space: normal; text-align: -webkit-auto; font-size: 11px;">[root@servidorVirtualA network-scripts]# <b>umount /opt/</b></div><div style="text-align: -webkit-auto; white-space: normal; font-size: 11px;"><br/>
[root@servidorVirtualA network-scripts]# <b>e2fsck -f /dev/vgdata/lv_opt</b></div><div style="white-space: normal; text-align: -webkit-auto; font-size: 11px;">e2fsck 1.41.12 (17-May-2010)<br/>
Pass 1: Checking inodes, blocks, and sizes<br/>
Pass 2: Checking directory structure<br/>
Pass 3: Checking directory connectivity<br/>
Pass 4: Checking reference counts<br/>
Pass 5: Checking group summary information<br/>
/dev/vgdata/lv_opt: 1434/12804096 files (0.1% non-contiguous), 859536/51216384 blocks<br/>
[root@servidorVirtualA network-scripts]#</div><div style="white-space: normal; text-align: -webkit-auto; font-size: 11px;">[root@servidorVirtualA network-scripts]# <b>resize2fs /dev/vgdata/lv_opt 4G</b></div><div style="text-align: -webkit-auto; white-space: normal; font-size: 11px;">resize2fs 1.41.12 (17-May-2010)<br/>
Resizing the filesystem on /dev/vgdata/lv_opt to 1048576 (4k) blocks.<br/>
The filesystem on /dev/vgdata/lv_opt is now 1048576 blocks long.<br/><br/>
[root@servidorVirtualA network-scripts]# <b>lvreduce -L4G /dev/vgdata/lv_opt</b></div><div style="white-space: normal; text-align: -webkit-auto; font-size: 11px;">  WARNING: Reducing active logical volume to 4.00 GiB<br/>
  THIS MAY DESTROY YOUR DATA (filesystem etc.)<br/>
Do you really want to reduce lv_opt? [y/n]: y<br/>
  Reducing logical volume lv_opt to 4.00 GiB<br/>
  Logical volume lv_opt successfully resized</div><div style="text-align: -webkit-auto; white-space: normal; font-size: 11px;"><br/>
[root@servidorVirtualA network-scripts]# <b>lvdisplay /dev/vgdata/lv_opt</b></div><div style="text-align: -webkit-auto; white-space: normal; font-size: 11px;">  --- Logical volume ---<br/>
  LV Path                /dev/vgdata/lv_opt<br/>
  LV Name                lv_opt<br/>
  VG Name                vgdata<br/>
  LV UUID                MSJuHS-jmSt-5YAr-iYH2-4sus-NyT2-Tt9P7N<br/>
  LV Write Access        read/write<br/>
  LV Creation host, time localhost.localdomain, 2012-06-26 19:26:14 +0200<br/>
  LV Status              available<br/>
  # open                 0<br/>
  LV Size             <b>   4.00 GiB</b><br/>
  Current LE             32<br/>
  Segments               1<br/>
  Allocation             inherit<br/>
  Read ahead sectors     auto<br/>
  - currently set to     256<br/>
  Block device           253:1<br/><br/></div><div style="white-space: normal; text-align: -webkit-auto; font-size: 11px;">[root@servidorVirtualA network-scripts]# <b>mount /opt</b></div><div style="white-space: normal; text-align: -webkit-auto; font-size: 11px;">[root@servidorVirtualA network-scripts]# df -h</div><div style="white-space: normal; text-align: -webkit-auto; font-size: 11px;">Filesystem            Size  Used Avail Use% Mounted on<br/>
/dev/mapper/vgsys-lv_root<br/>
                       12G  1.5G  9.5G  14% /<br/>
tmpfs                 3.9G     0  3.9G   0% /dev/shm<br/>
/dev/vda1             485M   37M  423M   8% /boot<br/>
/dev/mapper/vgdata-lv_home<br/>
                      4.0G  137M  3.7G   4% /home<br/>
/dev/mapper/vgsys-lv_tmp<br/>
                     1008M   34M  924M   4% /tmp<br/>
/dev/mapper/vgsys-lv_var<br/>
                      5.0G  270M  4.5G   6% /var<br/><b>/dev/mapper/vgdata-lv_opt<br/>
                      4.0G  192M  3.6G   5% /opt</b><br/>
[root@servidorVirtualA network-scripts]#</div><div style="white-space: normal; text-align: -webkit-auto; font-size: 11px;"><br/></div><div style="white-space: normal; text-align: -webkit-auto; font-size: 11px;"><br/></div><div style="white-space: normal; text-align: -webkit-auto; font-size: 11px;"><u><br/></u></div><div style="white-space: normal; text-align: -webkit-auto; font-size: 11px;">mkdir -p /opt/apache<br/></div><div style="white-space: normal; text-align: -webkit-auto; font-size: 11px;">lvcreate -L 189G -n lv_opt_apache vgdata<br/></div><div style="white-space: normal; text-align: -webkit-auto; font-size: 11px;">mkfs -t ext4 /dev/vgdata/lv_opt_apache<br/></div><div style="white-space: normal; text-align: -webkit-auto; font-size: 11px;">mount /dev/vgdata/lv_opt_apache /opt/apache<br/></div><div style="white-space: normal; text-align: -webkit-auto; font-size: 11px;"><br/></div><div style="white-space: normal; text-align: -webkit-auto; font-size: 11px;"><br/></div><div style="text-align: -webkit-auto; white-space: normal;"><div style="font-size: 11px;"><span style="border-collapse: separate; border-spacing: 0px;">mkdir -p /datos<br/></span></div><div style="font-size: 11px;"><span style="border-collapse: separate; border-spacing: 0px;">lvcreate -L 169G -n lv_datos vgdata<br/></span></div><div style="font-size: 11px;"><span style="border-collapse: separate; border-spacing: 0px;">mkfs -t ext4 /dev/vgdata/lv_datos<br/></span></div><div><span style="border-collapse: separate; border-spacing: 0px;"><span style="font-size: 11px;">mount /dev/vgdata/lv_datos2 /datos</span><br/></span></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><br/></div></div></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto; white-space: normal;"><div><b style="font-size: 24px;"><u><br/></u></b></div><div style="font-size: 24px;"><span style="border-collapse: separate; border-spacing: 0px;"><b>Online Resizing of LVM2 ext4 File Systems. Offline Filesystem Shrink in production VM</b></span></div><br/></div><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;"><br/></div><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;"><a href="http://en.wikipedia.org/wiki/Ext4">http://en.wikipedia.org/wiki/Ext4</a> </div><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;"><a href="https://ext4.wiki.kernel.org/index.php/Main_Page">https://ext4.wiki.kernel.org/index.php/Main_Page</a> </div><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;"><a href="https://ext4.wiki.kernel.org/index.php/Frequently_Asked_Questions">https://ext4.wiki.kernel.org/index.php/Frequently_Asked_Questions</a> </div><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;"><a href="https://ext4.wiki.kernel.org/index.php/Frequently_Asked_Questions#How_to_online_resize_the_Ext4_filesystem.3F">https://ext4.wiki.kernel.org/index.php/Frequently_Asked_Questions#How_to_online_resize_the_Ext4_filesystem.3F</a></div><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;"><br/></div><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;">Online resizing of ext4 works in a similar manner as ext3, using either resize2fs or ext2resize, but there is currently a limit (around 4TiB or so) to the maximum filesystem size. Implementing online resize with the META_BG feature would allow this limit to be exceeded.</div><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;"><br/></div><h2 style="font-size: 19px;"><font size="3" style="font-size: 12px;"><u>1. Online Extending and resizing</u></font></h2><div style="font-size: 12px;"><h2 style="font-size: 19px;"><font size="3" style="font-weight: normal; font-size: 12px;">1.1) Prerequisites</font></h2><p>The Volume Group (VG) must have enough space left. You can check how much Space is left with <code><b><font color="#E30000">vgs -o vg_free</font></b></code>:</p><div style="border-width: 1px;"><div><table border="0" cellpadding="0" cellspacing="0" style="font-size: 12px;width:40px;"><tbody><tr><td style="width:100%;"><div title="Hint: double-click to select code"><div><code><font face="Tahoma">VFree</font></code></div><div><code><font face="Tahoma">20.73G</font></code></div></div></td></tr></tbody></table></div></div></div><h2 style="font-size: 19px;"><font size="3" style="font-size: 12px;"><span style="font-weight: normal;">1.2) First, the logical volume (LV) must be extended. You can do this with</span> <code style="font-weight: normal;">lvextend</code><span style="font-weight: normal;">. For example, to extend the LV</span> lv_home <span style="font-weight: normal;">in VG</span> vgdata<span style="font-weight: normal;"> with 20GB more space, you can run the following command:</span></font></h2><div style="font-size: 12px; border: 1px;"><div><table border="0" cellpadding="0" cellspacing="0" style="font-size: 12px;width:249px;"><tbody><tr><td style="width:100%;"><div title="Hint: double-click to select code"><div><font face="Tahoma"><code>lvextend -L +20G</code> <code>/dev/vgdata/lv_home</code></font></div></div></td></tr></tbody></table></div></div><p style="font-size: 12px;">1.3) After that, an online resize of the filesystem is required. For <code>ext</code> filesystems, you can do this with the resize2fs command:</p><div style="font-size: 12px; border: 1px;"><div><table border="0" cellpadding="0" cellspacing="0" style="font-size: 12px;width:200px;"><tbody><tr><td style="width:100%;"><div title="Hint: double-click to select code"><div><font face="Tahoma"><code>resize2fs</code> <code>/dev/vgdata/lv_home</code></font></div></div></td></tr></tbody></table></div></div><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;"><br/></div><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;"><br/></div><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;"><b><u>2. Offline Filesystem Shrink:</u> </b>tested, 1 hour operation, 1 LVM2 process at 100% CPU</div><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;"><br/></div><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;"><u>2.1) LV_OPT of 187GB, 20GB shrink: </u></div><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;"><br/><font color="#FF0000">umount /opt/</font><br/><font color="#FF0000">e2fsck -f /dev/vgdata/lv_opt</font><br/><font color="#FF0000">resize2fs /dev/vgdata/lv_opt 167G</font><br/><font color="#FF0000">lvreduce -L-20G /dev/vgdata/lv_opt</font><br/><font color="#FF0000">mount /opt/</font></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><br/></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><div><u>2.2) LV_OPT of 167GB, 40GB shrink: </u></div></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><br/></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;">umount /opt/<br/>
e2fsck -f /dev/vgdata/lv_opt<br/>
resize2fs /dev/vgdata/lv_opt 120G<br/>
lvreduce -L-40G /dev/vgdata/lv_opt<br/>
mount /opt/</div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><br/></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><b><u>LVM2 links:</u></b></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><ul><li>RHEL6 doc: <a href="https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html-single/Logical_Volume_Manager_Administration/index.html">LVM Administrator Guide</a></li><li><a href="http://techblog.ralph-schuster.eu/2009/01/06/extending-filesystem-on-rhel-with-lvm/">Extending filesystem on RHEL with LVM</a></li><li>Volúmenes lógicos (LVM) Crear, modificar VG y LV: <a href="http://www.osties.com/?p=534">http://www.osties.com/?p=534</a> </li></ul></div></div><div align="left" style="text-align: -webkit-left;"><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><br/></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><br/></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><div><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/ScreenClip [45].png" type="image/png" height="728" style="cursor: default; height: auto;" width="1366"/></div></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><br/></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><br/></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><br/></div><div style="white-space: normal; text-align: -webkit-auto;"><div><br/></div></div></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div style="white-space: normal; text-align: -webkit-auto;"><div><div><b style="font-size: 24px;">Example: Logical Volume and Filesystem creation for SQUID </b></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><font color="#FF0000">mkdir -p /var/spool/squid<br/>
lvcreate -L20G -n lv_var_spool_squid vgdata<br/>
mkfs -t ext4 /dev/vgdata/lv_var_spool_squid<br/>
mount /dev/vgdata/lv_var_spool_squid /var/spool/squid <br/></font></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><span style="border-collapse: separate; border-spacing: 0px;"><br/>
mv /etc/squid /etc/squid2</span></div><div style="font-size: 12px;"><span style="border-collapse: separate; border-spacing: 0px;"><span style="border-collapse: separate; border-spacing: 0px;"><span style="border-collapse: separate; border-spacing: 0px;">mkdir -p /etc/squid<br/></span></span></span></div><div style="font-size: 12px;"><span style="border-collapse: separate; border-spacing: 0px;">lvcreate -L 10M -n lv_etc_squid vgdata<br/></span></div><div style="font-size: 12px;"><span style="border-collapse: separate; border-spacing: 0px;">mkfs -t ext4 /dev/vgdata/lv_etc_squid<br/></span></div><div style="font-size: 12px;"><span style="border-collapse: separate; border-spacing: 0px;">mount /dev/vgdata/lv_etc_squid /etc/squid/</span></div><br/></div></div></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div style="white-space: normal; text-align: -webkit-auto;"><div><h3 style="font-size: 26px;"><font size="3" style="font-size: 24px;"><font>Disable SELinux in VM </font><span style="text-align: left;">and Physical Machines</span></font></h3></div><div style="font-size: 12px;">Two procedures available A) and B):</div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><b>A) </b></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;">A.1)  </div><div style="font-size: 12px;"># echo 0 &gt;/selinux/enforce</div><div style="font-size: 12px;"><pre xml:space="preserve"><font face="Tahoma"># getenforce
</font></pre><pre xml:space="preserve"><font face="Tahoma">A.2)</font></pre><pre xml:space="preserve"><font face="Tahoma">/etc/selinux/config</font></pre><pre xml:space="preserve"><font face="Tahoma"><font>     SELINUX=enforcing</font> to <font>SELINUX=disabled</font></font></pre><h3><font size="3" style="font-size: 12px;">B)</font></h3><pre xml:space="preserve"><font face="Tahoma">If you want to disable SELinux you have to install the SELinux Management tool.<br/></font></pre><div><pre xml:space="preserve"><font><font face="Tahoma">su -<br/>yum install <b><font color="#FF0000">policycoreutils-gui</font></b><br/></font></font></pre></div><pre xml:space="preserve"><font face="Tahoma">Run it from System -&gt; Administration -&gt; SELinux Management. From here you can change SELinux status from Enforcing to Disabled.</font></pre><pre xml:space="preserve"><font><font><font><font face="Tahoma">          <font color="#FF0000">sepolgen-ifgen  -&gt; run this command in order to fix a bug in RHEL6.3</font></font></font></font></font></pre><pre xml:space="preserve"><font><font><font><font><font color="#FF0000" face="Tahoma"><b>          system-config-selinux</b> (ssh x11 forwarding)</font></font></font></font></font></pre></div></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><br/></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto; white-space: normal;"><div style="font-size: 12px;"><br/></div><div><b><span style="font-size: 24px;">Avoiding SSL passphrase dialog in Apache-SSL</span> <span style="font-size: 12px;">(our &quot;apache-ssl&quot; Upstart job would not work without this)</span></b></div><div style="font-size: 12px;"><b><u><br/></u></b></div><div style="font-size: 12px;"><div>To restart httpd without entering pass phrase again, put the script like the below and add SSLPassPhraseDialog directive.</div><ul><li><a href="http://httpd.apache.org/docs/2.2/mod/mod_ssl.html#sslpassphrasedialog" style="white-space: normal;">http://httpd.apache.org/docs/2.2/mod/mod_ssl.html#sslpassphrasedialog</a></li><li><a href="http://httpd.apache.org/docs/2.2/mod/mod_ssl.html" style="white-space: normal;">http://httpd.apache.org/docs/2.2/mod/mod_ssl.html</a></li><li><a href="http://mitb3.wikkii.com/wiki/How_to_generate_certificate_file_with_openssl" style="white-space: normal;">http://mitb3.wikkii.com/wiki/How_to_generate_certificate_file_with_openssl</a></li></ul><div><br/></div><div><div><pre><b><font color="#E30000" face="Tahoma">SSLPassPhraseDialog exec:/usr/sbin/pp-filter</font></b></pre></div><br/></div><div><pre><font face="Tahoma"><b># vim /usr/sbin/pp-filter</b>

#!/bin/sh
case $1 in
*:443)
echo P@ssw0rd
;;
esac
exit 0

<b># chmod +x /usr/sbin/pp-filter</b></font></pre><pre><font face="Tahoma"><b># chown go-rwx <span style="white-space: normal;">/usr/sbin/pp-filter</span><br/># chown root.root <span style="white-space: normal;">/usr/sbin/pp-filter</span></b><br/>     
</font></pre><pre><font face="Tahoma">Si se requiere máxima seguridad, se puede 'ofuscar' la clave con un 'compilador de shell script'.</font></pre><pre><font color="#1C3387" face="Tahoma">The above script can be obfuscated with a 'shell script compiler' if maximum security is required.</font></pre></div></div></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><a href="http://www.ibiblio.org/pub/packages/solaris/sparc/"></a></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><br/></div></div></div><hr style="font-size: 12px; white-space: normal;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><div><pre style="font-size: 12px; white-space: normal;"></pre><div style="font-size: 24px;"><b><span style="white-space: normal;">sudo</span><span style="white-space: normal;"> </span><span style="white-space: normal;">and</span><span style="white-space: normal;"> </span><span style="white-space: normal;">Upstart</span><span style="white-space: normal;"> </span><span style="white-space: normal;">scripts</span><span style="white-space: normal;"> </span><span style="white-space: normal;">for Apache</span><span style="white-space: normal;"> </span><span style="white-space: normal;">and</span><span style="white-space: normal;"> </span><span style="white-space: normal;">Tomcat</span></b></div><div style="font-size: 12px; white-space: normal;"><pre><span style="white-space: normal;"><u><b><font face="Tahoma">/etc/sudoers config file for Apache and Tomcat Upstart jobs management without root privileges</font></b></u></span></pre></div><pre style="font-size: 12px; white-space: normal;"><span style="white-space: normal;"><font face="Tahoma">Con balanceadores HW HTTP, en lugar de configurar los apache con puertos 80 y 443, se recomienda utilizar puertos NO ROOT para las instancias de apache , &gt;1024, p.e. 1080, 1180, 1280, 10443, 11443, 12443, etc, SEPARANDO SISTEMA DE DATOS, donde usuario no root apache y tomcat puedan gestionar sus aplicaciones sin privilegios root. De igual modo, se recomienda no hacer uso de Apache-SSL y trasladar el SSL a los balanceadores HW, liberando así la CPU de las VM con Apache (SSL consume muchos recursos de CPU).</font></span></pre><pre style="font-size: 12px; white-space: normal;"><span style="white-space: normal;"><font color="#1C3387" face="Tahoma">The below configuration assumes Apache is launched as root due to 80 and 443 root ports constraints. If we finally set up Apache with no root HTTP port and without SSL port (as pointed out above), we should then update the below apache's upstart job to launch apache's first process as no root. </font></span></pre><pre style="font-size: 12px; white-space: normal;"><span style="white-space: normal;"><font face="Tahoma">## Read drop-in files from /etc/sudoers.d (the # here does not mean a comment)</font></span></pre></div></div><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;">#includedir /etc/sudoers.d<br/><br/>
## Upstart<br/>
Cmnd_Alias UPSTART = /sbin/start tomcat, /sbin/stop tomcat, /sbin/restart tomcat<br/>
tomcat,%operator ALL= NOPASSWD: UPSTART     <b># usuario tomcat y usuarios del grupo operator, puede ejecutar comandos UPSTART sin password</b><br/><div><br/></div></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;"><div>## Upstart<br/><strike>Cmnd_Alias UPSTART = /sbin/start tomcat, /sbin/stop tomcat, /sbin/restart tomcat<br/>
tomcat,%operator localhost= NOPASSWD: UPSTART  </strike>  <b><font color="#FF0000">-&gt; igual que antes pero sólo en local, no en remoto/SSH</font></b></div></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;"><div><br/></div><div><b>[root@servidorVirtualA ~]# id tomcat</b><br/>
uid=1002(tomcat) gid=1002(tomcat) groups=1002(tomcat),<b>2000(operator)</b><br/></div><div><br/></div><div><br/></div></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;"><div><u><b>APACHE SUDOERS UPSTART:</b></u></div><div><br/></div><div><span style="border-collapse: separate; border-spacing: 0px;">## Read drop-in files from /etc/sudoers.d (the # here does not mean a comment)<br/>
#includedir /etc/sudoers.d<br/><br/>
## Upstart<br/>
Cmnd_Alias UPSTART = /sbin/start apache, /sbin/stop apache, /sbin/restart apache, /sbin/start apache-ssl, /sbin/stop apache-ssl, /sbin/restart apache-ssl<br/>
apache,%operator ALL= NOPASSWD: UPSTART     #<b> usuario tomcat y usuarios del grupo operator, puede ejecutar comandos UPSTART sin password</b><br/></span><br/></div></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><pre><font face="Tahoma"><b><u>UPSTART JOBS (init scripts in RHEL6):</u> <font color="#FF0000">  </font></b><font color="#FF0000"><b>man 5 init</b></font></font></pre></div><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;"><pre><font face="Tahoma">Upstart viene a sustituir el tradicional sistema de arranque de procesos Unix/Linux de 'System V' ubicados en /etc/init.d/nombreScript.sh y vinculados a un runlevel
específico (normalmente el 3).

Durante el arranque/boot del OS, Upstart arranca automáticamente los apache y tomcat, pero además controla los procesos lanzados volviéndolos a ejecutar en el caso de que se mueran. Por ejemplo si matamos con un 'kill -9' un proceso tomcat ó apache, Upstart se encargará automáticamente de levantarlo. Esta configuración es conveniente para entornos en producción.

Los ficheros de configuración de upstart se ubican en <i>/etc/init/</i><br/></font></pre><pre><font face="Tahoma">Se ha configurado sudo para que el usuario tomcat y los usuarios del grupo 'operator' puedan arrancar/parar/reiniciar el
proceso upstart de los tomcat/apache. Ya no es necesario ser root para gestionar Apache y Tomcat (NOTA IMPORTANTE: teniendo en cuenta que disponemos de balanceadores HTTP, es preferible que los Apache y Tomcat hagan uso de puertos NO ROOT, de modo que podemos arrancar Apache y Tomcat con su mismo ID sin privilegios y sin hacer uso de SUDO)

Ejemplo en el nuevo entorno para el usuario tomcat (no root):

</font></pre><pre><font face="Tahoma">     [tomcat@servidorVirtualA ]$ sudo start tomcat
     [tomcat@servidorVirtualA ]$ sudo stop tomcat
     [tomcat@servidorVirtualA ]$ sudo restart tomcat
</font></pre><pre><font face="Tahoma">     [tomcat@servidorVirtualA ]$ initctl list | grep tomcat
     tomcat start/running, process 5773
     tomcat2 start/running, process 5612
     tomcat3 start/running, process 5831
     tomcat4 start/running, process 5802
</font></pre><div>Arrancar un job Upstart con usuario root:</div><div><br/></div><div>     [root@servidorVirtualA ~]# start tomcat<br/>
     tomcat start/running, process 14113<br/></div><div><br/></div><div>     [root@servidorVirtualA log]# status tomcat<br/>
     tomcat stop/waiting</div><div>     <b>sudo start/stop/restart jobname</b></div><div><pre><font face="Tahoma">Upstart será a su vez reemplazado en futuras releases de Red Hat por Systemd:

      Sysvinit  command (legacy scripts):             service nombreServicio start/stop/restart
      Upstart command (current config at CDL):        start/stop/restart nombreServicio
      Systemd command (RHEL v7/8):                    systemctl start nombreServicio.service
</font></pre></div><div><br/></div><pre><b><u><font face="Tahoma">Upstart Tomcat:</font></u></b></pre><pre><b><font color="#FF0000" face="Tahoma">[root@servidorVirtualA init]# cat /etc/init/tomcat.conf</font></b></pre></div><div style="text-align: -webkit-auto; white-space: normal; font-size: 11px;">description &quot;Tomcat Server&quot;<br/><br/>
  start on runlevel [2345]<br/>
  stop on runlevel [!2345]<br/>
  # Automatically restart process if crashed<br/>
  respawn<br/>
  respawn limit 10 5<br/><br/>
  # Process will detach itself to the background<br/>
  expect fork #(probar sin ésta línea)<br/>
 <br/>
  # adapt paths, if needed<br/>
  env JAVA_HOME=/opt/java<br/>
  #env CATALINA_HOME=/opt/tomcat<br/><br/>
  # adapt java options to suit your needs:<br/>
  #env JAVA_OPTS=&quot;-Djava.awt.headless=true -Xms512M -Xmx1024M -server -XX:+UseParallelGC&quot;<br/><br/>
  # Start process<br/>
  #exec /opt/apache-tomcat/bin/catalina.sh run<br/>
  #exec tomcat-server-manager start-instance --instance-name=jenkins<br/>
 <br/>
  # or, as non privileged user:<br/>
  script<br/>
     # exec sudo -u tomcat /opt/tomcat/bin/catalina.sh run<br/>
     # exec `su jack -c /opt/tomcat/myscript.sh`<br/>
     # exec start-stop-daemon --start -u tomcat --exec /opt/tomcat/myscript.sh</div><div style="white-space: normal; text-align: -webkit-auto; font-size: 11px;"><div>     # exec su -s /bin/sh -c 'exec /opt/tomcat/myscript.sh' tomcat</div><div>     # exec su -s /bin/sh -c '/opt/tomcat/bin/catalina.sh run' tomcat</div><div>     exec su -s /bin/sh -c 'exec /opt/tomcat/bin/catalina.sh run' tomcat</div></div><div style="text-align: -webkit-auto; white-space: normal;"><span style="font-size: 11px;">  end script</span><br/><span style="font-size: 12px;"> </span><br/><br/></div><div style="font-size: 12px; text-align: -webkit-auto; white-space: normal;"><pre><font face="Tahoma"><b><u>UPSTART APACHE (ejecución con root, se podría hacer uso de no root como en Tomcat): </u></b></font></pre><pre><a href="http://systemadmin.es/2011/10/upstart-en-centos-6"><font face="Tahoma">http://systemadmin.es/2011/10/upstart-en-centos-6</font></a></pre><pre><code><font color="#FF0000" face="Tahoma">NOTA: Al disponer de nuevos balanceadores HW con soporte de certificados SSL, NO es necesario que nuestros apache sirvan también tráfico SSL, liberando CPU de las VMs de todo el tráfico encriptado. Todo el tráfico interno entre Apache-Tomcat-Oracle puede ser sin encriptación (dentro de nuestra red privada).</font></code></pre><pre><font face="Tahoma"><code>Nota2: Al disponer de balanceadores HW, <font color="#FF0000">tampoco es necesario que nuestros apache se ejecuten desde root</font> (si bien los procesos hijo se ejecutan como apache.apache), por lo que en lugar de hacer uso de los </code><span style="white-space: normal;">puertos 80 y 443 (al estar por debajo de 1024 son puertos reservados root de sistema), </span><span style="white-space: normal;"><font color="#FF0000">podemos lanzarlos con puertos &gt; 1024</font></span><span style="white-space: normal;">, p.e. 1080, 1180, 1280,..., 4080,4180,4280,... 10443 (SSL, no necesario si nuestros balanceadores encriptan el tráfico via SSL), 11443, 12443, etc. </span><span style="white-space: normal;"><font color="#FF0000">Los propios balanceadores HW pueden servir el tráfico en los puertos 80 y 443 para después balancearlos entre los puertos de Apache &gt; 1024.</font></span></font></pre><pre><font color="#FF0000" face="Tahoma"><b><br/></b></font></pre><pre><font color="#FF0000" face="Tahoma">[root@servidorVirtualA init]# cat /etc/init/apache.conf</font></pre><pre><font face="Tahoma">start on runlevel 3<br/>respawn
</font></pre><pre><font face="Tahoma">expect fork #(probar sin esta línea)
</font></pre><pre><font face="Tahoma">exec /opt/apache/httpd/bin/httpd -DNO_DETACH -f /opt/apache/conf/apache.conf<br/></font></pre><pre><font face="Tahoma"><br/></font></pre><div><pre><font color="#FF0000" face="Tahoma">[root@servidorVirtualA init]# cat /etc/init/apache-ssl.conf</font></pre></div><pre><font face="Tahoma">start on runlevel 3<br/>respawn
</font></pre><pre><font face="Tahoma">expect fork  #(probar sin esta línea)<br/><br/>exec /opt/apache/httpd/bin/httpd -DNO_DETACH -f /opt/apache-ssl/conf/apache-ssl.conf</font></pre></div><div style="font-size: 12px; white-space: normal; text-align: -webkit-auto;"><br/></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div style="font-size: 12px; text-align: -webkit-auto;"><h3 style="white-space: normal;"><font size="3" style="font-size: 12px;">How do I make Upstart re-read its configuration?</font></h3><p style="white-space: normal;">Upstart uses inotify to watch the configuration directory for changes, there's no need to force it to read the job definition again. If a job is running, the changes to the definition will not occur until the job has been stopped; for instance jobs, all instances must be stopped.</p><p style="white-space: normal;">To force a reload you may send <tt>init</tt> the <b>HUP</b> signal, or use the following command:</p><pre style="white-space: normal;">
    <font color="#FF0000" face="Tahoma"> <b>initctl reload</b></font></pre><div style="white-space: normal;"><b><br/></b></div><div style="white-space: normal;"><b><u>How to make sure Upstart re-read its new config file:</u></b></div><div style="white-space: normal;"><b><br/></b></div></div></div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px; font-size: 12px;"><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><div style="white-space: normal;"><b>[root@servidorVirtualA init]# <font color="#FF0000">initctl reload-configuration</font></b></div></div>
 </div></blockquote><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><div style="font-size: 12px; white-space: normal;"><br/></div><div style="font-size: 12px; white-space: normal;"><a href="https://gist.github.com/2924017"></a><a href="http://upstart.ubuntu.com/getting-started.html">http://upstart.ubuntu.com/getting-started.html</a></div><div style="font-size: 12px; white-space: normal;"><a href="http://systemadmin.es/2011/10/upstart-en-centos-6">http://systemadmin.es/2011/10/upstart-en-centos-6</a></div><div style="font-size: 12px; white-space: normal;"><a href="https://gist.github.com/2924017">https://gist.github.com/2924017</a></div><pre style="font-size: 12px; white-space: normal;"><font color="#FF0000" face="Tahoma"># initctl log-priority debug</font></pre><pre style="font-size: 12px; white-space: normal;"><font face="Tahoma"><br/></font></pre><pre style="font-size: 12px; white-space: normal;"></pre></div></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><div style="font-size: 12px;"><pre><b><u><font face="Tahoma">UPSTART LINKS OF INTEREST:</font></u></b></pre></div><div style="font-size: 12px;"><ul><li><a href="http://quepagina.es/linux/el-nuevo-sistema-de-inicializacion-en-redhat-6.html">http://quepagina.es/linux/el-nuevo-sistema-de-inicializacion-en-redhat-6.html</a></li><li><a href="http://upstart.ubuntu.com/cookbook/">http://upstart.ubuntu.com/cookbook/</a></li><li><a href="http://iloveubuntu.net/upstart-cookbook-available-download">http://iloveubuntu.net/upstart-cookbook-available-download</a></li><li><a href="http://unix.stackexchange.com/questions/25341/running-a-bash-script-as-a-less-privileged-user-with-upstart">http://unix.stackexchange.com/questions/25341/running-a-bash-script-as-a-less-privileged-user-with-upstart</a></li><li><a href="http://upstart.ubuntu.com/cookbook/#run-a-job-as-a-different-user">http://upstart.ubuntu.com/cookbook/#run-a-job-as-a-different-user</a></li><li><a href="http://ubuntuforums.org/archive/index.php/t-1849084.html">http://ubuntuforums.org/archive/index.php/t-1849084.html</a></li><li><a href="http://anthonyw.net/2011/03/using-solr-with-upstart-instead-of-init-d/">http://anthonyw.net/2011/03/using-solr-with-upstart-instead-of-init-d/</a></li><li><a href="http://askubuntu.com/questions/19320/whats-the-recommend-way-to-enable-disable-services">http://askubuntu.com/questions/19320/whats-the-recommend-way-to-enable-disable-services</a></li></ul></div></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><div><span style="font-size: 24px;"><b>Securing Apache</b></span><br/><br/>
Popular sites with Apache server-status enabled: <a href="http://blog.sucuri.net/2012/10/popular-sites-with-apache-server-status-enabled.html">http://blog.sucuri.net/2012/10/popular-sites-with-apache-server-status-enabled.html</a> </div><div><br/></div></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><div><h3 style="text-align: left; font-size: 26px;"><font size="3" style="font-size: 24px;">Instalación y Workaround de JBoss AS 7.1.1 en Fedora 17</font></h3></div><div style="font-size: 11px; text-align: left;">Workaround para añadir Hibernate/JPA2 a JBoss documentado en las capturas de pantalla de Dan Allen. Sin este workaround la Admin Console de Jboss (http://localhost:9990/console) devuelve una página en blanco. Toda la funcionalidad de Java EE será incluído en las siguientes versiones de Fedora (no completado en Fedora 17 por falta de tiempo).</div><div style="font-size: 12px; text-align: left;"><span style="font-size: 11px;"><br/></span></div><div style="font-size: 12px; text-align: left;"><span style="font-size: 11px;">Recordar que Fedora 17 es una distribución más adecuada para entornos de desarrollo y cuando nos interesa disponer de lo último (con frecuentes actualizaciones). Por ejemplo haría uso de Fedora(s) para desarrollo y/ó Consola Administración Linux, en hipervisores KVM (y/ó virtualización de escritorio tipo VMware player/Virtualbox), con GUI accesible vía VNC/RDP en la Consola de Admin (compartible a diferencia de las Desktopp VM), con lo último en JBOSS AS 7, Tomcat, Apache, GIT/BZR/SVN/Mercurial, herramientas de gestión remota virt-manager/ZenOSS/Nagios, OwnCloud, Twiki/FosWiki, etc.</span></div><div style="font-size: 12px; text-align: left;"><br/></div><div style="font-size: 12px; text-align: left;"><span style="font-size: 11px;">Igualmente sería recomendable instalar herramientas como GIT menos recientes y con menos funcionalidades en entornos más robustos como CentOS6.2/RHEL6.3 (en el caso que lo disponible en Fedora 17 sea demasiado inestable). En el caso de herramientas de monitorización y gestión, soy partidario de las últimas actualizaciones de Fedora en lugar de CentOS/RHEL.</span></div><div style="font-size: 12px; text-align: left;"><br/></div><div style="font-size: 12px; text-align: left;"><span style="font-size: 11px;">También es deseable disponer de un entorno lo más homogéneo posible para simplificar la gestión y evitar posibles errores. Por ejemplo: todos los entornos de producción/desarrollo/pruebas con RHEL6.3 y/ó CentOS6.2(3), junto a otros entornos Fedora (cuya tecnología es adoptada después por RHEL/CentOS). Ejemplo entorno mixto a evitar si es posible: Solaris x86 32 bits + solaris sparc 64 + RHEL 5 (hay diferencias con respecto a RHEL6)+ RHEL 6 + Ubuntu + Debian + etc, cada uno con una configuración y operativa distinta (aunque en ocasiones instalar una cierta aplicación requiere una distribución específica, virtual appliance, etc.).</span></div><div><ul style="font-size: medium;"><li style="text-align: left; font-size: 11px;"><a href="http://fedoraproject.org/wiki/Features/JBossAS7" rel="nofollow" target="blank">http://fedoraproject.org/wiki/Features/JBossAS7</a></li><li style="text-align: left; font-size: 11px;"><a href="https://community.jboss.org/message/739153?sscc=t#739153" rel="nofollow" target="blank">https://community.jboss.org/message/739153?sscc=t#739153</a></li><li style="text-align: left; font-size: 11px;"><b>Dan Allen's slides:</b> <a href="https://plus.google.com/114112334290393746697/posts/9Ri8U4wuCLY" rel="nofollow" target="blank">https://plus.google.com/114112334290393746697/posts/9Ri8U4wuCLY</a> </li></ul><div style="text-align: left;"><span style="font-size: 11px;"><br/></span></div></div></div></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><div><b style="font-size: 24px;">NTP: Sincronización horaria de los servidores</b></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><p>Los servidores deben estar sincronizados en fecha y hora. Para lograrlo hemos optado por <code>NTP</code>, basado en sincronización externa <code>UTC</code> (Tiempo Universal Coordinado). Una buena opción es crear dos servidores de tiempo redundantes y sincronizados entre sí con la siguiente configuración <code>ntp.conf :</code></p><dl><dt><b>ServidorNTP1:</b></dt><dd><blockquote><pre><code><font face="Tahoma">server máquinaServidorNTPext1              
server máquinaServidorNTPext2              
peer  servidorNTP2                     
</font></code></pre></blockquote></dd><dt><b>ServidorNTP2:</b></dt><dd><blockquote><pre><code><font face="Tahoma">server máquinaServidorNTPext1
server máquinaServidorNTPext2
peer servidorNTP1
</font></code></pre></blockquote></dd></dl><p>Las dos primeras líneas de cada configuración especifican con qué servidor o servidores ntp externos (en Internet) se sincronizan. Si por redundancia se sincronizan con más de un servidor ntp como en el ejemplo, estos servidores <b>deben tener el mismo nivel/stratum ntp</b> garantizando la sincronización entre sí (cuanto más bajo es el número de nivel stratum, más precisión). La tercera línea</p><blockquote><pre><code><font face="Tahoma">peer servidorNTPx
</font></code></pre></blockquote>
asegura la sincronización entre los dos servidores NTP en el caso de que se pierda la comunicación con los servidores NTP externos (es importante mantener bien sincronizados los relojes locales del sistema distribuido). </div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;">NOTA: Otra opción es dejar la configuración por defecto de Red Hat, donde se sincroniza con 3 servidores NTP públicos de RedHat stratum1, 2 y 3, y sin líneas peer. </div><div style="font-size: 12px;">NOTA2: Esta configuración NTP dentro de un grupo de peers, es habitual en el caso de servicios en cluster con sistemas de ficheros distribuidos. Puede aplicarse en otro servicios en cluster y/ó redundados.</div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><br/></div></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><div style="font-size: 12px;"><br/></div><div style="font-size: 24px;"><b>Primary and Secondary internal DNS servers. Internet and intranet Bind config files</b></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;">Se recomienda la configuración del servicio DNS primario y sencundario para la red interna de servidores (LAN, DMZ), evitando la actualización de /etc/hosts en cada servidor físico y virtual (requiere permisos root).</div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><font color="#1C3387">Setting up an intranet DNS service is recommended to avoid updating /etc/hosts file in each physical and virtual machine (root access required). </font></div><div style="font-size: 12px;"><font color="#2D4FC9"><br/></font></div><div style="font-size: 12px;"><font color="#2D4FC9">You can grab my old Bind config files set up between 2001 and 2002 at the following link. They include Primary and Secondary DNS config files for both internet and intranet networks. Note that this company and domain do not longer exist.</font></div><div style="font-size: 12px;"><br/></div></div></div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px; font-size: 12px;"><div><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><div><a href="http://openerpappliance.com/downloads/">http://openerpappliance.com/downloads/</a></div></div></div>
 </div></blockquote></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><div style="font-size: 12px;"><br/></div><div style="font-size: 24px;"><b>Network settings in /etc/sysconfig, 'setup' command (RHEL licence,SysV init, firewall,etc)</b></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;">Al clonar ó mover una VM hay que regenerar las reglas de UDEV porque cada VM tiene una MAC diferente y queremos en todas ellas hacer uso de eth0.<br/><br/>
Solución:<br/><br/>
1) /etc/sysconfig/network-scripts/ifcfg-eth0  -&gt; no debe haber entradas de UUID ó MACADDR (comentadas)<br/>
2) rm /etc/udev/rules.d/70-persistent-net.rules<br/>
3) reboot<br/><br/><br/></div></div></div><blockquote style="font-size: 12px; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><div>I found that /etc/init.d/udev-post is supposed to write the rules. I have it enabled:</div></div></div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><div>$ chkconfig --list udev-post</div></div></div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><div>udev-post           0:off     1:on     2:on     3:on     4:on     5:on     6:off</div></div></div></blockquote></blockquote><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><div style="font-size: 12px;"><br/><br/></div><div><b style="font-size: 12px;">La configuración de red</b> <span style="font-size: 12px;">se puede realizar vía CLI con el comando</span> <b style="font-size: 12px;">'<font color="#FF0000">setup</font>' (menú de texto)</b><span style="font-size: 12px;">, al igual que otras cosas como gestión de</span> <b style="font-size: 12px;">licencia RHEL, servicios SysV init, firewall,etc.</b><br/><span style="font-size: 12px;"> </span><br/><b style="font-size: 12px;">[root@servidorA network-scripts]# cat ifcfg-em1</b><br/><span style="font-size: 11px;">DEVICE=&quot;em1&quot;</span><br style="font-size: 11px;"/><b style="font-size: 11px;">NM_CONTROLLED=&quot;no&quot;</b><br style="font-size: 11px;"/><b style="font-size: 11px;"><font color="#FF0000">ONBOOT=&quot;yes&quot; # Todas las NIC deben tener esta línea para que no figuren como 'disabled' tras reiniciar (ifup para habilitar)</font></b><br style="font-size: 11px;"/><b style="font-size: 11px;">BOOTPROTO=static</b><br style="font-size: 11px;"/><span style="font-size: 11px;">IPADDR=1xx.xx.xxx.xxx</span><br style="font-size: 11px;"/><span style="font-size: 11px;">NETMASK=255.xxx.xxx.0</span><br/><br/><b style="font-size: 12px;">[root@servidorA sysconfig]# cat network</b><br/><span style="font-size: 11px;">NETWORKING=yes</span><br style="font-size: 11px;"/><span style="font-size: 11px;">HOSTNAME=servidorA</span><br style="font-size: 11px;"/><span style="font-size: 11px;">GATEWAY=1xx.xx.xxx.x    # (la gateway puede ir aquí ó en la config de cada NIC) </span><br style="font-size: 11px;"/><br/><b style="font-size: 12px;">[root@servidorVirtualA network-scripts]# cat ifcfg-eth0</b><br/><span style="font-size: 11px;">DEVICE=&quot;eth0&quot;</span><br style="font-size: 11px;"/><span style="font-size: 11px;">#HWADDR=&quot;xx:xx:xx:xx:xx:xx&quot;</span><br style="font-size: 11px;"/><b style="font-size: 11px;">NM_CONTROLLED=&quot;no&quot;</b><br style="font-size: 11px;"/><b style="font-size: 11px;">ONBOOT=&quot;yes&quot;</b><br style="font-size: 11px;"/><b style="font-size: 11px;">BOOTPROTO=static</b><br style="font-size: 11px;"/><span style="font-size: 11px;">IPADDR=1xx.xx.xxx.xxx</span><br style="font-size: 11px;"/><span style="font-size: 11px;">NETMASK=255.xxx.xxx.0</span><br style="font-size: 11px;"/><span style="font-size: 11px;">GATEWAY=1xx.xx.xxx.xxx</span><br/></div><div style="font-size: 12px;"><br/></div></div></div></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><div><span style="font-size: 24px;"><b>How to disable Ipv6 on GNU / CentOS, Fedora, Debian, Redhat</b></span></div><div style="font-size: 12px;"><u><b><br/></b></u></div></div></div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px; font-size: 12px;"><div><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><div><a href="http://www.php2s.com/linux/how-to-disable-ipv6-on-gnu-centos-fedora-debian-redhat.html">http://www.php2s.com/linux/how-to-disable-ipv6-on-gnu-centos-fedora-debian-redhat.html</a></div></div></div>
 </div></blockquote><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><div style="font-size: 12px;"><div><p><strong>Disabling IPv6 network protocol on Linux</strong> if not used has 2 reasons:</p><ol><li><strong>Security</strong> (It’s well known security practice to disable anything not used on a server)<br/>
Besides that IPv6 has been known for few criticil security vulnerabilities, which has historically affected the Linux kernel.</li><li><strong>Performance</strong> (Sometimes disabling IPv6 could have positive impact on IPv4 especially on heavy traffic network servers).<br/>
I’ve red people claiming <em>disabling IPv6</em> improves the DNS performance, however since this is not rumors and did not check it personally I cannot positively confirm this.</li></ol></div><div>On <span style="color: #800080;"><strong>Fedora</strong>/<strong>CentOS</strong></span> there is a another <strong>universal “<span style="color: #800080;">Redhat</span>” way disable IPv6</strong>.</div><p>On them disabling IPv6 is done by editting <b><span style="color: #800000;">/etc/sysconfig/</span>network</b> and adding:</p><blockquote><p><code><b><font color="#E30000" face="Tahoma">NETWORKING_IPV6=no<br/>
IPV6INIT=no</font></b></code></p></blockquote></div></div></div></div><hr style="font-size: 12px;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><div><b style="font-size: 24px;">Installing latest Apache 2.4.x and Tomcat 7 from Source instead of RHEL Yum repository for better performance</b></div></div></div><ul style="font-size: 12px;"><li><a href="http://www.thegeekstuff.com/2012/05/install-apache-2-on-centos-6/">http://www.thegeekstuff.com/2012/05/install-apache-2-on-centos-6/</a></li><li><a href="http://www.thegeekstuff.com/2012/05/install-apache-2-on-centos-6/">http://httpd.apache.org/docs/2.4/en/</a></li><li><a href="http://tomcat.apache.org/">http://tomcat.apache.org</a> </li><li><a href="http://www.packtpub.com/books/all?keys=apache">http://www.packtpub.com/books/all?keys=apache</a> </li><li><a href="http://www.packtpub.com/books/all?keys=tomcat">http://www.packtpub.com/books/all?keys=tomcat</a> </li></ul><div style="font-size: 12px;"><br/></div><span style="font-size: 12px;">Instead of installing Apache 2.2.x and Tomcat 6 available from RHEL6 YUM repositories, customer already have up-to-date Apache and Tomcat releases compiled from source code. The purpose of these servers were to run highly optimized Apache and Tomcat instances, and therefore a specifc tuned compilation with latest releases has lots of sense (even though Red Hat always recommend to set up software from its Yum repositories). Another good advantage is to have all the Apache and Tomcat instances (binaries, config files and data) installed on separated directories, one per instance, in /opt/apache and /opt/tomcat. These directories can be easily migrated/copied to newer infrastructure with the help of rsync. </span><div style="font-size: 12px;"><br/></div><div><span style="font-size: 12px;">Ownership of /opt/apache and /opt/tomcat belong to 'apache' and 'tomcat' user accounts, which is also advisable for giving full access to these users (WebApp administrators and/or senior developers, depending on the organization chart) without compromising the system security. Take into account that our Apache and Tomcat instances run on non-root ports (&gt; 1024) and hence no root privileges or sudo commands are required to start/stop these services.</span><br style="font-size: 12px;"/><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><div style="font-size: 12px;"><br/></div></div></div></div></div><hr style="font-size: 12px; white-space: normal;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><pre style="font-size: 24px;"><font face="Tahoma"><span style="white-space: normal;"><b>Apache and Tomcat migration: updating config files on multiple instances with sed</b></span></font></pre></div><div style="font-size: 12px; text-align: -webkit-auto;"><pre style="white-space: normal;"><font face="Tahoma">'sed' CLI examples to be applied on each instance:
</font></pre></div></div><span style="font-size: 11px;"><font face="Arial">sed -i &quot;s#\(^&lt;Server port=\)\(\&quot;.*\&quot;\)#\1\&quot;8009\&quot;#g&quot; /opt/apache/tomcat/conf/server.xml</font></span></div><div style="font-size: 11px;"><font face="Arial">sed -i &quot;s#\(&lt;Connector port=\)\(\&quot;.*\&quot;\)\(protocol=\&quot;HTTP/1.1\&quot;[[:space:]]*\)#\1\&quot;9093\&quot;\2#g&quot; /opt/apache/tomcat/conf/server.xml</font></div><div style="font-size: 11px;"><font face="Arial">sed -i &quot;s#\(&lt;Connector port=\)\(\&quot;.*\&quot;\)\(protocol=\&quot;HTTP/1.1\&quot; SSLEnabled=\&quot;true\&quot;[[:space:]]*\)#\1\&quot;8445\&quot;\2#g&quot; /opt/apache/tomcat/conf/server.xml</font></div><div style="font-size: 11px;"><font face="Arial"><br/></font></div><div><span style="font-size: 11px;"><font face="Arial">sed -i &quot;s#\(jvmRoute=\)\(\&quot;.*\&quot;\)#\1\&quot;myTomcatApp\&quot;#g&quot; /opt/apache/tomcat/conf/server.xml</font></span></div><div><font face="Arial"><span style="font-size: 11px;"><br/></span></font><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><pre style="white-space: normal; font-size: 24px;"><b><font face="Tahoma">Shell script for searching and replacing an IP address on multiple config files within specific directories (recursively)</font></b></pre><pre style="font-size: 12px; white-space: normal;"><font face="Tahoma">Backup files are created:
</font></pre></div></div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px;"><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><pre style="white-space: normal; font-size: 11px;"><font face="Arial">#!/bin/bash -x<br/>for dir in /dir1 /dir2 /dir3 /dir4<br/>do<br/>FILES=$(find $dir -type f \( ! -name &quot;*.log&quot; \) -exec grep -li '192.168.xxx.xxx' {} \;)<br/>for f in $FILES;do<br/>echo $f;<br/>cp $f &quot;$f.backupA&quot;<br/>sed -i &quot;s#192.168.xxx.xxx#192.168.yyy.yyy#g&quot; $f<br/>cp $f &quot;$f.backupB&quot;<br/>done<br/>done
</font></pre></div></div></blockquote><div align="left" style="text-align: -webkit-left;"><div style="text-align: -webkit-auto;"><pre style="white-space: normal; font-size: 24px;"><b><font face="Tahoma">Multiple Search/Replace Operations on Multiple Recursive Files (Perl script)
</font></b></pre><pre style="font-size: 12px; white-space: normal;"></pre><ul style="font-size: 12px;"><li><a href="http://www.unixgods.org/~tilo/replace_string/">http://www.unixgods.org/~tilo/replace_string/</a> :  <tt>replace_string</tt> consistently changes/modifies any number of text files, either interactively or in batch mode, either with or without keeping backups, preserve modes/owner when run as root. It enables you to do a dry-run in interactive mode to see how your regular expressions will work, before you process all files in batch mode.  </li></ul><pre style="font-size: 12px; white-space: normal;"><font face="Tahoma"><br/></font></pre></div></div></div></div><hr style="font-size: 12px; white-space: normal;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><div align="left" style="white-space: normal; text-align: -webkit-left; font-size: 12px;"><br/></div><div align="left" style="white-space: normal; text-align: -webkit-left;"><div align="left" style="font-size: 24px;"><b><span style="text-align: -webkit-auto;">SNMP commands: </span>Retrieving Performance Data over SNMP</b></div><div align="left" style="font-size: 12px;"><div align="left"><br/></div></div></div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px; font-size: 12px;"><div align="left" style="white-space: normal; text-align: -webkit-left;"><div align="left"><div align="left">snmpwalk -c myCommunity -v 2c localhost UCD-SNMP-MIB::systemStats</div></div></div><div align="left" style="white-space: normal; text-align: -webkit-left;"><div align="left"><div align="left">snmpwalk -c myCommunity -v 2c localhost IF-MIB::ifDescr</div></div></div><div align="left" style="white-space: normal; text-align: -webkit-left;"><div align="left"><div align="left">snmptable -c myCommunity -v 2c -Cb localhost UCD-DISKIO-MIB::diskIOTable</div></div></div><div align="left" style="white-space: normal; text-align: -webkit-left;"><div align="left"><div align="left">snmptable -c myCommunity -v 2c -Cb localhost HOST-RESOURCES-MIB::hrStorageTable</div></div></div><div align="left" style="white-space: normal; text-align: -webkit-left;"><div align="left"><div align="left">snmpwalk -c myCommunity -v 2c localhost UCD-SNMP-MIB::memory</div></div></div><div align="left" style="white-space: normal; text-align: -webkit-left;"><div align="left"><div align="left">snmptable -c myCommunity -v 2c localhost UCD-SNMP-MIB::laTable</div></div></div><div align="left" style="white-space: normal; text-align: -webkit-left;"><div align="left"><div align="left">snmptable -c myCommunity -v 2c -Cb localhost IF-MIB::ifTable</div></div></div><div align="left" style="white-space: normal; text-align: -webkit-left;"><div align="left"><div align="left">snmpwalk -c myCommunity -v 2c localhost IF-MIB::ifOutOctets</div></div></div><div align="left" style="white-space: normal; text-align: -webkit-left;"><div align="left"><div align="left">snmpwalk -c myCommunity -v 2c localhost IF-MIB::ifInOctets</div></div></div><div align="left" style="white-space: normal; text-align: -webkit-left;"><div align="left"><div align="left"><br/></div></div></div><div align="left" style="white-space: normal; text-align: -webkit-left;"><div align="left"><div align="left"><a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/sect-System_Monitoring_Tools-Net-SNMP-Retrieving.html">http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/sect-System_Monitoring_Tools-Net-SNMP-Retrieving.html</a></div></div></div></blockquote><div><div align="left" style="font-size: 12px; white-space: normal; text-align: -webkit-left;"><div align="left"><div align="left"><br/></div></div></div><div align="left" style="font-size: 12px; white-space: normal; text-align: -webkit-left;"><br/></div><div><div align="left"><div align="left"><div style="font-size: 24px;"><b>Setting up Libvirt-snmp</b></div><div style="font-size: 12px;"><br/><a href="http://wiki.libvirt.org/page/Libvirt-snmp">http://wiki.libvirt.org/page/Libvirt-snmp</a></div><div style="font-size: 12px;"><font color="#FF0000"><b><br/></b></font></div><div style="font-size: 12px;"><font color="#FF0000"><b>1) It is also important to let snmptrap daemon load libvirt MIB module. This can be done by adding '-m ALL' to snmptrapd startup options (/etc/sysconfig/snmptrapd):</b></font></div><div style="font-size: 12px;"><br/></div><pre style="font-size: 12px; white-space: normal;"><font face="Tahoma">OPTIONS=&quot;-m ALL -p /var/run/snmptrapd.pid&quot;</font></pre><pre style="font-size: 12px;"><b style="color: rgb(255, 0, 0); white-space: normal;"><font face="Tahoma">2) </font></b></pre></div></div><div align="left" style="font-size: 12px; white-space: normal;"><font color="#FF0000"><b>[root@servidorA init]# cat /etc/init/libvirtMib_subagent.conf</b></font><br/><b>start on runlevel 3<br/><br/>
respawn<br/><br/>
env LIBVIRT_DEFAULT_URI=&quot;qemu:///system&quot;<br/>
exec /usr/bin/libvirtMib_subagent -f</b></div><div align="left" style="font-size: 12px; white-space: normal;"><br/></div><div align="left" style="font-size: 12px; white-space: normal;"><b><font color="#FF0000">3) </font></b><b><font color="#FF0000"> /etc/snmp/snmpd.conf:</font></b></div><div align="left" style="font-size: 12px; white-space: normal;"><br/></div><div align="left" style="font-size: 12px; white-space: normal;">####                                                                                                                                                                <br/>
# First, map the community name &quot;public&quot; into a &quot;security name&quot;                                                                                                     <br/><br/>
#       sec.name  source          community                                                                                                                         <br/>
#com2sec notConfigUser  default       public                                                                                                                        <br/><br/>
# inaki:                                                                                                                                                            <br/>
rwcommunity public          -&gt; cambiar 'public' por 'myCommunity'</div><div align="left" style="font-size: 12px; white-space: normal;">master agentx<br/>
trapcommunity public<br/>
trap2sink  localhost<br/></div><div align="left" style="font-size: 12px; white-space: normal;"><b><br/></b></div><div align="left" style="font-size: 12px; white-space: normal;"><font color="#E30000"><b>4) </b></font></div><div align="left" style="font-size: 12px; white-space: normal;"><b>[user@servidorA ~]$ snmpwalk -m ALL -v 2c -c public -OX localhost libvirtMIB</b><br/>
LIBVIRT-MIB::libvirtGuestName[STRING: 6b542431-5ce0-72fe-ef9-ec4cb93d4b54] = STRING: &quot;servidorVirtualA&quot;<br/>
LIBVIRT-MIB::libvirtGuestName[STRING: d4b8e601-f3d4-63dd-1e26-65da24439a05] = STRING: &quot;servidorVirtualB&quot;<br/>
LIBVIRT-MIB::libvirtGuestState[STRING: 6b542431-5ce0-72fe-ef9-ec4cb93d4b54] = INTEGER: running(1)<br/>
LIBVIRT-MIB::libvirtGuestState[STRING: d4b8e601-f3d4-63dd-1e26-65da24439a05] = INTEGER: running(1)<br/>
LIBVIRT-MIB::libvirtGuestCpuCount[STRING: 6b542431-5ce0-72fe-ef9-ec4cb93d4b54] = Gauge32: 8<br/>
LIBVIRT-MIB::libvirtGuestCpuCount[STRING: d4b8e601-f3d4-63dd-1e26-65da24439a05] = Gauge32: 4<br/>
LIBVIRT-MIB::libvirtGuestMemoryCurrent[STRING: 6b542431-5ce0-72fe-ef9-ec4cb93d4b54] = Gauge32: 16384<br/>
LIBVIRT-MIB::libvirtGuestMemoryCurrent[STRING: d4b8e601-f3d4-63dd-1e26-65da24439a05] = Gauge32: 8192<br/>
LIBVIRT-MIB::libvirtGuestMemoryLimit[STRING: 6b542431-5ce0-72fe-ef9-ec4cb93d4b54] = Gauge32: 16384<br/>
LIBVIRT-MIB::libvirtGuestMemoryLimit[STRING: d4b8e601-f3d4-63dd-1e26-65da24439a05] = Gauge32: 8192<br/>
LIBVIRT-MIB::libvirtGuestCpuTime[STRING: 6b542431-5ce0-72fe-ef9-ec4cb93d4b54] = Counter64: 8634270000000<br/>
LIBVIRT-MIB::libvirtGuestCpuTime[STRING: d4b8e601-f3d4-63dd-1e26-65da24439a05] = Counter64: 3607110000000<br/>
LIBVIRT-MIB::libvirtGuestRowStatus[STRING: 6b542431-5ce0-72fe-ef9-ec4cb93d4b54] = INTEGER: active(1)<br/>
LIBVIRT-MIB::libvirtGuestRowStatus[STRING: d4b8e601-f3d4-63dd-1e26-65da24439a05] = INTEGER: active(1)<br/></div><br/></div><div align="left" style="font-size: 12px;"><br/></div><blockquote style="font-size: 12px; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div align="left"><a href="http://forums.cacti.net/about34826.html">http://forums.cacti.net/about34826.html</a></div></blockquote></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div align="left"><br/></div></blockquote></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div align="left">As you can see in this top output and the screenshot, top reports the usage, but the graph is at 5%.</div></blockquote></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div align="left">Or does this mean all the VM just take 5% of the available CPU time?</div></blockquote></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div align="left"><br/></div></blockquote></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div align="left">  im playing arround with KVM and noticed that cacti does not count the ussage of all the VMs. Is there maybe a OID that reports this total CPU usage?</div></blockquote></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div align="left"><br/></div></blockquote></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div align="left"><br/></div></blockquote></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div align="left">Assuming that you are running cacti on a linux machine... what do you get from snmpwalk command:</div></blockquote></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div align="left"> snmpwalk -v &lt;your SNMP version&gt; -c public HOSTNAME cpu</div></blockquote></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div align="left"><br/></div></blockquote></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div align="left"><b><font color="#FF0000">[operator@servidorA ~]$ snmpwalk -v 2c -c myCommunity localhost cpu</font></b></div></blockquote></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div align="left"><b><font color="#FF0000">UCD-SNMP-MIB::ssCpuRawSoftIRQ.0 = Counter32: 5640</font></b></div></blockquote></blockquote></blockquote><div align="left" style="font-size: 12px;"><br/></div></div></div></div><hr/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><div align="left" style="font-size: 12px;"><br/></div><div align="left" style="font-size: 24px;"><b>SNMP Monitoring: libvirt-snmp ZenOSS</b></div><div align="left" style="font-size: 12px;"><pre><font face="Tahoma">El cliente monitoriza los sistemas con la herramienta netMRG (<a href="http://www.netmrg.net/">http://www.netmrg.net/</a>), una herramienta algo obsoleta porque no existen actualizaciones desde 2008. Con esta herramienta monitorizan la carga (CPU, memoria, etc) de las máquinas físicas y virtuales Linux via SNMP (todas se monitorizan igual).
</font></pre><pre><font face="Tahoma">La monitorización de las máquinas virtuales KVM de RedHat como cualquier otra máquina física no se considera la mejor práctica en la industria de virtualización, sino más bien un atajo en la gestión de máquinas virtuales.

De ahí la conveniencia de monitorizar las VMs desde los propios hipervisores, y a ser posibles con herramientas de monitorización que soporten interfaz libvirt basadas en KVM ó cualquier otro hipervisor soportado por la interfaz libvirt.

Visitando la Web de libvirt-snmp, apartado 'monitoring', vemos las herramientas de monitorización que están mejor integradas con libvirt-snmp.</font></pre><pre><a href="http://libvirt.org/apps.html#monitoring"><font face="Tahoma">http://libvirt.org/apps.html#monitoring</font></a></pre><div align="left"><h2 style="font-size: 19px;"><a name="monitoring"><font size="3" style="font-size: 12px;"><u>Monitoring</u></font></a></h2><dl><dt><a href="http://collectd.org/plugins/libvirt.shtml">collectd</a></dt><dd>The libvirt-plugin is part of <a href="http://collectd.org/">collectd</a> and gathers statistics about virtualized guests on a system. This way, you can collect CPU, network interface and block device usage for each guest without installing collectd on the guest systems. For a full description, please refer to the libvirt section in the collectd.conf(5) manual page.</dd><dt><a href="http://honk.sigxcpu.org/projects/libvirt/#munin">Munin</a></dt><dd>The plugins provided by Guido Günther allow to monitor various things like network and block I/O with <a href="http://munin.projects.linpro.no/">Munin</a>.</dd><dt><a href="http://et.redhat.com/%7Erjones/nagios-virt/">Nagios-virt</a></dt><dd>Nagios-virt is a configuration tool to add monitoring of your virtualised domains to <a href="http://www.nagios.org/">Nagios</a>. You can use this tool to either set up a new Nagios installation for your Xen or QEMU/KVM guests, or to integrate with your existing Nagios installation.</dd><dt><a href="http://community.zenoss.org/docs/DOC-4687">Zenoss</a></dt><dd><b>The Zenoss libvirt Zenpack adds support for monitoring virtualization servers. It has been tested with KVM, QEMU, VMware ESX, and VMware GSX.</b></dd><dd><br/></dd></dl></div><pre><font face="Tahoma"><font color="#FF0000">De todas ellas, quizás <u>ZenOSS</u> sea la que mejor se integra y ofrece información más útil,</font><font color="#FF0000"> con soporte de RHEL/CentOS 5/6 64-bit</font><font color="#FF0000">. </font></font></pre><pre><font face="Tahoma"><font color="#FF0000">Perhaps ZenOSS is the most complete and best intregated tool with RHEL/CentOS 5/6 64-bit support. </font></font></pre><pre><font face="Tahoma"><b><u>Example: Monitoring Systems for OpenStack:</u></b></font></pre><ul><li><font face="Tahoma"><a href="http://lists.openstack.org/pipermail/openstack-operators/2012-August/002008.html">http://lists.openstack.org/pipermail/openstack-operators/2012-August/002008.html</a> </font></li><li><font face="Tahoma"><b>Metering:</b> <a href="http://wiki.openstack.org/EfficientMetering">http://wiki.openstack.org/EfficientMetering</a></font></li><li><a href="http://wiki.openstack.org/SystemUsageData"><font face="Tahoma">http://wiki.openstack.org/SystemUsageData</font></a></li><li><font face="Tahoma">Monitoring Compute Services with <b>Munin</b></font></li><li><font face="Tahoma">Monitoring Instances using Munin and <b>collectd</b></font></li><li><font face="Tahoma">Monitoring Storage Service using <b>StatsD/Graphite</b></font></li><li style="list-style: none; display: inline"><ul><li><a href="https://github.com/etsy/statsd"><font face="Tahoma">https://github.com/etsy/statsd</font></a></li><li><a href="http://graphite.wikidot.com/"><font face="Tahoma">http://graphite.wikidot.com/</font></a></li></ul></li><li><font face="Tahoma">Monitoring MySQL with <b>Hyperic</b></font></li><li style="list-style: none; display: inline"><ul><li><a href="http://www.hyperic.com/"><font face="Tahoma">http://www.hyperic.com/</font></a></li></ul></li><li><font face="Tahoma"><b>Zabbix</b> <a href="http://www.zabbix.com/">http://www.zabbix.com/</a></font></li><li><font face="Tahoma"><b>Icinga</b> <a href="https://www.icinga.org/">https://www.icinga.org/</a></font></li><li><font face="Tahoma">etc.</font></li></ul><pre><font face="Tahoma">Capturas de pantalla de ZenOSS (<u>la última versión disponible ZenOSS 4 ofrece una interfaz mejorada y más funcional, además de ser fácilmente actualizable vía repositorios/RPMs</u>): 
</font></pre></div><blockquote style="font-size: 12px; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><div align="left"><pre><font face="Tahoma"><a href="http://www.youtube.com/watch?v=-xF98IaABg8">http://www.youtube.com/watch?v=-xF98IaABg8</a> (ZenOSS 4 Deployment)
</font></pre></div></blockquote><div align="left" style="font-size: 12px;"><pre><font face="Tahoma">     </font>   <a href="http://community.zenoss.org/docs/DOC-4687" style="font-family: Tahoma;">http://community.zenoss.org/docs/DOC-4687</a><span style="font-family: Tahoma;"> (ZenOSS 2.5 screenshots)</span></pre></div><blockquote style="font-size: 12px; margin: 0px 0px 0px 40px; border: none; padding: 0px;"><div align="left"><pre><font face="Tahoma"><a href="http://community.zenoss.org/blogs/zenossblog/2012/08/06/core-4-wiki">http://community.zenoss.org/blogs/zenossblog/2012/08/06/core-4-wiki</a> (ZenOSS 4 Wiki)
</font></pre><pre><font face="Tahoma"><a href="http://www.youtube.com/watch?v=CjXOXUI6WUo">http://www.youtube.com/watch?v=CjXOXUI6WUo</a> (ZenOSS 4 preview)
</font></pre><pre><font face="Tahoma"><a href="http://www.youtube.com/watch?v=eaNO7J_DUKQ">http://www.youtube.com/watch?v=eaNO7J_DUKQ</a> (What's new in ZenOSS Core 4)
</font></pre><pre><font face="Tahoma"><a href="http://www.youtube.com/watch?v=8uP4O7mBXbs">http://www.youtube.com/watch?v=8uP4O7mBXbs</a> (ZenOSS application monitoring)
</font></pre><pre><font face="Tahoma"><a href="http://www.youtube.com/watch?v=LssQIHdtOD8">http://www.youtube.com/watch?v=LssQIHdtOD8</a> (ZenOSS monitoring for the modern Data Center - What We Do)
</font></pre><pre><font face="Tahoma"><a href="http://www.linux.com/learn/tutorials/616413-zenoss-your-all-seeing-network-eye-in-the-sky">http://www.linux.com/learn/tutorials/616413-zenoss-your-all-seeing-network-eye-in-the-sky</a> (zenoss vs nagios)</font></pre></div></blockquote><div style="font-size: 12px;"><pre style="text-align: -webkit-left;" xml:space="preserve"><font face="Tahoma"><u><b>ZenOSS 4:</b></u></font></pre></div><div align="left" style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [18].png" type="image/png" height="528" style="cursor: default; height: auto;" width="1024"/></div><div align="left" style="font-size: 12px;"><br/></div><div align="left" style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [19].png" type="image/png" height="965" style="cursor: default; height: auto;" width="1117"/></div><div align="left" style="font-size: 12px;"><br/></div><div align="left" style="font-size: 12px;"><pre xml:space="preserve"><font face="Tahoma"><u><b>ZenOSS 2.5:</b></u></font></pre><pre xml:space="preserve"></pre><div><p style="white-space: normal;"><font><font face="Tahoma">REQUIREMENTS:</font></font></p><ul style="white-space: normal;"><li><font face="Tahoma"><strong>Zenoss  Version</strong>: 2.5</font></li><li><font face="Tahoma"><strong>ZenPack Dependencies</strong>: n/a<br/></font></li><li><font face="Tahoma"><strong>External  Dependencies</strong>: You need libvirt installed along with the python API</font></li><li><font><font face="Tahoma"><strong>Installation</strong>:  You will need to setup an ssh account on the remote libvirtd host with automatic login from the zenoss user on the monitoring  host.  You will need to set the <strong>zLibvirtUsername</strong> for a user on the remote box to which zenoss can ssh to without a password.</font></font></li></ul></div></div><div align="left" style="font-size: 12px;"><br/></div><div align="left" style="font-size: 12px;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/Image [20].png" type="image/png" height="827" style="cursor: default; height: auto;" width="873"/></div><div align="left" style="font-size: 12px;"><p><b><br/></b></p></div></div></div><hr style="font-size: 12px; white-space: normal;"/><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><pre style="white-space: normal; font-size: 24px;"><b style="white-space: normal;"><font face="Tahoma">JMeter load testing tool</font></b></pre><pre style="font-size: 12px; white-space: normal;"></pre><ul><li style="font-size: 12px;"><a href="http://wiki.apache.org/jmeter/">http://wiki.apache.org/jmeter/</a></li><li style="font-size: 12px;"><b><a href="http://community.blazemeter.com/knowledgebase/articles/34412-performance-metrics-for-websites">Performance Metrics for Websites</a> ***</b></li><li style="font-size: 12px;"><b><a href="http://community.blazemeter.com/">http://community.blazemeter.com/</a>:</b> <b><a href="http://community.blazemeter.com/knowledgebase/topics/10018-jmeter-tutorials">JMeter Tutorials</a> *** <a href="http://community.blazemeter.com/knowledgebase/topics/14250-videos-tutorials">Videos and Tutorials</a></b></li><li style="font-size: 12px;"><b>Video Tutorial/Weminar:</b> Using <strong>Apache</strong> <strong>JMeter</strong> to Load Test ADF Applications - ADF Insider: <a href="http://download.oracle.com/otn_hosted_doc/jdeveloper/11gdemos/adfjmeter/adfjmeter.html?utm_source=dlvr.it&amp;utm_medium=twitter">http://download.oracle.com/otn_hosted_doc/jdeveloper/11gdemos/adfjmeter/adfjmeter.html?utm_source=dlvr.it&amp;utm_medium=twitter</a></li><li style="font-size: 12px;"><a href="http://wiki.apache.org/jmeter/JMeterLinks">http://wiki.apache.org/jmeter/JMeterLinks</a></li><li style="font-size: 12px;"><a href="http://www.ibm.com/developerworks/data/library/techarticle/0303bhogal/0303bhogal.html">Putting Your DB2 Database to the Test: Measuring Performance with JMeter</a> -&gt; An example of how to perform a Load Test on a Database</li><li style="font-size: 12px;"><a href="http://jmeter-tips.blogspot.com.es/">http://jmeter-tips.blogspot.com.es/</a></li><li style="font-size: 12px;"><a href="http://code.google.com/p/jmeter-plugins/">http://code.google.com/p/jmeter-plugins/</a></li><li style="font-size: 12px;"><a href="http://blazemeter.com/blog/top-3-gui-improvements-jmeter-27">Top 3 GUI improvements: JMeter 2.7</a></li><li style="font-size: 12px;"><b><a href="http://www.javapassion.com/handsonlabs/javatestjmeter/index.html" rel="nofollow">JavaPassion LAB 1077: JMeter Load Testing</a></b></li><li style="font-size: 12px;"><b><a href="http://jmeter.apache.org/changes.html">http://jmeter.apache.org/changes.html</a> ***</b></li><li style="font-size: 12px;"><a href="http://community.blazemeter.com/knowledgebase/articles/115022-how-to-make-jmeter-behave-closer-to-a-real-browser">How to make JMeter behave more like a real browser</a></li><li style="font-size: 12px;"><a href="http://blazemeter.com/blog/top-2-techniques-get-jmeter-test-results-non-gui-mode">Stop fiddling around. Here are the top 2 techniques to get JMeter test results in non-GUI mode</a></li><li style="font-size: 12px;">BlazeMeter Just Works! <a href="http://www.dantoomeysoftware.com/pencils-down/2012/11/07/blazemeter-just-works/">http://www.dantoomeysoftware.com/pencils-down/2012/11/07/blazemeter-just-works/</a> </li><li style="font-size: 12px;">Blazemeter Integration with CloudBees: Using BlazeMeter's Jenkins Plugin <a href="http://www.youtube.com/watch?v=A2vn7ps5SF0">www.youtube.com/watch?v=A2vn7ps5SF0</a> </li><li style="font-size: 12px;"><b>Using BeanShell in JMeter scripts:</b></li><li style="list-style: none; display: inline"><ul style="font-size: 12px;"><li><a href="https://jmeter.apache.org/usermanual/component_reference.html#BeanShell_Sampler">https://jmeter.apache.org/usermanual/component_reference.html#BeanShell_Sampler</a> </li><li><a href="http://capacitas.wordpress.com/2012/10/31/using-the-power-of-java-programming-in-your-jmeter-scripts-beanshell/">http://capacitas.wordpress.com/2012/10/31/using-the-power-of-java-programming-in-your-jmeter-scripts-beanshell/</a> </li></ul></li><li><span style="font-size: 12px;">Stress/Load-Testing of Asynchronous HTTP/REST Services with JMeter <a href="http://www.codeaffine.com/2011/11/28/stressload-testing-of-asynchronous-httprest-services-with-jmeter/">http://www.codeaffine.com/2011/11/28/stressload-testing-of-asynchronous-httprest-services-with-jmeter/</a></span></li><li><span style="font-size: 12px;"><b>Performance Analysis of REST/HTTP Services with JMeter and <font color="#E30000">Yourkit</font></b> (.Net &amp; Java profiling) <b>***</b></span></li><li style="list-style: none; display: inline"><ul><li><span style="font-size: 12px;"><a href="http://www.javacodegeeks.com/2012/11/performance-analysis-of-resthttp-services-with-jmeter-and-yourkit.html">http://www.javacodegeeks.com/2012/11/performance-analysis-of-resthttp-services-with-jmeter-and-yourkit.html</a></span></li><li><span style="font-size: 12px;"><a href="http://www.codeaffine.com/2012/02/10/performance-analysis-of-resthttp-services-with-jmeter-and-yourkit/">http://www.codeaffine.com/2012/02/10/performance-analysis-of-resthttp-services-with-jmeter-and-yourkit/</a></span> </li></ul></li></ul><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><u>JMETER BEST PRACTICES: 16.6 Reducing resource requirementsSome suggestions on reducing resource usage.</u><br/><br/>
     * Use non-GUI mode: jmeter -n -t test.jmx -l test.jtl<br/>
     * Use as few Listeners as possible; if using the -l flag as above they can all be deleted or disabled.<br/>
     * Rather than using lots of similar samplers, use the same sampler in a loop, and use variables (CSV Data Set) to vary the sample. Or perhaps use the Access Log Sampler. [The Include Controller does not help here, as it adds all the test elements in the file to the test plan.]<br/>
     * Don't use functional mode<br/>
     * Use CSV output rather than XML<br/>
     * Only save the data that you need<br/>
     * Use as few Assertions as possible</div><div style="font-size: 12px;">If your test needs large amounts of data - particularly if it needs to be randomised - create the test data in a file that can be read with CSV Dataset. This avoids wasting resources at run-time.</div><div style="font-size: 12px; white-space: normal;"><br/></div><div style="white-space: normal;"><div><pre style="white-space: normal;"><u><font face="Tahoma"><b>Primeras pruebas de carga, no optimizado, resultados no válidos. <span style="color: rgb(28, 51, 135);">F</span><span style="color: rgb(28, 51, 135);">irst load test, not optimized and results not valid:</span></b></font></u></pre></div></div><div style="font-size: 12px; white-space: normal;"><br/></div><div style="font-size: 12px; white-space: normal;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/jmeter1.png" type="image/png" height="744" style="cursor: default; height: auto;" width="1024"/><br/></div><div style="font-size: 12px; white-space: normal;"><br/></div><div style="font-size: 12px; white-space: normal;"><div style="font-size: medium;">90% Line: El 90% de las pruebas/peticiones están por debajo de ese tiempo de respuesta (6 segundos)</div><div style="font-size: medium;"><br/></div><div style="font-size: medium;"><font color="#1C3387">90% Line: 90% of the tests/requests are below that threshold/response time (6 seconds) </font></div></div><div style="font-size: 12px; white-space: normal;"><br/></div><div style="font-size: 12px; white-space: normal;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/jmeter2.png" type="image/png" height="744" style="cursor: default; height: auto;" width="1024"/><br/></div><div style="font-size: 12px; white-space: normal;"><br/></div><div style="font-size: 12px; white-space: normal;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/jmeter3.png" type="image/png" height="744" style="cursor: default; height: auto;" width="1024"/><br/></div><div style="font-size: 12px; white-space: normal;"><br/></div><div style="font-size: 12px; white-space: normal;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/jmeter4.png" type="image/png" height="744" style="cursor: default; height: auto;" width="1024"/><br/></div><div style="font-size: 12px; white-space: normal;"><br/></div><div style="font-size: 12px; white-space: normal;"><br/></div><div style="font-size: 12px; white-space: normal;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/jmeter5.png" type="image/png" height="744" style="cursor: default; height: auto;" width="1024"/><br/></div><div style="font-size: 12px; white-space: normal;"><br/></div><div style="font-size: 12px; white-space: normal;"><div style="font-size: medium;">homeprueba.jsp realiza numerosas consultas a la BBDD. Las consultas son de lectura, menos costosas que las operaciones de escritura sobre objetos ORM/Hibernate. </div><div style="font-size: medium;"><br/></div><div style="font-size: medium;"><font color="#1C3387">homeprueba.jsp launches concurrent read queries/transactions onto the database. These read transactions are much lighter/faster than heavy write operations on com</font></div></div><div style="font-size: 12px; white-space: normal;"><br/></div><div style="font-size: 12px; white-space: normal;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/jmeter6.png" type="image/png" height="744" style="cursor: default; height: auto;" width="1024"/><br/></div><div style="font-size: 12px; white-space: normal;"><br/></div><div style="font-size: 12px; white-space: normal;"><div><div style="font-size: medium;">EXCESIVO, NUESTRA MÁQUINA VIRTUAL DISPONE DE RECURSOS SUFICIENTES PARA TOLERAR ESTOS PARÁMETROS, PERO HEMOS COLAPSADO EL TOMCAT CON TANTAS PETICIONES SIMULTÁNEAS, y en cambio no hemos cargado de peticiones el backend/BBDD (el cuello de botella es el Tomcat). Debemos empezar con tantos threads/users como ramp-up period, <font color="#FF0000" style="font-weight: bold;">por ejemplo 100 threads y 100 de ramp-up period, con 1 Loop Count (empezar con 20/20/1, incrementando los valores en cada prueba).</font> <font>De esta manera no enviaremos otra petición hasta que la anterior haya sido lanzada (1 segundo por petición/usuario/thread).</font></div><div style="font-size: medium;"><font><br/></font></div><div style="font-size: medium;"><font color="#1C3387"><span lang="en">EXCESSIVE, our virtual machine has sufficient resources to withstand these parameters, but we collapsed Tomcat with too many simultaneous requests and without loading/testing the database (Tomcat is the bottleneck). We start with many threads/users as ramp-up period, <b>for example 100 threads and 100 ramp-up period, with 1 Loop Count</b> <b>(starting with 20/20/1 , increasing the values ​​in each test)</b>. We don't send another request until the previous one has been released (1 second per request/user/thread).</span></font></div><br/></div></div><div style="font-size: 12px; white-space: normal;"><br/></div><div style="font-size: 12px; white-space: normal;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/jmeter7.png" type="image/png" height="744" style="cursor: default; height: auto;" width="1024"/><br/></div><div style="font-size: 12px; white-space: normal;"><br/></div><div style="font-size: 12px; white-space: normal;"><div><span style="font-size: medium;">Throughput = 2.006 requests per minute</span></div></div><div style="font-size: 12px; white-space: normal;"><br/></div><div style="font-size: 12px; white-space: normal;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/jmeter8.png" type="image/png" height="744" style="cursor: default; height: auto;" width="1024"/><br/></div><div style="font-size: 12px; white-space: normal;"><br/></div><div style="font-size: 12px; white-space: normal;"><img src="RHEL6_KVM_Tomcat_DellR720_deployment_files/jmeter9.png" type="image/png" height="744" style="cursor: default; height: auto;" width="1024"/><br/></div><div style="font-size: 12px; white-space: normal;"><br/></div></div><table style="text-align: left;white-space: normal;width:35px;"><tbody><tr><td style="width:100%;"><div><br/></div></td></tr></tbody></table></div></span>
</div></body></html> 